/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t,e,n={945:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(81),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([t.id,".monthItem {\r\n    display: grid;\r\n    grid-template-columns: 33% 33% 34%;\r\n    float: right;\r\n    margin: auto;\r\n}\r\n\r\n.monthIncome,\r\n.monthExpense,\r\n.monthTotal {\r\n    position: relative;\r\n    float: right;\r\n    color: #FFFFFF;\r\n    width: 95px;\r\n    height: 55px;\r\n    font-size: 20px;\r\n    font-weight: 700;\r\n    border-radius: 5px;\r\n    border: none;\r\n    display: grid;\r\n    grid-template: 100%;\r\n    text-align: center;\r\n    padding: 3px;\r\n    letter-spacing: 1px;\r\n}\r\n\r\n.monthIncome {\r\n    background-color: #698269;\r\n    margin-right: 20px;\r\n}\r\n\r\n.monthExpense {\r\n    background-color: #AA5656;\r\n    margin-right: 20px;\r\n}\r\n\r\n.monthTotal {\r\n    background-color: #B99B6B;\r\n}\r\n\r\n.chartContainer{\r\n    display: grid;\r\n    grid-template-columns: 10% 85% 5%;\r\n    padding-top: 50px;\r\n    margin-bottom: 100px;\r\n}\r\n\r\n.cc {\r\n    display: grid;\r\n    width: 95%;\r\n    grid-template-columns: 50% 50%;\r\n    gap: 4%;\r\n}\r\n\r\n.chartBoard{\r\n    background-color: #FAFAF9;\r\n    width: min(100%, 1200px);\r\n    height: 400px;\r\n    border-radius: 30px;\r\n    -moz-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    -webkit-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    animation: fadeIn 1.5s;\r\n}\r\n\r\n.chartTitle{\r\n    font-size: 24px;\r\n    font-weight: 700;\r\n    background-color: #a79883;\r\n    color: #FFFFFF;\r\n    text-align: center;\r\n    padding-top: 20px;\r\n    padding-bottom: 15px;\r\n    border-radius: 30px 30px 0px 0px;\r\n}\r\n\r\n.pie{\r\n    margin-top: -30px;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    width: 390px;\r\n}\r\n\r\n.nodata{\r\n   text-align: center;\r\n   margin-top: 45%;\r\n   font-size: 24px;\r\n   color: #AA5656;\r\n   font-weight: 700;\r\n   letter-spacing: 2px;\r\n   font-family: FakePearl-Regular;\r\n}\r\n\r\n.nodata2{\r\n    text-align: center;\r\n    margin-top: 22%;\r\n    font-size: 24px;\r\n    color: #AA5656;\r\n    font-weight: 700;\r\n    letter-spacing: 2px;\r\n    font-family: FakePearl-Regular;\r\n }\r\n\r\n.bar{\r\n    width: min(95%, 550px);\r\n    margin: auto;\r\n    padding-top: 30px;\r\n    height: auto;\r\n}\r\n\r\n@media only screen and (max-width: 1200px) {\r\n\r\n    .bar{\r\n        padding-top: 50px;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 950px) {\r\n    \r\n    .chartContainer {\r\n        display: grid;\r\n        grid-template-columns: 15% 80% 5%;\r\n    }\r\n\r\n    .cc {\r\n        grid-template-columns: 100%;\r\n    }\r\n\r\n    .chartContainer{\r\n        margin-bottom: 300px;\r\n    }\r\n    .bar{\r\n        padding-top: 30px;\r\n    }\r\n}\r\n\r\n\r\n@media only screen and (max-width: 750px) {\r\n\r\n    .chartContainer {\r\n        display: grid;\r\n        grid-template-columns: 17% 80% 3%;\r\n    }\r\n\r\n    .kb2 {\r\n        display: grid;\r\n        grid-template-columns: 100%;\r\n        margin: auto;\r\n        text-align: center;\r\n        float: right;\r\n        width: 98%;\r\n    }\r\n\r\n    .monthItem {\r\n        margin-top: 20px;\r\n        display: flex;\r\n    }\r\n\r\n    .monthIncome,\r\n    .monthExpense {\r\n        margin-right: 10px;\r\n    }\r\n\r\n    .monthIncome,\r\n    .monthExpense,\r\n    .monthTotal {\r\n        font-size: 18px;\r\n        height: 50px;\r\n    }\r\n\r\n}\r\n\r\n@media only screen and (max-width: 600px) {\r\n\r\n    .chartContainer {\r\n        display: grid;\r\n        grid-template-columns: 5% 95% 0%;\r\n    }\r\n\r\n    .cc {\r\n        grid-template-columns: 100%;\r\n    }\r\n\r\n    .bar{\r\n        padding-top: 45px;\r\n    }\r\n\r\n}\r\n\r\n@media only screen and (max-width: 450px) {\r\n\r\n    .chartBoard{\r\n        height: 310px;\r\n    }\r\n\r\n    .pie{\r\n        width: 300px;\r\n    }\r\n\r\n    .bar{\r\n        padding-top: 30px;\r\n    }\r\n\r\n}",""]);const s=a},761:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(81),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([t.id,".coverContainer {\r\n    display: grid;\r\n    grid-template-columns: 13% 84% 3%;\r\n    height: 1000px;\r\n}\r\n\r\n.ca {\r\n    display: grid;\r\n    grid-template-columns: 45% 55%;\r\n}\r\n\r\n.coverTitle {\r\n    font-family: 'Pacifico', cursive;\r\n    font-size: 60px;\r\n    color: #B99B6B;\r\n    font-weight: 700;\r\n    letter-spacing: 3px;\r\n    text-align: left;\r\n    padding-top: 50%;\r\n}\r\n\r\n.coverDetail {\r\n    color: #698269;\r\n    font-size: 20px;\r\n    font-weight: 700;\r\n    line-height: 30px;\r\n    letter-spacing: 1px;\r\n    text-align: left;\r\n    padding-top: 10px;\r\n    margin-right: 20px;\r\n    opacity: 0.8;\r\n}\r\n\r\n\r\n.coverContainer2 {\r\n    display: grid;\r\n    grid-template-columns: 10% 87% 3%;\r\n    height: 600px;\r\n    background-color: #fffcfa;\r\n    padding-top: 50px;\r\n    padding-bottom: 50px;\r\n}\r\n\r\n.coverContainer3 {\r\n    display: grid;\r\n    grid-template-columns: 10% 87% 3%;\r\n    height: 600px;\r\n    padding-top: 50px;\r\n    padding-bottom: 200px;\r\n}\r\n\r\n\r\n.coverSubTitle {\r\n    font-size: 50px;\r\n    color: #B99B6B;\r\n    font-weight: 700;\r\n    letter-spacing: 1px;\r\n    text-align: left;\r\n    margin-top: 250px;\r\n    margin-left: 10px;\r\n}\r\n\r\n.coverSubDetail {\r\n    color: #698269;\r\n    font-size: 20px;\r\n    font-weight: 700;\r\n    line-height: 30px;\r\n    letter-spacing: 1px;\r\n    text-align: left;\r\n    padding-top: 10px;\r\n    margin-left: 10px;\r\n    opacity: 0.8;\r\n}\r\n\r\n.coverSubTitle3 {\r\n    font-size: 50px;\r\n    color: #B99B6B;\r\n    font-weight: 700;\r\n    letter-spacing: 1px;\r\n    text-align: left;\r\n    padding-left: 20px;\r\n    margin-top: 300px;\r\n    margin-right: 10px;\r\n}\r\n\r\n.coverSubDetail3 {\r\n    color: #698269;\r\n    font-size: 20px;\r\n    font-weight: 700;\r\n    line-height: 30px;\r\n    letter-spacing: 1px;\r\n    text-align: left;\r\n    padding-top: 10px;\r\n    padding-left: 20px;\r\n    margin-right: 10px;\r\n    opacity: 0.8;\r\n}\r\n\r\n.img {\r\n    width: 90%;\r\n    margin-top: 130px;\r\n}\r\n\r\n.img2,\r\n.img3 {\r\n    width: 90%;\r\n    justify-content: center;\r\n    position: relative;\r\n    top: 50px;\r\n}\r\n\r\n.img2 {\r\n    -moz-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    -webkit-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n@media only screen and (max-width: 1920px) {\r\n\r\n    .img2,\r\n    .img3 {\r\n        position: relative;\r\n        top: 100px;\r\n    }\r\n\r\n    .coverContainer3 {\r\n        height: 600px;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 1260px) {\r\n\r\n    .coverContainer {\r\n        height: 700px;\r\n    }\r\n\r\n    .coverTitle {\r\n        font-size: 50px;\r\n    }\r\n\r\n    .coverSubTitle,\r\n    .coverSubTitle3 {\r\n        font-size: 40px;\r\n    }\r\n\r\n    .img2,\r\n    .img3 {\r\n        position: relative;\r\n        top: 180px;\r\n    }\r\n    .coverContainer3{\r\n        height: 550px;\r\n    }\r\n\r\n}\r\n\r\n@media only screen and (max-width: 1070px) {\r\n    .coverTitle {\r\n        font-size: 38px;\r\n    }\r\n\r\n    .coverSubTitle,\r\n    .coverSubTitle3 {\r\n        font-size: 30px;\r\n    }\r\n\r\n    .coverDetail,\r\n    .coverSubDetail,\r\n    .coverSubDetail3 {\r\n        font-size: 16px;\r\n    }\r\n\r\n    .img2,\r\n    .img3 {\r\n        position: relative;\r\n        top: 200px;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 820px) {\r\n\r\n    .ca {\r\n        grid-template-columns: 100%;\r\n    }\r\n\r\n    .coverContainer,\r\n    .coverContainer2,\r\n    .coverContainer3 {\r\n        grid-template-columns: 15% 80% 5%;\r\n    }\r\n\r\n    .coverContainer2 {\r\n        padding-bottom: 50px;\r\n    }\r\n\r\n    .coverTitle,\r\n    .coverSubTitle3 {\r\n        padding-top: 50px;\r\n        margin-top: 0px;\r\n    }\r\n\r\n    .coverSubTitle {\r\n        margin-top: 0px;\r\n        position: relative;\r\n        top: -400px;\r\n    }\r\n\r\n    .coverDetail {\r\n        padding-bottom: 30px;\r\n    }\r\n\r\n    .coverSubDetail {\r\n        position: relative;\r\n        top: -400px;\r\n        padding-bottom: 150px;\r\n    }\r\n\r\n    .img2 {\r\n        position: relative;\r\n        top: 250px;\r\n    }\r\n\r\n    .img,\r\n    .img2,\r\n    .img3 {\r\n\r\n        margin: auto;\r\n        display: flex;\r\n        justify-content: center;\r\n    }\r\n\r\n    .img{\r\n        margin-left: 4%;\r\n    }\r\n\r\n    .img3 {\r\n        margin-bottom: 50px;\r\n        top: 50px;\r\n    }\r\n\r\n    .coverContainer{\r\n        height: 800px;\r\n    }\r\n    .coverContainer2,\r\n    .coverContainer3 {\r\n        height: auto;\r\n    }\r\n\r\n}\r\n\r\n@media only screen and (max-width: 700px) {\r\n    .coverSubTitle {\r\n        margin-top: 0px;\r\n        position: relative;\r\n        top: -350px;\r\n    }\r\n\r\n    .coverDetail {\r\n        padding-bottom: 30px;\r\n    }\r\n\r\n    .coverSubDetail {\r\n        position: relative;\r\n        top: -340px;\r\n        padding-bottom: 50px;\r\n    }\r\n\r\n    .img{\r\n        margin-top: -100px;\r\n    }\r\n\r\n    .img2 {\r\n        position: relative;\r\n        top: 200px;\r\n    }\r\n\r\n    .img3 {\r\n        top: 50px;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 600px) {\r\n\r\n    .coverContainer,\r\n    .coverContainer2,\r\n    .coverContainer3 {\r\n        grid-template-columns: 5% 90% 5%;\r\n        height: auto;\r\n    }\r\n\r\n    .coverTitle,\r\n    .coverSubTitle3 {\r\n        padding-top: 50px;\r\n        margin-top: 0px;\r\n    }\r\n\r\n    .coverSubTitle {\r\n        margin-top: 0px;\r\n        position: relative;\r\n        top: -380px;\r\n    }\r\n\r\n    .coverDetail {\r\n        padding-bottom: 30px;\r\n    }\r\n\r\n    .coverSubDetail {\r\n        position: relative;\r\n        top: -370px;\r\n        padding-bottom: 50px;\r\n    }\r\n\r\n    .img2 {\r\n        position: relative;\r\n        top: 230px;\r\n    }\r\n\r\n    .img{\r\n        margin-top: 0px;\r\n    }\r\n\r\n    .img,\r\n    .img2,\r\n    .img3 {\r\n        margin-bottom: 50px;\r\n    }\r\n\r\n    .img3 {\r\n        margin-bottom: 50px;\r\n        top: 30px;\r\n    }\r\n\r\n    .coverContainer {\r\n        height: auto;\r\n    }\r\n\r\n}\r\n\r\n@media only screen and (max-width: 500px) {\r\n    .coverSubTitle {\r\n        margin-top: 0px;\r\n        position: relative;\r\n        top: -310px;\r\n    }\r\n\r\n    .coverDetail {\r\n        padding-bottom: 30px;\r\n    }\r\n\r\n    .coverSubDetail {\r\n        position: relative;\r\n        top: -300px;\r\n        padding-bottom: 50px;\r\n    }\r\n\r\n    .img2 {\r\n        position: relative;\r\n        top: 260px;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 400px) {\r\n\r\n\r\n    .coverContainer {\r\n        grid-template-columns: 8% 87% 5%;\r\n        padding-left: 0px;\r\n    }\r\n\r\n\r\n    .coverTitle,\r\n    .coverSubTitle3 {\r\n        padding-top: 50px;\r\n        margin-top: 0px;\r\n    }\r\n\r\n    .coverSubTitle {\r\n        margin-top: 0px;\r\n        position: relative;\r\n        top: -270px;\r\n    }\r\n\r\n    .coverDetail {\r\n        padding-bottom: 30px;\r\n    }\r\n\r\n    .coverSubDetail {\r\n        position: relative;\r\n        top: -260px;\r\n        padding-bottom: 50px;\r\n    }\r\n\r\n    .img2 {\r\n        position: relative;\r\n        top: 280px;\r\n    }\r\n\r\n\r\n\r\n    .coverContainer {\r\n        height: auto;\r\n    }\r\n\r\n    .coverContainer3 {\r\n        padding-bottom: 150px;\r\n    }\r\n}",""]);const s=a},7:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(81),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([t.id,".keeperContainer {\r\n    display: grid;\r\n    grid-template-columns: 12% 83% 5%;\r\n    width: min(100%, 1920px);\r\n    padding-top: 30px;\r\n    margin: auto;\r\n}\r\n\r\n.kmonth {\r\n    float: left;\r\n    font-size: 36px;\r\n    font-weight: 700;\r\n    color: #B99B6B;\r\n}\r\n\r\n.preMonth:hover,\r\n.nextMonth:hover{\r\n    cursor: pointer;\r\n    opacity: 0.8;\r\n}\r\n\r\n.kbtn {\r\n    position: relative;\r\n    font-family: FakePearl-Regular;\r\n    letter-spacing: 2px;\r\n    float: right;\r\n    color: #FFFFFF;\r\n    background-color: #AA5656;\r\n    width: 200px;\r\n    height: 50px;\r\n    font-size: 20px;\r\n    font-weight: 700;\r\n    border-radius: 5px;\r\n    border: none;\r\n}\r\n\r\n.kbtn:hover {\r\n    opacity: 0.8;\r\n}\r\n\r\n.kform {\r\n    background-color: #ede1d6;\r\n    width: 300px;\r\n    height: 400px;\r\n    margin: auto;\r\n    text-align: center;\r\n    position: absolute;\r\n    left: 42%;\r\n    top: 90px;\r\n    border-radius: 30px;\r\n    -moz-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    -webkit-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    z-index: 10;\r\n    animation: slideInFromTop 0.3s;\r\n    border-bottom: #dbb77f 5px solid;\r\n    border-right: #dbb77f 5px solid;\r\n}\r\n\r\n@keyframes slideInFromTop {\r\n    0% {\r\n        transform: translateY(-100%);\r\n    }\r\n    100% {\r\n        transform: translateY(0%);\r\n    }\r\n}\r\n\r\n\r\n.formDate,\r\n.formCat,\r\n.formSub,\r\n.formNum,\r\n.formMemo {\r\n    font-weight: 700;\r\n    font-size: 18px;\r\n    border-style: none;\r\n    border-radius: 5px;\r\n    padding: 10px;\r\n    color: rgb(92, 92, 92);\r\n    background-color: #FFFFFF;\r\n}\r\n\r\n.formDate:focus,\r\n.formCat:focus,\r\n.formSub:focus,\r\n.formNum:focus,\r\n.formMemo:focus {\r\n    outline: 0;\r\n    cursor: pointer;\r\n}\r\n\r\n.formDate {\r\n    margin-top: 33px;\r\n    margin-bottom: 5px;\r\n    width: 200px;\r\n}\r\n\r\n.formCat,\r\n.formSub {\r\n    margin: 5px;\r\n}\r\n\r\n.formCat {\r\n    margin-right: 5px;\r\n    width: 85px;\r\n}\r\n\r\n.formSub{\r\n    width: 125px;\r\n}\r\n\r\n.formNum {\r\n    width: 200px;\r\n    margin: 5px;\r\n}\r\n\r\n.formMemo {\r\n    width: 200px;\r\n    height: 100px;\r\n    margin: 5px;\r\n    word-wrap: break-word;\r\n    resize: none;\r\n    overflow: auto;\r\n}\r\n\r\n.formBtn {\r\n    color: #FFFFFF;\r\n    background-color: #B99B6B;\r\n    width: 220px;\r\n    height: 40px;\r\n    font-size: 18px;\r\n    font-weight: 700;\r\n    border-radius: 5px;\r\n    border: none;\r\n    margin: 10px;\r\n}\r\n\r\n.formBtn:hover {\r\n    cursor: pointer;\r\n    opacity: 0.8;\r\n}\r\n\r\n.formbkg {\r\n    position: absolute;\r\n    background-color: black;\r\n    opacity: 0.2;\r\n    width: 100%;\r\n    height: 100%;\r\n    left: 0;\r\n    top: 0;\r\n    z-index: 1;\r\n}\r\n\r\n@media only screen and (max-width: 1100px) {\r\n    .kform {\r\n        left: 38%;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 1000px) {\r\n    .kform {\r\n        left: 36%;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 860px) {\r\n    \r\n    .keeperContainer {\r\n        grid-template-columns: 15% 80% 5%;\r\n    }\r\n    .kform {\r\n        left: 35%;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 750px) {\r\n    .kform {\r\n        left: 33%;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 600px) {\r\n    .keeperContainer{\r\n        grid-template-columns: 5% 90% 5%;\r\n    }\r\n\r\n    .kform {\r\n        left: 23%;\r\n    }\r\n    .kbtn{\r\n        width: 180px;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 500px) {\r\n    .kform {\r\n        left: 15%;\r\n    }\r\n\r\n    .kbtn {\r\n        width: 140px;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 440px) {\r\n\r\n    .kform{\r\n        top: 150px;\r\n    }\r\n\r\n    .kbtn{\r\n        width: 230px;\r\n        margin-top: 15px;\r\n        margin-left: 6px;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 400px) {\r\n    .kform {\r\n        left: 11.5%;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 376px) {\r\n\r\n    .kform {\r\n        left: 8.5%;\r\n    }\r\n}",""]);const s=a},705:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(81),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Libre+Barcode+128+Text&display=swap);"]),a.push([t.id,".receiptContainer {\r\n    display: grid;\r\n    grid-template-columns: 10% 85% 5%;\r\n    padding-top: 30px;\r\n    padding-bottom: 30px;\r\n}\r\n\r\n.klist {\r\n    font-family: FakePearl-Regular;\r\n    position: relative;\r\n    width: min(100%, 1920px);\r\n    margin: auto;\r\n    letter-spacing: 1px;\r\n    padding-top: 20px;\r\n}\r\n\r\n.tab {\r\n    width: 100%;\r\n    margin: 0 auto;\r\n    height: 10px;\r\n    background-color: #838383;\r\n    border-radius: 50px\r\n}\r\n\r\n.receipt {\r\n    background-color: #FAFAF9;\r\n    padding-top: 20px;\r\n    width: 96%;\r\n    height: auto;\r\n    margin: -5px auto;\r\n    border-radius: 5px 5px 50px 50px;\r\n    -moz-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    -webkit-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    animation: fadeIn 0.5s;\r\n}\r\n\r\n.paper {\r\n    border-top: 2px dashed #ccc;\r\n    width: 96%;\r\n    margin: 0 auto;\r\n    height: auto;\r\n    margin-bottom: 100px;\r\n}\r\n\r\n.title {\r\n    color: #698269;\r\n    margin-top: 20px;\r\n    margin-left: 10px;\r\n    font-weight: bold;\r\n    float: left;\r\n    font-size: 24px;\r\n    line-height: 30px;\r\n    font-family: 'Pacifico', cursive;\r\n    padding-left: 10px;\r\n}\r\n\r\n.category {\r\n    color: #B99B6B;\r\n    font-weight: 700;\r\n    font-size: 20px;\r\n    display: grid;\r\n    grid-template-columns: 11% 11% 11% 16% 41% 5% 5%;\r\n    width: 96%;\r\n    text-align: left;\r\n    margin: auto;\r\n    padding-top: 20px;\r\n}\r\n\r\n.lilist {\r\n    list-style: none;\r\n    /* 消除li點點 */\r\n}\r\n\r\n.list {\r\n    display: grid;\r\n    grid-template-columns: 11% 11% 11% 15% 42% 5% 5%;\r\n    font-size: 20px;\r\n    font-weight: 500;\r\n    text-align: left;\r\n    margin: auto;\r\n    padding-top: 10px;\r\n    padding-bottom: 10px;\r\n    word-wrap: break-word;\r\n    /* 換行 */\r\n    line-height: 38px;\r\n}\r\n\r\n.listEdit:hover,\r\n.listDelete:hover {\r\n    cursor: pointer;\r\n    opacity: 0.5;\r\n}\r\n\r\n\r\n.excel {\r\n    font-family: FakePearl-Regular;\r\n    float: right;\r\n    color: #FFFFFF;\r\n    background-color: #698269;\r\n    width: 130px;\r\n    height: 30px;\r\n    font-size: 16px;\r\n    font-weight: 700;\r\n    border-radius: 5px;\r\n    border: none;\r\n    margin-top: 20px;\r\n    margin-right: 10px;\r\n}\r\n\r\n.excel:hover {\r\n    cursor: pointer;\r\n    opacity: 0.8;\r\n}\r\n\r\n.table {\r\n    clear: both;\r\n    width: 96%;\r\n    margin: 0 auto;\r\n    font-size: 18px;\r\n    padding-top: 10px;\r\n    padding-bottom: 20px;\r\n    border-bottom: 2px dashed #ccc;\r\n    line-height: 30px;\r\n    color: #606060;\r\n\r\n}\r\n\r\n\r\n.right {\r\n    text-align: right;\r\n}\r\n\r\n.center {\r\n    text-align: center;\r\n    padding-top: 20px;\r\n}\r\n\r\n.tnbtn {\r\n    height: 50px;\r\n    padding-top: 100px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\ninput[type=button] {\r\n    margin-top: 20px;\r\n    font-family: FakePearl-Regular;\r\n    background-color: #698269;\r\n    outline: none;\r\n    border: 1px solid #ccc;\r\n    padding: 10px;\r\n    border-radius: 5px;\r\n    font-weight: bold;\r\n    color: #fff;\r\n    padding-left: 30px;\r\n    background-image: url(\"http://dc707.4shared.com/img/zr6_o80l/s3/13ffd4de138/cart.png\");\r\n    background-repeat: no-repeat;\r\n    background-position: 5px center;\r\n    font-size: 16px;\r\n    margin: auto;\r\n    text-align: center;\r\n}\r\n\r\ninput[type=button]:hover {\r\n    -moz-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    -webkit-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    cursor: pointer;\r\n    color: #f0f0f0;\r\n}\r\n\r\n\r\n.form {\r\n    background-color: #BAC7A7;\r\n    width: 300px;\r\n    height: 400px;\r\n    margin: auto;\r\n    text-align: center;\r\n    position: absolute;\r\n    left: 42%;\r\n    top: 90px;\r\n    border-radius: 30px;\r\n    -moz-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    -webkit-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    z-index: 10;\r\n    animation: slideInFromTop 0.3s;\r\n    border-bottom: #698474 5px solid;\r\n    border-right: #698474 5px solid;\r\n}\r\n\r\n.formBtn2 {\r\n    color: #FFFFFF;\r\n    background-color: #698474;\r\n    width: 220px;\r\n    height: 40px;\r\n    font-size: 18px;\r\n    font-weight: 700;\r\n    border-radius: 5px;\r\n    border: none;\r\n    margin: 10px;\r\n}\r\n\r\n.formBtn2:hover {\r\n    opacity: 0.8;\r\n    cursor: pointer;\r\n}\r\n\r\n.closeWindow:hover {\r\n    cursor: pointer;\r\n    -moz-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    -webkit-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.closeWindow {\r\n    font-family: 'Tilt Neon', cursive;\r\n    right: -10px;\r\n    top: -20px;\r\n    width: 55px;\r\n    height: 55px;\r\n    background-color: #AA5656;\r\n    color: #fff;\r\n    position: absolute;\r\n    font-size: 25px;\r\n    font-weight: 700;\r\n    line-height: 40px;\r\n    border-radius: 50%;\r\n    border-top: none;\r\n    border-left: none;\r\n    border-bottom: #8b4242 5px solid;\r\n    border-right: #8b4242 5px solid;\r\n    text-align: left;\r\n    padding-left: 18px;\r\n}\r\n\r\n.description {\r\n    padding-left: 10px;\r\n    background-color: rgb(249, 240, 228);\r\n    border-right: 3px solid #F1DBBF;\r\n    border-bottom: 3px solid #F1DBBF;\r\n    border-radius: 30px;\r\n    width: 90%;\r\n}\r\n\r\n.date {\r\n    color: #FFF;\r\n    background-color: #cdac78;\r\n    border-right: 3px solid #b89a6b;\r\n    border-bottom: 3px solid #b89a6b;\r\n    border-radius: 50%;\r\n    width: 38px;\r\n    height: 38px;\r\n}\r\n\r\n.barcode {\r\n    font-family: 'Libre Barcode 128 Text', cursive;\r\n    font-size: 30px;\r\n}\r\n\r\n.sign {\r\n    text-align: center;\r\n}\r\n\r\n.thankyou {\r\n    line-height: 14px;\r\n    font-size: 14px;\r\n    margin-top: 10px;\r\n    color: #B99B6B;\r\n    width: 100%;\r\n    padding-bottom: 30px;\r\n}\r\n\r\n@media only screen and (max-width: 1100px) {\r\n    .form {\r\n        left: 38%;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 1000px) {\r\n    .form {\r\n        left: 36%;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 860px) {\r\n\r\n    .kform {\r\n        left: 35%;\r\n    }\r\n\r\n    .receiptContainer {\r\n        display: grid;\r\n        grid-template-columns: 15% 80% 5%;\r\n    }\r\n\r\n    .category {\r\n        grid-template-columns: 12% 12% 12% 19% 32% 8% 5%;\r\n    }\r\n\r\n    .list {\r\n        grid-template-columns: 12% 12% 12% 19% 32% 8% 5%;\r\n    }\r\n\r\n}\r\n\r\n@media only screen and (max-width: 750px) {\r\n    .form {\r\n        left: 33%;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 600px) {\r\n\r\n    .tnbtn {\r\n        padding-top: 80px;\r\n    }\r\n\r\n    .form {\r\n        left: 23%;\r\n    }\r\n\r\n\r\n\r\n    .listEdit,\r\n    .listDelete {\r\n        margin-top: 10px;\r\n    }\r\n\r\n    .description {\r\n        margin-top: 5px;\r\n        /* padding-left: 10px; */\r\n        margin-right: 10px;\r\n        width: 360%;\r\n    }\r\n\r\n    .keeperContainer {\r\n        grid-template-columns: 5% 90% 5%;\r\n    }\r\n\r\n    .receiptContainer {\r\n        grid-template-columns: 5% 90% 5%;\r\n    }\r\n\r\n    .category {\r\n        grid-template-columns: 20% 20% 20% 20% 20%;\r\n        text-align: left;\r\n        padding-left: 15px;\r\n    }\r\n\r\n    .list {\r\n        grid-template-columns: 20% 20% 20% 20%;\r\n        text-align: left;\r\n        white-space: nowrap;\r\n        padding-left: 10px;\r\n        line-height: 38px;\r\n    }\r\n\r\n    .listEdit {\r\n        position: absolute;\r\n        right: 15%;\r\n    }\r\n\r\n    .listDelete {\r\n        position: absolute;\r\n        right: 5%;\r\n    }\r\n\r\n    .kmonth {\r\n        font-size: 36px;\r\n        text-align: center;\r\n    }\r\n\r\n    .receipt,\r\n    .paper {\r\n        width: 100%;\r\n    }\r\n\r\n    .tab {\r\n        width: 105%;\r\n        margin-left: -10px;\r\n    }\r\n\r\n    .kbtn {\r\n        height: 48px;\r\n        width: 180px;\r\n    }\r\n\r\n}\r\n\r\n@media only screen and (max-width: 500px) {\r\n    .form {\r\n        left: 15%;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 440px) {\r\n\r\n    .form {\r\n        top: 150px;\r\n    }\r\n\r\n    .list,\r\n    .category {\r\n        font-size: 18px;\r\n    }\r\n\r\n    .date {\r\n        width: 33px;\r\n        height: 33px;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 400px) {\r\n    .form {\r\n        left: 11.5%;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 376px) {\r\n\r\n    .form {\r\n        left: 8.5%;\r\n    }\r\n}",""]);const s=a},6:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(81),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([t.id,"@keyframes wave {\r\n    0% { transform: translateY(0); }\r\n    50% { transform: translateY(-3px); }\r\n    100% { transform: translateY(0); }\r\n  }\r\n\r\n.projectName {\r\n    font-family: 'Pacifico', cursive;\r\n    float: left;\r\n    font-size: 36px;\r\n    font-weight: 600;\r\n    color: #698269;\r\n    letter-spacing: 3px;\r\n}\r\n\r\n.lbtn {\r\n    font-family: FakePearl-Regular;\r\n    letter-spacing: 2px;\r\n    position: relative;\r\n    float: right;\r\n    color: #FFFFFF;\r\n    background-color: #698269;\r\n    width: 200px;\r\n    height: 50px;\r\n    font-size: 20px;\r\n    font-weight: 700;\r\n    border-radius: 5px;\r\n    border: none;\r\n    z-index: 10;\r\n}\r\n.lbtn:hover{\r\n    cursor: pointer;\r\n    opacity: 0.8;\r\n}\r\n\r\n.kform2 {\r\n    background-color: #dbb77f;\r\n    width: 300px;\r\n    margin: auto;\r\n    text-align: center;\r\n    position: absolute;\r\n    left: 42%;\r\n    top: 160px;\r\n    border-radius: 0px 30px 30px 30px;\r\n    -moz-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    -webkit-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    z-index: 10;\r\n    animation: slideInFromTop 0.3s;\r\n    border-bottom: #ede1d6 5px solid;\r\n    border-right: #ede1d6 5px solid;\r\n}\r\n\r\n.kform3 {\r\n    background-color: #ede1d6;\r\n    width: 300px;\r\n    margin: auto;\r\n    text-align: center;\r\n    position: absolute;\r\n    left: 42%;\r\n    top: 160px;\r\n    border-radius: 0px 30px 30px 30px;\r\n    -moz-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    -webkit-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    z-index: 10;\r\n    animation: slideInFromTop 0.3s;\r\n    border-bottom: #dbb77f 5px solid;\r\n    border-right: #dbb77f 5px solid;\r\n    padding-bottom: 10px;\r\n}\r\n\r\n.login {\r\n    width: 135px;\r\n    height: 50px;\r\n    background-color: #dbb77f;\r\n    position: absolute;\r\n    top: -50px;\r\n    border-radius: 30px 30px 0px 0px;\r\n    border-right: #ede1d6 5px solid;\r\n}\r\n\r\n.loginbtn {\r\n    font-family: FakePearl-Regular;\r\n    border: none;\r\n    color: #FFF;\r\n    background-color: #dbb77f;\r\n    font-size: 18px;\r\n    font-weight: 700;\r\n    margin-top: 10px;\r\n    letter-spacing: 2px;\r\n    border-radius: 100px;\r\n    text-align: center;\r\n    width: 100px;\r\n    height: 30px;\r\n}\r\n\r\n.signup {\r\n    width: 135px;\r\n    height: 50px;\r\n    background-color: #ede1d6;\r\n    position: absolute;\r\n    top: -50px;\r\n    margin-left: 135px;\r\n    border-radius: 30px 30px 0px 0px;\r\n    border-right: #dbb77f 5px solid;\r\n}\r\n\r\n.signupbtn {\r\n    font-family: FakePearl-Regular;\r\n    border: none;\r\n    color: #666;\r\n    background-color: #ede1d6;\r\n    font-size: 18px;\r\n    font-weight: 700;\r\n    margin-top: 10px;\r\n    letter-spacing: 2px;\r\n    border-radius: 100px;\r\n    text-align: center;\r\n    width: 100px;\r\n    height: 30px;\r\n}\r\n\r\n.loginbtn:hover,\r\n.signupbtn:hover {\r\n    animation: wave 0.8s ease-in-out infinite;\r\n    opacity: 0.8;\r\n    cursor: pointer;\r\n}\r\n\r\n.signupLayout{\r\n    display: grid;\r\n    grid-template-columns: 5% 55% 25% 10%;\r\n    gap: 10px;\r\n}\r\n\r\n.signupUsername{\r\n    font-family: FakePearl-Regular;\r\n    font-size: 16px;\r\n    border-style: none;\r\n    border-radius: 5px;\r\n    padding: 0px 20px 0px;\r\n    color: rgb(98, 98, 98);\r\n    letter-spacing: 1px;\r\n    height: 40px;\r\n}\r\n\r\n.signupGender{\r\n    font-family: FakePearl-Regular;\r\n    font-size: 16px;\r\n    border-style: none;\r\n    border-radius: 5px;\r\n    padding: 10px;\r\n    color: rgb(98, 98, 98);\r\n    height: 40px;\r\n    margin-top: 30px;\r\n    background-color: #FFF;\r\n}\r\n\r\n.signupBirthday{\r\n    height: 40px;\r\n    font-family: FakePearl-Regular;\r\n    width: 230px;\r\n    padding: 0px 10px;\r\n    font-size: 16px;\r\n    border-style: none;\r\n    border-radius: 5px;\r\n    color: rgb(98, 98, 98);\r\n    letter-spacing: 1px;\r\n    background-color: #FFF;\r\n}\r\n\r\n\r\n.pw{\r\n    display: grid;\r\n    grid-template-columns: 8% 60% 20% 8% ;\r\n}\r\n\r\n.loginPassword{\r\n    font-family: FakePearl-Regular;\r\n    font-size: 16px;\r\n    border-style: none;\r\n    border-radius: 5px;\r\n    padding: 10px 20px 10px;\r\n    color: rgb(98, 98, 98);\r\n    letter-spacing: 1px;\r\n    background-color: #FFF;\r\n    width: 150px;\r\n}\r\n\r\n.rpbtn{\r\n    font-family: FakePearl-Regular;\r\n    margin-left: 20px;\r\n    margin-top: 20px;\r\n    height: 40px;\r\n    width: 50px;\r\n    border: none;\r\n    border-radius: 5px;\r\n    color: #FFF;\r\n    background-color: #AA5656;\r\n    font-weight: 700;\r\n}\r\n\r\n.loginEmail,\r\n.signupEmail,\r\n.signupPassword{\r\n    font-family: FakePearl-Regular;\r\n    width: 210px;\r\n    font-size: 16px;\r\n    border-style: none;\r\n    border-radius: 5px;\r\n    padding: 10px 20px 10px;\r\n    color: rgb(98, 98, 98);\r\n    letter-spacing: 1px;\r\n    background-color: #FFF;\r\n}\r\n\r\n.loginEmail,\r\n.signupUsername{\r\n    margin-top: 30px;\r\n}\r\n\r\n.loginPassword,\r\n.signupBirthday,\r\n.signupEmail,\r\n.signupPassword{\r\n    margin-top: 20px;\r\n}\r\n\r\n.loginEmail:focus,\r\n.loginPassword:focus,\r\n.signupUsername:focus,\r\n.signupGender:focus,\r\n.signupBirthday:focus,\r\n.signupEmail:focus,\r\n.signupPassword:focus{\r\n    outline: none;\r\n}\r\n\r\n.loginFormBtn {\r\n    font-family: FakePearl-Regular;\r\n    color: #FFFFFF;\r\n    background-color: #698269;\r\n    width: 250px;\r\n    height: 40px;\r\n    font-size: 16px;\r\n    font-weight: 700;\r\n    border-radius: 5px;\r\n    border: none;\r\n    margin-top: 20px;\r\n    margin-bottom: 10px;\r\n    letter-spacing: 5px;\r\n}\r\n\r\n.loginFormBtn:hover,\r\n.rpbtn:hover{\r\n    cursor: pointer;\r\n    opacity: 0.8;\r\n}\r\n\r\n.notice{\r\n    font-family: FakePearl-Regular;\r\n    margin-bottom: 12px;\r\n    color: #AA5656;\r\n    font-size: 17px;\r\n    font-weight: 700;\r\n}\r\n\r\n.notice2{\r\n    font-family: FakePearl-Regular;\r\n    margin-bottom: 12px;\r\n    color: #AA5656;\r\n    font-size: 17px;\r\n    font-weight: 700;\r\n    position: relative;\r\n}\r\n\r\n.dashlogin{\r\n    width: 85%;\r\n    border-top: 2px dashed #ede1d6;\r\n    margin: auto;\r\n    padding-bottom: 10px;\r\n}\r\n\r\n.dashsignup{\r\n    width: 85%;\r\n    border-top: 2px dashed  rgb(170, 170, 170);\r\n    margin: auto;\r\n    padding-bottom: 10px;\r\n}\r\n\r\n.loginThird{\r\n    display: grid;\r\n    grid-template-columns: 67% 33%;\r\n    padding-bottom: 10px;\r\n}\r\n\r\n.loginWith{\r\n    font-family: FakePearl-Regular;\r\n    color: #FFF;\r\n    height: 40px;\r\n    text-align: right;\r\n    font-size: 16px;\r\n    font-weight: 700;\r\n    margin-right: 10px;\r\n    line-height: 40px;\r\n    letter-spacing: 1px;\r\n}\r\n\r\n.signupWith{\r\n    font-family: FakePearl-Regular;\r\n    color: rgb(98, 98, 98);\r\n    height: 40px;\r\n    text-align: right;\r\n    font-size: 16px;\r\n    font-weight: 700;\r\n    margin-right: 10px;\r\n    line-height: 40px;\r\n    letter-spacing: 1px;\r\n}\r\n\r\n.loginGoogle{\r\n    float: left;\r\n    background-color: #ede1d6;\r\n    border-radius: 100px;\r\n    width: 40px;\r\n    height: 40px;\r\n}\r\n\r\n.signupGoogle{\r\n    float: left;\r\n    background-color: #ffffffbf;\r\n    border-radius: 100px;\r\n    width: 40px;\r\n    height: 40px;\r\n}\r\n\r\n.loginGoogle:hover,\r\n.signupGoogle:hover{\r\n    cursor: pointer;\r\n    opacity: 0.8;\r\n    animation: wave 0.8s ease-in-out infinite;\r\n}\r\n\r\n.iconG{\r\n    padding-top: 5px;\r\n}\r\n\r\n\r\n@media only screen and (max-width: 1100px) {\r\n    .kform2,\r\n    .kform3 {\r\n        left: 38%;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 1000px) {\r\n    .kform2,\r\n    .kform3 {\r\n        left: 36%;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 860px) {\r\n\r\n    .kform2,\r\n    .kform3 {\r\n        left: 35%;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 750px) {\r\n    .kform2,\r\n    .kform3 {\r\n        left: 33%;\r\n    }\r\n\r\n    .projectName{\r\n        font-size: 32px;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 600px) {\r\n\r\n    .kform2,\r\n    .kform3 {\r\n        left: 23%;\r\n    }\r\n\r\n}\r\n\r\n@media only screen and (max-width: 500px) {\r\n\r\n    .projectName{\r\n        font-size: 30px;\r\n    }\r\n\r\n    .kform2,\r\n    .kform3 {\r\n        left: 15%;\r\n    }\r\n\r\n}\r\n\r\n@media only screen and (max-width: 440px) {\r\n    .kform2,\r\n    .kform3{\r\n        left: 13%;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 400px) {\r\n    .kform2,\r\n    .kform3{\r\n        left: 11.5%;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 376px) {\r\n\r\n    .kform2,\r\n    .kform3 {\r\n        left: 8.5%;\r\n    }\r\n}",""]);const s=a},574:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(81),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([t.id,"@import url(//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css);"]),a.push([t.id,"@import url(https://fonts.googleapis.com/css?family=Titillium+Web:300);"]),a.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700&display=swap);"]),a.push([t.id,"body {\r\n\tmargin: 0px;\r\n\tbackground-color: #EFE8E2;\r\n\tfont-family: FakePearl-Regular;\r\n}\r\n\r\n\r\n/* sidebar */\r\n\r\n:root {\r\n\tfont-size: 16px;\r\n\t--text-primary: #b6b6b6;\r\n\t--text-secondary: #ececec;\r\n\t--fa-fill: #A22C29;\r\n\t--bg-primary: #698269;\r\n\t--bg-secondary: #B99B6B;\r\n\t--transition-speed: 600ms;\r\n}\r\n\r\n.navbar {\r\n\tbackground-color: var(--bg-primary);\r\n\tposition: fixed;\r\n\ttransition: width 200ms ease;\r\n\tz-index: 10;\r\n}\r\n\r\n.navbar-nav {\r\n\tlist-style: none;\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n\talign-items: center;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n}\r\n\r\n/* 防止置右 */\r\n\r\n.link {\r\n\twidth: 100%;\r\n}\r\n\r\n.link:last-child {\r\n\tmargin-top: auto;\r\n}\r\n\r\n.link2 {\r\n\twidth: 100%;\r\n\ttext-decoration: none;\r\n}\r\n\r\n.nav-link {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\theight: 5rem;\r\n\tcolor: var(--text-primary);\r\n\tfill: var(--fa-fill);\r\n\ttext-decoration: none;\r\n\tfilter: grayscale(100%) opacity(0.7);\r\n\ttransition: var(--transition-speed);\r\n\ttext-decoration: none;\r\n}\r\n\r\n.nav-link:hover {\r\n\tfilter: grayscale(0%) opacity(1);\r\n\tcursor: pointer;\r\n}\r\n\r\n.link-text {\r\n\tdisplay: none;\r\n\tfont-size: 18px;\r\n\tmargin-left: -15px;\r\n\ttext-decoration: none;\r\n\tcolor: #b6b6b6;\r\n\tletter-spacing: 0.2em;\r\n}\r\n\r\n.link {\r\n\ttext-decoration: none;\r\n}\r\n\r\n.username {\r\n\tfont-size: 20px;\r\n\tmargin-left: 40px;\r\n}\r\n\r\n.nav-link svg {\r\n\tmin-width: 2rem;\r\n\tmargin: 1.5rem;\r\n}\r\n\r\n.logo {\r\n\tfont-weight: bold;\r\n\ttext-transform: uppercase;\r\n\tmargin-bottom: 1rem;\r\n\ttext-align: center;\r\n\tcolor: black;\r\n\tbackground: var(--bg-secondary);\r\n\tletter-spacing: 0.3ch;\r\n\twidth: 100%;\r\n}\r\n\r\n.logo span {\r\n\tcolor: black;\r\n}\r\n\r\n\r\n@media only screen and (max-width: 600px) {\r\n\t.navbar {\r\n\t\tbottom: 0;\r\n\t\twidth: 100vw;\r\n\t\theight: 5rem;\r\n\t}\r\n\r\n\t.logo {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.navbar-nav {\r\n\t\tflex-direction: row;\r\n\t}\r\n\r\n\t.nav-link {\r\n\t\tjustify-content: center;\r\n\r\n\t}\r\n}\r\n\r\n/* Large Screens */\r\n@media only screen and (min-width: 600px) {\r\n\t.navbar {\r\n\t\ttop: 0;\r\n\t\twidth: 5rem;\r\n\t\theight: 100vh;\r\n\t}\r\n\r\n\t.navbar:hover {\r\n\t\twidth: 12rem;\r\n\t}\r\n\r\n\t.navbar:hover .link-text {\r\n\t\tdisplay: block;\r\n\t}\r\n}",""]);const s=a},591:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(81),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([t.id,'.progress-bar {\r\n    background-color: #e8e5bf;\r\n    height: 28px;\r\n    width: 300px;\r\n    border-radius: 5px;\r\n    overflow: hidden;\r\n    margin: auto;\r\n    margin-bottom: 30px;\r\n}\r\n\r\n.progress-bar__inner {\r\n    position: relative;\r\n    display: block;\r\n    height: 100%;\r\n    background-color: #739566;\r\n    animation: run-progress 1s;\r\n   \r\n}\r\n\r\n.progress-bar__percent{\r\n    position: absolute;\r\n    right: -45px;\r\n    float: right;\r\n    font-size: 16px;\r\n    font-weight: 700;\r\n    line-height: 30px;\r\n    color: black;\r\n}\r\n\r\n.progress-bar__inner:after {\r\n    content: "";\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    background-image: linear-gradient(-45deg,\r\n            rgba(255, 255, 255, .3) 25%,\r\n            transparent 25%,\r\n            transparent 50%,\r\n            rgba(255, 255, 255, .3) 50%,\r\n            rgba(255, 255, 255, .3) 75%,\r\n            transparent 75%);\r\n    background-size: 75px 75px;\r\n}\r\n\r\n.needMoreBar{\r\n    text-align: center;\r\n    font-weight: 700;\r\n    letter-spacing: 2px;\r\n    color: #B99B6B;\r\n    font-size: 18px;\r\n    line-height: 28px;\r\n}\r\n\r\n@keyframes run-progress {\r\n    0% {\r\n        width: 0;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 530px) {\r\n    .progress-bar{\r\n        transform: scale(0.9);\r\n        height: 30px;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 520px) {\r\n    .progress-bar{\r\n        transform: scale(0.8);\r\n        height: 25px;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 440px) {\r\n    .progress-bar{\r\n        transform: scale(0.8);\r\n        height: 28px;\r\n        margin-left: -20px;\r\n\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 400px) {\r\n    .progress-bar{\r\n        margin-left: -10px;\r\n\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 361px) {\r\n    .progress-bar{\r\n        margin-left: -25px;\r\n    }\r\n}',""]);const s=a},976:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(81),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Lobster&family=Open+Sans:wght@600;700&family=Pacifico&family=Permanent+Marker&display=swap);"]),a.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Raleway:wght@500&display=swap);"]),a.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Lato&family=Raleway:wght@500&display=swap);"]),a.push([t.id,".keeperContainer2 {\r\n    display: grid;\r\n    grid-template-columns: 12% 83% 5%;\r\n    padding-top: 30px;\r\n}\r\n\r\n.kmonth2 {\r\n    float: left;\r\n    font-size: 36px;\r\n    font-weight: 700;\r\n    color: #B99B6B;\r\n}\r\n\r\n.budget{\r\n    font-family: FakePearl-Regular;\r\n    float: right;\r\n    color: #FFFFFF;\r\n    background-color: #AA5656;\r\n    width: 250px;\r\n    height: 50px;\r\n    font-size: 20px;\r\n    font-weight: 700;\r\n    border-radius: 5px;\r\n    border: none;\r\n    text-align: center;\r\n    line-height: 50px;\r\n}\r\n\r\n.trackerContainer {\r\n    display: grid;\r\n    grid-template-columns: 10% 85% 5%;\r\n    padding-top: 50px;\r\n    padding-bottom: 50px;\r\n    margin-bottom: 100px;\r\n}\r\n\r\n.tc {\r\n    display: grid;\r\n    grid-template-columns: 48% 48%;\r\n    gap: 4%;\r\n}\r\n\r\n.trackerCard {\r\n    background-color: #FAFAF9;\r\n    width: min(100%, 1200px);\r\n    border-radius: 30px;\r\n    margin: auto;\r\n    -moz-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    -webkit-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    display: grid;\r\n    grid-template-columns: 25% 75%;\r\n    margin-bottom: 50px;\r\n    animation: fadeIn 1.5s;\r\n}\r\n\r\n@keyframes fadeIn {\r\n    0% {\r\n        opacity: 0;\r\n    }\r\n    100% {\r\n        opacity: 1;\r\n    }\r\n}\r\n\r\n.trackerMain{\r\n    border-left: 2px dashed #ccc;\r\n}\r\n\r\n.trackerPic {\r\n    text-align: center;\r\n    margin: auto;\r\n    line-height: 30px;\r\n}\r\n\r\n.tpic {\r\n    justify-self: center;\r\n    color: #B99B6B;\r\n}\r\n\r\n.trackerCategory {\r\n    font-family: 'Pacifico', cursive;\r\n    font-size: 28px;\r\n    color: #B99B6B;\r\n}\r\n\r\n.trackerBudget {\r\n    display: grid;\r\n    grid-template-columns: 33% 33% 33%;\r\n    text-align: center;\r\n}\r\n\r\n.tbn {\r\n    font-family: FakePearl-Regular;\r\n    margin-top: 20px;\r\n    color: #AA5656;\r\n    font-size: 20px;\r\n    font-weight: 700;\r\n    letter-spacing: 3px;\r\n}\r\n\r\n\r\n.tbm {\r\n    margin-top: 20px;\r\n    margin-bottom: 30px;\r\n    color: #363636;\r\n    font-size: 20px;\r\n    text-align: center;\r\n    word-wrap:break-word;\r\n}\r\n\r\n.binput {\r\n    width: 70px;\r\n    padding: 5px;\r\n    font-size: 18px;\r\n    border-style: none;\r\n    text-align: center;\r\n    background-color: #937b55;\r\n    opacity: 0.9;\r\n    color: #FFF;\r\n    border-radius: 5px;\r\n    margin-right: 5px;\r\n    word-break: break-all;\r\n}\r\n\r\n.binput:focus {\r\n    border-style: none;\r\n    outline: 0;\r\n}\r\n\r\ninput[type=number]::-webkit-outer-spin-button,\r\ninput[type=number]::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n    margin: 0;\r\n}\r\n\r\n.tickicon {\r\n    border: none;\r\n    font-size: 15px;\r\n    font-weight: 700;\r\n    color: #FAFAF9;\r\n    background-color: #698269;\r\n    border-radius: 50%;\r\n    text-align: left;\r\n    padding-left: 6px;\r\n    width: 27px;\r\n    height: 27px;\r\n}\r\n\r\n\r\n.editicon{\r\n    color: #698269;\r\n    margin-left: 5px;\r\n}\r\n\r\n.tickicon:hover,\r\n.editicon:hover{\r\n    cursor: pointer;\r\n    opacity: 0.8;\r\n}\r\n\r\n\r\n@media only screen and (max-width: 1040px) {\r\n    .tc {\r\n        grid-template-columns: 100%;\r\n        gap: 0%;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 860px) {\r\n    \r\n    .keeperContainer2 {\r\n        grid-template-columns: 15% 80% 5%;\r\n    }\r\n\r\n    .trackerContainer {\r\n        display: grid;\r\n        grid-template-columns: 15% 80% 5%;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 600px) {\r\n\r\n    .keeperContainer2 {\r\n        grid-template-columns: 5% 90% 5%;\r\n    }\r\n\r\n    .trackerContainer {\r\n        display: grid;\r\n        grid-template-columns: 5% 90% 5%;\r\n    }\r\n\r\n    .budget{\r\n        font-size: 18px;\r\n        width: 200px;\r\n    }\r\n    .trackerCategory{\r\n        font-size: 24px;\r\n    }\r\n    .binput{\r\n        width: 60px;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 500px) {\r\n    .binput{\r\n        width: 60px;\r\n    }\r\n    .pBar{\r\n        position: relative;\r\n        float: left;\r\n    }\r\n    .trackerPic{\r\n        margin: auto;\r\n    }\r\n    .binput{\r\n        font-size: 16px;\r\n    }\r\n    .budget{\r\n        width: 180px;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 440px) {\r\n  \r\n    .trackerCard{\r\n        grid-template-columns: 20% 80%;\r\n    }\r\n\r\n    .binput{\r\n        width: 45px;\r\n    }\r\n    .kb{\r\n        display: grid;\r\n        grid-template-columns: 100%;\r\n        margin: auto;\r\n        text-align: center;\r\n    }\r\n    .budget{\r\n        margin-top: 20px;\r\n        margin-bottom: -20px;\r\n        width: 230px;\r\n    }\r\n    .trackerBudget{\r\n        grid-template-columns: 34% 33% 33%;\r\n    }\r\n    .tbm{\r\n        font-size: 18px;\r\n    }\r\n    .trackerCategory{\r\n        font-size: 22px;\r\n        writing-mode:vertical-rl;\r\n    }\r\n}",""]);const s=a},507:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(81),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Tilt+Neon&display=swap);"]),a.push([t.id,'@font-face {\r\n    font-family: FakePearl-Regular;\r\n    src: url(https://cdn.jsdelivr.net/gh/max32002/FakePearl@1.1/webfont/FakePearl-Regular.woff2) format("woff2")\r\n    , url(https://cdn.jsdelivr.net/gh/max32002/FakePearl@1.1/webfont/FakePearl-Regular.woff) format("woff");\r\n  }\r\n\r\n.userbg {\r\n    width: min(100%, 1200px);\r\n    font-family: FakePearl-Regular;\r\n    font-size: 36px;\r\n    font-weight: 700;\r\n    color: #698269;\r\n    padding-left: 20px;\r\n    margin: auto;\r\n}\r\n\r\n.userbd1 {\r\n    margin: auto;\r\n    display: grid;\r\n    width: min(98%, 1180px);\r\n    grid-template-columns: 100%;\r\n    height: auto;\r\n    background-color: #FAFAF9;\r\n    border-radius: 30px;\r\n    -moz-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    -webkit-box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n    animation: fadeIn 1.5s;\r\n    margin-top: 10px;\r\n}\r\n\r\n.userbd2 {\r\n    display: grid;\r\n    width: min(97%, 1180px);\r\n    grid-template-columns: 50% 50%;\r\n    height: 96%;\r\n    background-color: #FAFAF9;\r\n    margin: auto;\r\n}\r\n\r\n.userbd3 {\r\n    padding: 40px;\r\n}\r\n\r\n.ut{\r\n    font-family: FakePearl-Regular;\r\n    background-color: #B99B6B;\r\n    opacity: 0.8;\r\n    width: 90%;\r\n    color: #FAFAF9;\r\n    padding: 10px;\r\n    border-radius: 50px;\r\n    font-size: 22px;\r\n    margin-bottom: 50px;\r\n    text-align: center;\r\n    letter-spacing: 5px;\r\n    font-weight: 700;\r\n    background-color: #cdac78;\r\n    border-right: 5px solid #b89a6b;\r\n    border-bottom: 5px solid #b89a6b;\r\n}\r\n\r\n.ut2{\r\n    padding-left: 10px;\r\n    padding-bottom: 50px;\r\n}\r\n\r\n.userTitle{\r\n    font-family: FakePearl-Regular;\r\n    font-weight: 600;\r\n    font-size: 20px;\r\n    color: #B99B6B;\r\n    padding-bottom: 20px;\r\n    letter-spacing: 2px;\r\n}\r\n\r\n.userInfo{\r\n    font-family: FakePearl-Regular;\r\n    font-size: 20px;\r\n    border-bottom: 2px dashed #B99B6B;\r\n    width: 90%;\r\n    padding-bottom: 10px;\r\n    padding-left: 5px;\r\n    color: #606060;\r\n    letter-spacing: 1px;\r\n}\r\n\r\n.userInfo:hover{\r\n    cursor: pointer;\r\n}\r\n\r\n.userEdit{\r\n    font-family: FakePearl-Regular;\r\n    font-size: 20px;\r\n    height: 30px;\r\n    background-color: #FAFAF9;\r\n    border: none;\r\n    outline: none;\r\n    color: #AA5656;\r\n    width: 150px;\r\n}\r\n\r\n.btntick{\r\n    border: none;\r\n    font-size: 18px;\r\n    font-weight: 700;\r\n    color: #FAFAF9;\r\n    background-color: #698269;\r\n    border-radius: 50%;\r\n    float: right;\r\n    text-align: left;\r\n    padding-left: 5px;\r\n    width: 30px;\r\n    height: 30px;\r\n}\r\n\r\n.btntick:hover{\r\n    cursor: pointer;\r\n    opacity: 0.8;\r\n}\r\n\r\n.editicon2{\r\n    color: #698269;\r\n    float: right;\r\n}\r\n\r\n.connectbtn{\r\n    height: 50px;\r\n}\r\n\r\n.resetbtn{\r\n    margin-right: 10px;\r\n    background-color: #698269;\r\n}\r\n\r\n.resetbtn {\r\n    position: relative;\r\n    color: #FFFFFF;\r\n    width: 180px;\r\n    height: 40px;\r\n    font-size: 18px;\r\n    font-weight: 700;\r\n    border-radius: 5px;\r\n    border: none;\r\n    letter-spacing: 2px;\r\n}\r\n\r\n.resetbtn:hover{\r\n    cursor: pointer;\r\n    opacity: 0.8;\r\n}\r\n\r\n@media only screen and (max-width: 1000px) {\r\n    .userbd3{\r\n        padding: 20px;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 750px) {\r\n\r\n    .userbg{\r\n        padding-left: 0px;\r\n    }\r\n    .userbd1{\r\n        margin-top: -30px;\r\n    }\r\n\r\n    .userbd2{\r\n        grid-template-columns: 100%;\r\n    }\r\n    .userbd3{\r\n        padding: 20px;\r\n    }\r\n}\r\n\r\n@media only screen and (max-width: 600px) {\r\n\r\n    .userbd1{\r\n        margin-bottom: 80px;\r\n    }\r\n\r\n    .ut2{\r\n        padding-bottom: 30px;\r\n    }\r\n    .userTitle{\r\n        padding-bottom: 15px;\r\n    }\r\n    .userbg{\r\n        font-size: 30px;\r\n    }\r\n    .ut{\r\n        font-size: 20px;\r\n    }\r\n    .userTitle,\r\n    .userInfo,\r\n    .userEdit{\r\n        font-size: 18px;\r\n    }\r\n    .resetbtn{\r\n        font-size: 16px;\r\n    }\r\n\r\n}',""]);const s=a},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<t.length;c++){var u=[].concat(t[c]);r&&a[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),e.push(u))}},e}},81:t=>{t.exports=function(t){return t[1]}},448:(t,e,n)=>{var r=n(294),i=n(840);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(s[t]=e,t=0;t<e.length;t++)a.add(e[t])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){g[t]=new m(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];g[e]=new m(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){g[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){g[t]=new m(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){g[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){g[t]=new m(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){g[t]=new m(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){g[t]=new m(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){g[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=g.hasOwnProperty(e)?g[e]:null;(null!==i?0!==i.type:r||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!h.call(p,t)||!h.call(f,t)&&(d.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,v);g[e]=new m(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,v);g[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,v);g[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),E=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function D(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=P&&t[P]||t["@@iterator"])?t:null}var R,F=Object.assign;function z(t){if(void 0===R)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);R=e&&e[1]||""}return"\n"+R+t}var V=!1;function B(t,e){if(!t||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(t){var r=t}Reflect.construct(t,[],e)}else{try{e.call()}catch(t){r=t}t.call(e.prototype)}else{try{throw Error()}catch(t){r=t}t()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=a&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?z(t):""}function j(t){switch(t.tag){case 5:return z(t.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return B(t.type,!1);case 11:return B(t.type.render,!1);case 1:return B(t.type,!0);default:return""}}function U(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case _:return"Fragment";case E:return"Portal";case S:return"Profiler";case k:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case C:return(t.displayName||"Context")+".Consumer";case T:return(t._context.displayName||"Context")+".Provider";case I:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case O:return null!==(e=t.displayName||null)?e:U(t.type)||"Memo";case M:e=t._payload,t=t._init;try{return U(t(e))}catch(t){}}return null}function H(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(e);case 8:return e===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e}return null}function W(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function $(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function q(t){t._valueTracker||(t._valueTracker=function(t){var e=$(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function G(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function K(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Q(t,e){var n=e.checked;return F({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Y(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=W(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function X(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function J(t,e){X(t,e);var n=W(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,W(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&K(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+W(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function rt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return F({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(et(n)){if(1<n.length)throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:W(n)}}function ot(t,e){var n=W(e.value),r=W(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?st(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,ht=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return ut(t,e)}))}:ut);function dt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function mt(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function gt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=mt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(ft).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var yt=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,e){if(e){if(yt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(o(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wt=null;function xt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Et=null,_t=null,kt=null;function St(t){if(t=bi(t)){if("function"!=typeof Et)throw Error(o(280));var e=t.stateNode;e&&(e=xi(e),Et(t.stateNode,t.type,e))}}function Tt(t){_t?kt?kt.push(t):kt=[t]:_t=t}function Ct(){if(_t){var t=_t,e=kt;if(kt=_t=null,St(t),e)for(t=0;t<e.length;t++)St(e[t])}}function It(t,e){return t(e)}function Nt(){}var At=!1;function Ot(t,e,n){if(At)return t(e,n);At=!0;try{return It(t,e,n)}finally{At=!1,(null!==_t||null!==kt)&&(Nt(),Ct())}}function Mt(t,e){var n=t.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(o(231,e,typeof n));return n}var Lt=!1;if(u)try{var Pt={};Object.defineProperty(Pt,"passive",{get:function(){Lt=!0}}),window.addEventListener("test",Pt,Pt),window.removeEventListener("test",Pt,Pt)}catch(ut){Lt=!1}function Dt(t,e,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(t){this.onError(t)}}var Rt=!1,Ft=null,zt=!1,Vt=null,Bt={onError:function(t){Rt=!0,Ft=t}};function jt(t,e,n,r,i,o,a,s,l){Rt=!1,Ft=null,Dt.apply(Bt,arguments)}function Ut(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Ht(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&null!==(t=t.alternate)&&(e=t.memoizedState),null!==e)return e.dehydrated}return null}function Wt(t){if(Ut(t)!==t)throw Error(o(188))}function $t(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Ut(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Wt(i),t;if(a===r)return Wt(i),e;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t))?qt(t):null}function qt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=qt(t);if(null!==e)return e;t=t.sibling}return null}var Gt=i.unstable_scheduleCallback,Kt=i.unstable_cancelCallback,Qt=i.unstable_shouldYield,Yt=i.unstable_requestPaint,Xt=i.unstable_now,Jt=i.unstable_getCurrentPriorityLevel,Zt=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,ne=i.unstable_LowPriority,re=i.unstable_IdlePriority,ie=null,oe=null,ae=Math.clz32?Math.clz32:function(t){return 0===(t>>>=0)?32:31-(se(t)/le|0)|0},se=Math.log,le=Math.LN2,ce=64,ue=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var n=t.pendingLanes;if(0===n)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=he(s):0!=(o&=a)&&(r=he(o))}else 0!=(a=n&~i)?r=he(a):0!==o&&(r=he(o));if(0===r)return 0;if(0!==e&&e!==r&&0==(e&i)&&((i=r&-r)>=(o=e&-e)||16===i&&0!=(4194240&o)))return e;if(0!=(4&r)&&(r|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-ae(e)),r|=t[n],e&=~i;return r}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!=(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function me(){var t=ce;return 0==(4194240&(ce<<=1))&&(ce=64),t}function ge(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ye(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=n}function ve(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ae(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function we(t){return 1<(t&=-t)?4<t?0!=(268435455&t)?16:536870912:4:1}var xe,Ee,_e,ke,Se,Te=!1,Ce=[],Ie=null,Ne=null,Ae=null,Oe=new Map,Me=new Map,Le=[],Pe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function De(t,e){switch(t){case"focusin":case"focusout":Ie=null;break;case"dragenter":case"dragleave":Ne=null;break;case"mouseover":case"mouseout":Ae=null;break;case"pointerover":case"pointerout":Oe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Me.delete(e.pointerId)}}function Re(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==e&&null!==(e=bi(e))&&Ee(e),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function Fe(t){var e=vi(t.target);if(null!==e){var n=Ut(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Ht(n)))return t.blockedOn=e,void Se(t.priority,(function(){_e(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ze(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=bi(n))&&Ee(e),t.blockedOn=n,!1;var r=new(n=t.nativeEvent).constructor(n.type,n);wt=r,n.target.dispatchEvent(r),wt=null,e.shift()}return!0}function Ve(t,e,n){ze(t)&&n.delete(e)}function Be(){Te=!1,null!==Ie&&ze(Ie)&&(Ie=null),null!==Ne&&ze(Ne)&&(Ne=null),null!==Ae&&ze(Ae)&&(Ae=null),Oe.forEach(Ve),Me.forEach(Ve)}function je(t,e){t.blockedOn===e&&(t.blockedOn=null,Te||(Te=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Be)))}function Ue(t){function e(e){return je(e,t)}if(0<Ce.length){je(Ce[0],t);for(var n=1;n<Ce.length;n++){var r=Ce[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Ie&&je(Ie,t),null!==Ne&&je(Ne,t),null!==Ae&&je(Ae,t),Oe.forEach(e),Me.forEach(e),n=0;n<Le.length;n++)(r=Le[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Le.length&&null===(n=Le[0]).blockedOn;)Fe(n),null===n.blockedOn&&Le.shift()}var He=w.ReactCurrentBatchConfig,We=!0;function $e(t,e,n,r){var i=be,o=He.transition;He.transition=null;try{be=1,Ge(t,e,n,r)}finally{be=i,He.transition=o}}function qe(t,e,n,r){var i=be,o=He.transition;He.transition=null;try{be=4,Ge(t,e,n,r)}finally{be=i,He.transition=o}}function Ge(t,e,n,r){if(We){var i=Qe(t,e,n,r);if(null===i)Wr(t,e,r,Ke,n),De(t,r);else if(function(t,e,n,r,i){switch(e){case"focusin":return Ie=Re(Ie,t,e,n,r,i),!0;case"dragenter":return Ne=Re(Ne,t,e,n,r,i),!0;case"mouseover":return Ae=Re(Ae,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Oe.set(o,Re(Oe.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Me.set(o,Re(Me.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r))r.stopPropagation();else if(De(t,r),4&e&&-1<Pe.indexOf(t)){for(;null!==i;){var o=bi(i);if(null!==o&&xe(o),null===(o=Qe(t,e,n,r))&&Wr(t,e,r,Ke,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(t,e,r,null,n)}}var Ke=null;function Qe(t,e,n,r){if(Ke=null,null!==(t=vi(t=xt(r))))if(null===(e=Ut(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Ht(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ke=t,null}function Ye(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Zt:return 1;case te:return 4;case ee:case ne:return 16;case re:return 536870912;default:return 16}default:return 16}}var Xe=null,Je=null,Ze=null;function tn(){if(Ze)return Ze;var t,e,n=Je,r=n.length,i="value"in Xe?Xe.value:Xe.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Ze=i.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function on(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),hn=F({},cn,{view:0,detail:0}),dn=on(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(an=t.screenX-ln.screenX,sn=t.screenY-ln.screenY):sn=an=0,ln=t),an)},movementY:function(t){return"movementY"in t?t.movementY:sn}}),pn=on(fn),mn=on(F({},fn,{dataTransfer:0})),gn=on(F({},hn,{relatedTarget:0})),yn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(F({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=_n[t])&&!!e[t]}function Sn(){return kn}var Tn=F({},hn,{key:function(t){if(t.key){var e=xn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?En[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Cn=on(Tn),In=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},fn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=on(On),Ln=[9,13,27,32],Pn=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Dn,Fn=u&&(!Pn||Dn&&8<Dn&&11>=Dn),zn=String.fromCharCode(32),Vn=!1;function Bn(t,e){switch(t){case"keyup":return-1!==Ln.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var Un=!1,Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Hn[t.type]:"textarea"===e}function $n(t,e,n,r){Tt(r),0<(e=qr(e,"onChange")).length&&(n=new un("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qn=null,Gn=null;function Kn(t){zr(t,0)}function Qn(t){if(G(wi(t)))return t}function Yn(t,e){if("change"===t)return e}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Zn="function"==typeof tr.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function er(){qn&&(qn.detachEvent("onpropertychange",nr),Gn=qn=null)}function nr(t){if("value"===t.propertyName&&Qn(Gn)){var e=[];$n(e,Gn,t,xt(t)),Ot(Kn,e)}}function rr(t,e,n){"focusin"===t?(er(),Gn=n,(qn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Qn(Gn)}function or(t,e){if("click"===t)return Qn(e)}function ar(t,e){if("input"===t||"change"===t)return Qn(e)}var sr="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e};function lr(t,e){if(sr(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(e,i)||!sr(t[i],e[i]))return!1}return!0}function cr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ur(t,e){var n,r=cr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cr(r)}}function hr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function dr(){for(var t=window,e=K();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=K((t=e.contentWindow).document)}return e}function fr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pr(t){var e=dr(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||(r="selectionStart"in(r=gr)&&fr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=qr(yr,"onSelect")).length&&(e=new un("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gr)))}function xr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Er={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},_r={},kr={};function Sr(t){if(_r[t])return _r[t];if(!Er[t])return t;var e,n=Er[t];for(e in n)if(n.hasOwnProperty(e)&&e in kr)return _r[t]=n[e];return t}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Tr=Sr("animationend"),Cr=Sr("animationiteration"),Ir=Sr("animationstart"),Nr=Sr("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(t,e){Ar.set(t,e),l(e,[t])}for(var Lr=0;Lr<Or.length;Lr++){var Pr=Or[Lr];Mr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Mr(Tr,"onAnimationEnd"),Mr(Cr,"onAnimationIteration"),Mr(Ir,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Fr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,a,s,l,c){if(jt.apply(this,arguments),Rt){if(!Rt)throw Error(o(198));var u=Ft;Rt=!1,Ft=null,zt||(zt=!0,Vt=u)}}(r,e,void 0,t),t.currentTarget=null}function zr(t,e){e=0!=(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break t;Fr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break t;Fr(i,s,c),o=l}}}if(zt)throw t=Vt,zt=!1,Vt=null,t}function Vr(t,e){var n=e[mi];void 0===n&&(n=e[mi]=new Set);var r=t+"__bubble";n.has(r)||(Hr(e,t,2,!1),n.add(r))}function Br(t,e,n){var r=0;e&&(r|=4),Hr(n,t,r,e)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Ur(t){if(!t[jr]){t[jr]=!0,a.forEach((function(e){"selectionchange"!==e&&(Rr.has(e)||Br(e,!1,t),Br(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[jr]||(e[jr]=!0,Br("selectionchange",!1,e))}}function Hr(t,e,n,r){switch(Ye(e)){case 1:var i=$e;break;case 4:i=qe;break;default:i=Ge}n=i.bind(null,e,n,t),i=void 0,!Lt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Wr(t,e,n,r,i){var o=r;if(0==(1&e)&&0==(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue t}s=s.parentNode}}r=r.return}Ot((function(){var r=o,i=xt(n),a=[];t:{var s=Ar.get(t);if(void 0!==s){var l=un,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Tr:case Cr:case Ir:l=yn;break;case Nr:l=An;break;case"scroll":l=dn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!=(4&e),h=!u&&"scroll"===t,d=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&null!=(m=Mt(p,d))&&u.push($r(p,m,f))),h)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0==(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||n===wt||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(h=Ut(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(u=In,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?s:wi(l),f=null==c?s:wi(c),(s=new u(m,p+"leave",l,n,i)).target=h,s.relatedTarget=f,m=null,vi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)t:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break t;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Kr(a,s,l,u,!1),null!==c&&null!==h&&Kr(a,h,c,u,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Yn;else if(Wn(s))if(Xn)g=ar;else{g=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(t,r))?$n(a,g,n,i):(y&&y(t,s,r),"focusout"===t&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&tt(s,"number",s.value)),y=r?wi(r):window,t){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var v;if(Pn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Un?Bn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(v=tn()):(Je="value"in(Xe=i)?Xe.value:Xe.textContent,Un=!0)),0<(y=qr(r,b)).length&&(b=new wn(b,t,null,n,i),a.push({event:b,listeners:y}),(v||null!==(v=jn(n)))&&(b.data=v))),(v=Rn?function(t,e){switch(t){case"compositionend":return jn(e);case"keypress":return 32!==e.which?null:(Vn=!0,zn);case"textInput":return(t=e.data)===zn&&Vn?null:t;default:return null}}(t,n):function(t,e){if(Un)return"compositionend"===t||!Pn&&Bn(t,e)?(t=tn(),Ze=Je=Xe=null,Un=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fn&&"ko"!==e.locale?null:e.data}}(t,n))&&0<(r=qr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v)}zr(a,e)}))}function $r(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Mt(t,n))&&r.unshift($r(t,o,i)),null!=(o=Mt(t,e))&&r.push($r(t,o,i))),t=t.return}return r}function Gr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Kr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Mt(n,o))&&a.unshift($r(n,l,s)):i||null!=(l=Mt(n,o))&&a.push($r(n,l,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(t){return("string"==typeof t?t:""+t).replace(Qr,"\n").replace(Yr,"")}function Jr(t,e,n){if(e=Xr(e),Xr(t)!==e&&n)throw Error(o(425))}function Zr(){}var ti=null,ei=null;function ni(t,e){return"textarea"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,oi="function"==typeof Promise?Promise:void 0,ai="function"==typeof queueMicrotask?queueMicrotask:void 0!==oi?function(t){return oi.resolve(null).then(t).catch(si)}:ri;function si(t){setTimeout((function(){throw t}))}function li(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return t.removeChild(i),void Ue(e);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ue(e)}function ci(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ui(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(t){var e=t[di];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pi]||n[di]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ui(t);null!==t;){if(n=t[di])return n;t=ui(t)}return e}n=(t=n).parentNode}return null}function bi(t){return!(t=t[di]||t[pi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function wi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function xi(t){return t[fi]||null}var Ei=[],_i=-1;function ki(t){return{current:t}}function Si(t){0>_i||(t.current=Ei[_i],Ei[_i]=null,_i--)}function Ti(t,e){_i++,Ei[_i]=t.current,t.current=e}var Ci={},Ii=ki(Ci),Ni=ki(!1),Ai=Ci;function Oi(t,e){var n=t.type.contextTypes;if(!n)return Ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Mi(t){return null!=t.childContextTypes}function Li(){Si(Ni),Si(Ii)}function Pi(t,e,n){if(Ii.current!==Ci)throw Error(o(168));Ti(Ii,e),Ti(Ni,n)}function Di(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,H(t)||"Unknown",i));return F({},n,r)}function Ri(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ci,Ai=Ii.current,Ti(Ii,t),Ti(Ni,Ni.current),!0}function Fi(t,e,n){var r=t.stateNode;if(!r)throw Error(o(169));n?(t=Di(t,e,Ai),r.__reactInternalMemoizedMergedChildContext=t,Si(Ni),Si(Ii),Ti(Ii,t)):Si(Ni),Ti(Ni,n)}var zi=null,Vi=!1,Bi=!1;function ji(t){null===zi?zi=[t]:zi.push(t)}function Ui(){if(!Bi&&null!==zi){Bi=!0;var t=0,e=be;try{var n=zi;for(be=1;t<n.length;t++){var r=n[t];do{r=r(!0)}while(null!==r)}zi=null,Vi=!1}catch(e){throw null!==zi&&(zi=zi.slice(t+1)),Gt(Zt,Ui),e}finally{be=e,Bi=!1}}return null}var Hi=[],Wi=0,$i=null,qi=0,Gi=[],Ki=0,Qi=null,Yi=1,Xi="";function Ji(t,e){Hi[Wi++]=qi,Hi[Wi++]=$i,$i=t,qi=e}function Zi(t,e,n){Gi[Ki++]=Yi,Gi[Ki++]=Xi,Gi[Ki++]=Qi,Qi=t;var r=Yi;t=Xi;var i=32-ae(r)-1;r&=~(1<<i),n+=1;var o=32-ae(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-ae(e)+i|n<<i|r,Xi=o+t}else Yi=1<<o|n<<i|r,Xi=t}function to(t){null!==t.return&&(Ji(t,1),Zi(t,1,0))}function eo(t){for(;t===$i;)$i=Hi[--Wi],Hi[Wi]=null,qi=Hi[--Wi],Hi[Wi]=null;for(;t===Qi;)Qi=Gi[--Ki],Gi[Ki]=null,Xi=Gi[--Ki],Gi[Ki]=null,Yi=Gi[--Ki],Gi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function ao(t,e){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function so(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,no=t,ro=ci(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,no=t,ro=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Qi?{id:Yi,overflow:Xi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,no=t,ro=null,!0);default:return!1}}function lo(t){return 0!=(1&t.mode)&&0==(128&t.flags)}function co(t){if(io){var e=ro;if(e){var n=e;if(!so(t,e)){if(lo(t))throw Error(o(418));e=ci(n.nextSibling);var r=no;e&&so(t,e)?ao(r,n):(t.flags=-4097&t.flags|2,io=!1,no=t)}}else{if(lo(t))throw Error(o(418));t.flags=-4097&t.flags|2,io=!1,no=t}}}function uo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;no=t}function ho(t){if(t!==no)return!1;if(!io)return uo(t),io=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ni(t.type,t.memoizedProps)),e&&(e=ro)){if(lo(t))throw fo(),Error(o(418));for(;e;)ao(t,e),e=ci(e.nextSibling)}if(uo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ro=ci(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ro=null}}else ro=no?ci(t.stateNode.nextSibling):null;return!0}function fo(){for(var t=ro;t;)t=ci(t.nextSibling)}function po(){ro=no=null,io=!1}function mo(t){null===oo?oo=[t]:oo.push(t)}var go=w.ReactCurrentBatchConfig;function yo(t,e){if(t&&t.defaultProps){for(var n in e=F({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var vo=ki(null),bo=null,wo=null,xo=null;function Eo(){xo=wo=bo=null}function _o(t){var e=vo.current;Si(vo),t._currentValue=e}function ko(t,e,n){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function So(t,e){bo=t,xo=wo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!=(t.lanes&e)&&(ws=!0),t.firstContext=null)}function To(t){var e=t._currentValue;if(xo!==t)if(t={context:t,memoizedValue:e,next:null},null===wo){if(null===bo)throw Error(o(308));wo=t,bo.dependencies={lanes:0,firstContext:t}}else wo=wo.next=t;return e}var Co=null;function Io(t){null===Co?Co=[t]:Co.push(t)}function No(t,e,n,r){var i=e.interleaved;return null===i?(n.next=n,Io(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ao(t,r)}function Ao(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Oo=!1;function Mo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Po(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Do(t,e,n){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&Il)){var i=r.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ao(t,n)}return null===(i=r.interleaved)?(e.next=e,Io(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ao(t,n)}function Ro(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!=(4194240&n))){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ve(t,n)}}function Fo(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zo(t,e,n,r){var i=t.updateQueue;Oo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=t.alternate;null!==u&&(s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l)}if(null!==o){var h=i.baseState;for(a=0,u=c=l=null,s=o;;){var d=s.lane,f=s.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var p=t,m=s;switch(d=e,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,d);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=m.payload)?p.call(f,h,d):p))break t;h=F({},h,d);break t;case 2:Oo=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(e=i.shared.interleaved)){i=e;do{a|=i.lane,i=i.next}while(i!==e)}else null===o&&(i.shared.lanes=0);Rl|=a,t.lanes=a,t.memoizedState=h}}function Vo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var Bo=(new r.Component).refs;function jo(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:F({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var Uo={isMounted:function(t){return!!(t=t._reactInternals)&&Ut(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tc(),i=ec(t),o=Po(r,i);o.payload=e,null!=n&&(o.callback=n),null!==(e=Do(t,o,i))&&(nc(e,t,i,r),Ro(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tc(),i=ec(t),o=Po(r,i);o.tag=1,o.payload=e,null!=n&&(o.callback=n),null!==(e=Do(t,o,i))&&(nc(e,t,i,r),Ro(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tc(),r=ec(t),i=Po(n,r);i.tag=2,null!=e&&(i.callback=e),null!==(e=Do(t,i,r))&&(nc(e,t,r,n),Ro(e,t,r))}};function Ho(t,e,n,r,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!(e.prototype&&e.prototype.isPureReactComponent&&lr(n,r)&&lr(i,o))}function Wo(t,e,n){var r=!1,i=Ci,o=e.contextType;return"object"==typeof o&&null!==o?o=To(o):(i=Mi(e)?Ai:Ii.current,o=(r=null!=(r=e.contextTypes))?Oi(t,i):Ci),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Uo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function $o(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Uo.enqueueReplaceState(e,e.state,null)}function qo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Bo,Mo(t);var o=e.contextType;"object"==typeof o&&null!==o?i.context=To(o):(o=Mi(e)?Ai:Ii.current,i.context=Oi(t,o)),i.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(jo(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&Uo.enqueueReplaceState(i,i.state,null),zo(t,n,i,r),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4194308)}function Go(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,t));var i=r,a=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=i.refs;e===Bo&&(e=i.refs={}),null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!=typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function Ko(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qo(t){return(0,t._init)(t._payload)}function Yo(t){function e(e,n){if(t){var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Lc(t,e)).index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags|=2,n):r:(e.flags|=2,n):(e.flags|=1048576,n)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=Fc(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){var o=n.type;return o===_?h(t,e,n.props.children,r,n.key):null!==e&&(e.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===M&&Qo(o)===e.type)?((r=i(e,n.props)).ref=Go(t,e,n),r.return=t,r):((r=Pc(n.type,n.key,n.props,null,t.mode,r)).ref=Go(t,e,n),r.return=t,r)}function u(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=zc(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Dc(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function d(t,e,n){if("string"==typeof e&&""!==e||"number"==typeof e)return(e=Fc(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case x:return(n=Pc(e.type,e.key,e.props,null,t.mode,n)).ref=Go(t,null,e),n.return=t,n;case E:return(e=zc(e,t.mode,n)).return=t,e;case M:return d(t,(0,e._init)(e._payload),n)}if(et(e)||D(e))return(e=Dc(e,t.mode,n,null)).return=t,e;Ko(t,e)}return null}function f(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(t,e,n,r):null;case E:return n.key===i?u(t,e,n,r):null;case M:return f(t,e,(i=n._init)(n._payload),r)}if(et(n)||D(n))return null!==i?null:h(t,e,n,r,null);Ko(t,n)}return null}function p(t,e,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case x:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i);case E:return u(e,t=t.get(null===r.key?n:r.key)||null,r,i);case M:return p(t,e,n,(0,r._init)(r._payload),i)}if(et(r)||D(r))return h(e,t=t.get(n)||null,r,i,null);Ko(e,r)}return null}function m(i,o,s,l){for(var c=null,u=null,h=o,m=o=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,s[m],l);if(null===y){null===h&&(h=g);break}t&&h&&null===y.alternate&&e(i,h),o=a(y,o,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===s.length)return n(i,h),io&&Ji(i,m),c;if(null===h){for(;m<s.length;m++)null!==(h=d(i,s[m],l))&&(o=a(h,o,m),null===u?c=h:u.sibling=h,u=h);return io&&Ji(i,m),c}for(h=r(i,h);m<s.length;m++)null!==(g=p(h,i,m,s[m],l))&&(t&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return t&&h.forEach((function(t){return e(i,t)})),io&&Ji(i,m),c}function g(i,s,l,c){var u=D(l);if("function"!=typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}t&&m&&null===b.alternate&&e(i,m),s=a(b,s,g),null===h?u=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),io&&Ji(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(s=a(v,s,g),null===h?u=v:h.sibling=v,h=v);return io&&Ji(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(t&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===h?u=v:h.sibling=v,h=v);return t&&m.forEach((function(t){return e(i,t)})),io&&Ji(i,g),u}return function t(r,o,a,l){if("object"==typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case x:t:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===_){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break t}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===M&&Qo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=Go(r,u,a),o.return=r,r=o;break t}n(r,u);break}e(r,u),u=u.sibling}a.type===_?((o=Dc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Pc(a.type,a.key,a.props,null,r.mode,l)).ref=Go(r,o,a),l.return=r,r=l)}return s(r);case E:t:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break t}n(r,o);break}e(r,o),o=o.sibling}(o=zc(a,r.mode,l)).return=r,r=o}return s(r);case M:return t(r,o,(u=a._init)(a._payload),l)}if(et(a))return m(r,o,a,l);if(D(a))return g(r,o,a,l);Ko(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Xo=Yo(!0),Jo=Yo(!1),Zo={},ta=ki(Zo),ea=ki(Zo),na=ki(Zo);function ra(t){if(t===Zo)throw Error(o(174));return t}function ia(t,e){switch(Ti(na,e),Ti(ea,t),Ti(ta,Zo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Si(ta),Ti(ta,e)}function oa(){Si(ta),Si(ea),Si(na)}function aa(t){ra(na.current);var e=ra(ta.current),n=lt(e,t.type);e!==n&&(Ti(ea,t),Ti(ta,n))}function sa(t){ea.current===t&&(Si(ta),Si(ea))}var la=ki(0);function ca(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ua=[];function ha(){for(var t=0;t<ua.length;t++)ua[t]._workInProgressVersionPrimary=null;ua.length=0}var da=w.ReactCurrentDispatcher,fa=w.ReactCurrentBatchConfig,pa=0,ma=null,ga=null,ya=null,va=!1,ba=!1,wa=0,xa=0;function Ea(){throw Error(o(321))}function _a(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function ka(t,e,n,r,i,a){if(pa=a,ma=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,da.current=null===t||null===t.memoizedState?ss:ls,t=n(r,i),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(o(301));a+=1,ya=ga=null,e.updateQueue=null,da.current=cs,t=n(r,i)}while(ba)}if(da.current=as,e=null!==ga&&null!==ga.next,pa=0,ya=ga=ma=null,va=!1,e)throw Error(o(300));return t}function Sa(){var t=0!==wa;return wa=0,t}function Ta(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?ma.memoizedState=ya=t:ya=ya.next=t,ya}function Ca(){if(null===ga){var t=ma.alternate;t=null!==t?t.memoizedState:null}else t=ga.next;var e=null===ya?ma.memoizedState:ya.next;if(null!==e)ya=e,ga=t;else{if(null===t)throw Error(o(310));t={memoizedState:(ga=t).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===ya?ma.memoizedState=ya=t:ya=ya.next=t}return ya}function Ia(t,e){return"function"==typeof e?e(t):e}function Na(t){var e=Ca(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var h=u.lane;if((pa&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,s=r):c=c.next=d,ma.lanes|=h,Rl|=h}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,e.memoizedState)||(ws=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,n.lastRenderedState=r}if(null!==(t=n.interleaved)){i=t;do{a=i.lane,ma.lanes|=a,Rl|=a,i=i.next}while(i!==t)}else null===i&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Aa(t){var e=Ca(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=t(a,s.action),s=s.next}while(s!==i);sr(a,e.memoizedState)||(ws=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Oa(){}function Ma(t,e){var n=ma,r=Ca(),i=e(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ws=!0),r=r.queue,Wa(Da.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||null!==ya&&1&ya.memoizedState.tag){if(n.flags|=2048,Va(9,Pa.bind(null,n,r,i,e),void 0,null),null===Nl)throw Error(o(349));0!=(30&pa)||La(n,e,i)}return i}function La(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=ma.updateQueue)?(e={lastEffect:null,stores:null},ma.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Pa(t,e,n,r){e.value=n,e.getSnapshot=r,Ra(e)&&Fa(t)}function Da(t,e,n){return n((function(){Ra(e)&&Fa(t)}))}function Ra(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch(t){return!0}}function Fa(t){var e=Ao(t,1);null!==e&&nc(e,t,1,-1)}function za(t){var e=Ta();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:t},e.queue=t,t=t.dispatch=ns.bind(null,ma,t),[e.memoizedState,t]}function Va(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=ma.updateQueue)?(e={lastEffect:null,stores:null},ma.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Ba(){return Ca().memoizedState}function ja(t,e,n,r){var i=Ta();ma.flags|=t,i.memoizedState=Va(1|e,n,void 0,void 0===r?null:r)}function Ua(t,e,n,r){var i=Ca();r=void 0===r?null:r;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==r&&_a(r,a.deps))return void(i.memoizedState=Va(e,n,o,r))}ma.flags|=t,i.memoizedState=Va(1|e,n,o,r)}function Ha(t,e){return ja(8390656,8,t,e)}function Wa(t,e){return Ua(2048,8,t,e)}function $a(t,e){return Ua(4,2,t,e)}function qa(t,e){return Ua(4,4,t,e)}function Ga(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ka(t,e,n){return n=null!=n?n.concat([t]):null,Ua(4,4,Ga.bind(null,e,t),n)}function Qa(){}function Ya(t,e){var n=Ca();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&_a(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Xa(t,e){var n=Ca();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&_a(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ja(t,e,n){return 0==(21&pa)?(t.baseState&&(t.baseState=!1,ws=!0),t.memoizedState=n):(sr(n,e)||(n=me(),ma.lanes|=n,Rl|=n,t.baseState=!0),e)}function Za(t,e){var n=be;be=0!==n&&4>n?n:4,t(!0);var r=fa.transition;fa.transition={};try{t(!1),e()}finally{be=n,fa.transition=r}}function ts(){return Ca().memoizedState}function es(t,e,n){var r=ec(t);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(t)?is(e,n):null!==(n=No(t,e,n,r))&&(nc(n,t,r,tc()),os(n,e,r))}function ns(t,e,n){var r=ec(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(t))is(e,i);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=e.interleaved;return null===l?(i.next=i,Io(e)):(i.next=l.next,l.next=i),void(e.interleaved=i)}}catch(t){}null!==(n=No(t,e,i,r))&&(nc(n,t,r,i=tc()),os(n,e,r))}}function rs(t){var e=t.alternate;return t===ma||null!==e&&e===ma}function is(t,e){ba=va=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function os(t,e,n){if(0!=(4194240&n)){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ve(t,n)}}var as={readContext:To,useCallback:Ea,useContext:Ea,useEffect:Ea,useImperativeHandle:Ea,useInsertionEffect:Ea,useLayoutEffect:Ea,useMemo:Ea,useReducer:Ea,useRef:Ea,useState:Ea,useDebugValue:Ea,useDeferredValue:Ea,useTransition:Ea,useMutableSource:Ea,useSyncExternalStore:Ea,useId:Ea,unstable_isNewReconciler:!1},ss={readContext:To,useCallback:function(t,e){return Ta().memoizedState=[t,void 0===e?null:e],t},useContext:To,useEffect:Ha,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,ja(4194308,4,Ga.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ja(4194308,4,t,e)},useInsertionEffect:function(t,e){return ja(4,2,t,e)},useMemo:function(t,e){var n=Ta();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ta();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=es.bind(null,ma,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Ta().memoizedState=t},useState:za,useDebugValue:Qa,useDeferredValue:function(t){return Ta().memoizedState=t},useTransition:function(){var t=za(!1),e=t[0];return t=Za.bind(null,t[1]),Ta().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ma,i=Ta();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=e(),null===Nl)throw Error(o(349));0!=(30&pa)||La(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,Ha(Da.bind(null,r,a,t),[t]),r.flags|=2048,Va(9,Pa.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Ta(),e=Nl.identifierPrefix;if(io){var n=Xi;e=":"+e+"R"+(n=(Yi&~(1<<32-ae(Yi)-1)).toString(32)+n),0<(n=wa++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=xa++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ls={readContext:To,useCallback:Ya,useContext:To,useEffect:Wa,useImperativeHandle:Ka,useInsertionEffect:$a,useLayoutEffect:qa,useMemo:Xa,useReducer:Na,useRef:Ba,useState:function(){return Na(Ia)},useDebugValue:Qa,useDeferredValue:function(t){return Ja(Ca(),ga.memoizedState,t)},useTransition:function(){return[Na(Ia)[0],Ca().memoizedState]},useMutableSource:Oa,useSyncExternalStore:Ma,useId:ts,unstable_isNewReconciler:!1},cs={readContext:To,useCallback:Ya,useContext:To,useEffect:Wa,useImperativeHandle:Ka,useInsertionEffect:$a,useLayoutEffect:qa,useMemo:Xa,useReducer:Aa,useRef:Ba,useState:function(){return Aa(Ia)},useDebugValue:Qa,useDeferredValue:function(t){var e=Ca();return null===ga?e.memoizedState=t:Ja(e,ga.memoizedState,t)},useTransition:function(){return[Aa(Ia)[0],Ca().memoizedState]},useMutableSource:Oa,useSyncExternalStore:Ma,useId:ts,unstable_isNewReconciler:!1};function us(t,e){try{var n="",r=e;do{n+=j(r),r=r.return}while(r);var i=n}catch(t){i="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:e,stack:i,digest:null}}function hs(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function ds(t,e){try{console.error(e.value)}catch(t){setTimeout((function(){throw t}))}}var fs="function"==typeof WeakMap?WeakMap:Map;function ps(t,e,n){(n=Po(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wl||(Wl=!0,$l=r),ds(0,e)},n}function ms(t,e,n){(n=Po(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,e)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){ds(0,e),"function"!=typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function gs(t,e,n){var r=t.pingCache;if(null===r){r=t.pingCache=new fs;var i=new Set;r.set(e,i)}else void 0===(i=r.get(e))&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Sc.bind(null,t,e,n),e.then(t,t))}function ys(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function vs(t,e,n,r,i){return 0==(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Po(-1,1)).tag=2,Do(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var bs=w.ReactCurrentOwner,ws=!1;function xs(t,e,n,r){e.child=null===t?Jo(e,null,n,r):Xo(e,t.child,n,r)}function Es(t,e,n,r,i){n=n.render;var o=e.ref;return So(e,i),r=ka(t,e,n,r,o,i),n=Sa(),null===t||ws?(io&&n&&to(e),e.flags|=1,xs(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ws(t,e,i))}function _s(t,e,n,r,i){if(null===t){var o=n.type;return"function"!=typeof o||Mc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Pc(n.type,null,r,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,ks(t,e,o,r,i))}if(o=t.child,0==(t.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&t.ref===e.ref)return Ws(t,e,i)}return e.flags|=1,(t=Lc(o,r)).ref=e.ref,t.return=e,e.child=t}function ks(t,e,n,r,i){if(null!==t){var o=t.memoizedProps;if(lr(o,r)&&t.ref===e.ref){if(ws=!1,e.pendingProps=r=o,0==(t.lanes&i))return e.lanes=t.lanes,Ws(t,e,i);0!=(131072&t.flags)&&(ws=!0)}}return Cs(t,e,n,r,i)}function Ss(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode)if(0==(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ll,Ml),Ml|=n;else{if(0==(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ti(Ll,Ml),Ml|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Ll,Ml),Ml|=r}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ti(Ll,Ml),Ml|=r;return xs(t,e,i,n),e.child}function Ts(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Cs(t,e,n,r,i){var o=Mi(n)?Ai:Ii.current;return o=Oi(e,o),So(e,i),n=ka(t,e,n,r,o,i),r=Sa(),null===t||ws?(io&&r&&to(e),e.flags|=1,xs(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ws(t,e,i))}function Is(t,e,n,r,i){if(Mi(n)){var o=!0;Ri(e)}else o=!1;if(So(e,i),null===e.stateNode)Hs(t,e),Wo(e,n,r),qo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=n.contextType;c="object"==typeof c&&null!==c?To(c):Oi(e,c=Mi(n)?Ai:Ii.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&$o(e,a,r,c),Oo=!1;var d=e.memoizedState;a.state=d,zo(e,r,a,i),l=e.memoizedState,s!==r||d!==l||Ni.current||Oo?("function"==typeof u&&(jo(e,n,u,r),l=e.memoizedState),(s=Oo||Ho(e,n,s,r,d,l,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.flags|=4194308)):("function"==typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Lo(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:yo(e.type,s),a.props=c,h=e.pendingProps,d=a.context,l="object"==typeof(l=n.contextType)&&null!==l?To(l):Oi(e,l=Mi(n)?Ai:Ii.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==h||d!==l)&&$o(e,a,r,l),Oo=!1,d=e.memoizedState,a.state=d,zo(e,r,a,i);var p=e.memoizedState;s!==h||d!==p||Ni.current||Oo?("function"==typeof f&&(jo(e,n,f,r),p=e.memoizedState),(c=Oo||Ho(e,n,c,r,d,p,l)||!1)?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(e.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Ns(t,e,n,r,o,i)}function Ns(t,e,n,r,i,o){Ts(t,e);var a=0!=(128&e.flags);if(!r&&!a)return i&&Fi(e,n,!1),Ws(t,e,o);r=e.stateNode,bs.current=e;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=Xo(e,t.child,null,o),e.child=Xo(e,null,s,o)):xs(t,e,s,o),e.memoizedState=r.state,i&&Fi(e,n,!0),e.child}function As(t){var e=t.stateNode;e.pendingContext?Pi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Pi(0,e.context,!1),ia(t,e.containerInfo)}function Os(t,e,n,r,i){return po(),mo(i),e.flags|=256,xs(t,e,n,r),e.child}var Ms,Ls,Ps,Ds={dehydrated:null,treeContext:null,retryLane:0};function Rs(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fs(t,e,n){var r,i=e.pendingProps,a=la.current,s=!1,l=0!=(128&e.flags);if((r=l)||(r=(null===t||null!==t.memoizedState)&&0!=(2&a)),r?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),Ti(la,1&a),null===t)return co(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0==(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=i.children,t=i.fallback,s?(i=e.mode,s=e.child,l={mode:"hidden",children:l},0==(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Rc(l,i,0,null),t=Dc(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Rs(n),e.memoizedState=Ds,t):zs(e,l));if(null!==(a=t.memoizedState)&&null!==(r=a.dehydrated))return function(t,e,n,r,i,a,s){if(n)return 256&e.flags?(e.flags&=-257,Vs(t,e,s,r=hs(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Rc({mode:"visible",children:r.children},i,0,null),(a=Dc(a,i,s,null)).flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,0!=(1&e.mode)&&Xo(e,t.child,null,s),e.child.memoizedState=Rs(s),e.memoizedState=Ds,a);if(0==(1&e.mode))return Vs(t,e,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Vs(t,e,s,r=hs(a=Error(o(419)),r,void 0))}if(l=0!=(s&t.childLanes),ws||l){if(null!==(r=Nl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ao(t,i),nc(r,t,i,-1))}return mc(),Vs(t,e,s,r=hs(Error(o(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=Cc.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ro=ci(i.nextSibling),no=e,io=!0,oo=null,null!==t&&(Gi[Ki++]=Yi,Gi[Ki++]=Xi,Gi[Ki++]=Qi,Yi=t.id,Xi=t.overflow,Qi=e),(e=zs(e,r.children)).flags|=4096,e)}(t,e,l,i,r,a,n);if(s){s=i.fallback,l=e.mode,r=(a=t.child).sibling;var c={mode:"hidden",children:i.children};return 0==(1&l)&&e.child!==a?((i=e.child).childLanes=0,i.pendingProps=c,e.deletions=null):(i=Lc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Lc(r,s):(s=Dc(s,l,n,null)).flags|=2,s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,l=null===(l=t.child.memoizedState)?Rs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~n,e.memoizedState=Ds,i}return t=(s=t.child).sibling,i=Lc(s,{mode:"visible",children:i.children}),0==(1&e.mode)&&(i.lanes=n),i.return=e,i.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function zs(t,e){return(e=Rc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Vs(t,e,n,r){return null!==r&&mo(r),Xo(e,t.child,null,n),(t=zs(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Bs(t,e,n){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),ko(t.return,e,n)}function js(t,e,n,r,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Us(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(xs(t,e,r.children,n),0!=(2&(r=la.current)))r=1&r|2,e.flags|=128;else{if(null!==t&&0!=(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Bs(t,n,e);else if(19===t.tag)Bs(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ti(la,r),0==(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===ca(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),js(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===ca(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}js(e,!0,n,null,o);break;case"together":js(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hs(t,e){0==(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ws(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Rl|=e.lanes,0==(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Lc(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Lc(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function $s(t,e){if(!io)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qs(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Gs(t,e,n){var r=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(e),null;case 1:case 17:return Mi(e.type)&&Li(),qs(e),null;case 3:return r=e.stateNode,oa(),Si(Ni),Si(Ii),ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(ho(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0==(256&e.flags)||(e.flags|=1024,null!==oo&&(ac(oo),oo=null))),qs(e),null;case 5:sa(e);var i=ra(na.current);if(n=e.type,null!==t&&null!=e.stateNode)Ls(t,e,n,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(null===e.stateNode)throw Error(o(166));return qs(e),null}if(t=ra(ta.current),ho(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[di]=e,r[fi]=a,t=0!=(1&e.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Vr(Dr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,a),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Vr("invalid",r);break;case"textarea":it(r,a),Vr("invalid",r)}for(var l in vt(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"==typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,t),i=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,t),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":q(r),Z(r,a,!0);break;case"textarea":q(r),at(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Zr)}r=i,e.updateQueue=r,null!==r&&(e.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=st(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof r.is?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),"select"===n&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[di]=e,t[fi]=r,Ms(t,e),e.stateNode=t;t:{switch(l=bt(n,r),n){case"dialog":Vr("cancel",t),Vr("close",t),i=r;break;case"iframe":case"object":case"embed":Vr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Vr(Dr[i],t);i=r;break;case"source":Vr("error",t),i=r;break;case"img":case"image":case"link":Vr("error",t),Vr("load",t),i=r;break;case"details":Vr("toggle",t),i=r;break;case"input":Y(t,r),i=Q(t,r),Vr("invalid",t);break;case"option":default:i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",t);break;case"textarea":it(t,r),i=rt(t,r),Vr("invalid",t)}for(a in vt(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?gt(t,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&ht(t,u):"children"===a?"string"==typeof u?("textarea"!==n||""!==u)&&dt(t,u):"number"==typeof u&&dt(t,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Vr("scroll",t):null!=u&&b(t,a,u,l))}switch(n){case"input":q(t),Z(t,r,!1);break;case"textarea":q(t),at(t);break;case"option":null!=r.value&&t.setAttribute("value",""+W(r.value));break;case"select":t.multiple=!!r.multiple,null!=(a=r.value)?nt(t,!!r.multiple,a,!1):null!=r.defaultValue&&nt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(t.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return qs(e),null;case 6:if(t&&null!=e.stateNode)Ps(0,e,t.memoizedProps,r);else{if("string"!=typeof r&&null===e.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ta.current),ho(e)){if(r=e.stateNode,n=e.memoizedProps,r[di]=e,(a=r.nodeValue!==n)&&null!==(t=no))switch(t.tag){case 3:Jr(r.nodeValue,n,0!=(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!=(1&t.mode))}a&&(e.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=e,e.stateNode=r}return qs(e),null;case 13:if(Si(la),r=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(io&&null!==ro&&0!=(1&e.mode)&&0==(128&e.flags))fo(),po(),e.flags|=98560,a=!1;else if(a=ho(e),null!==r&&null!==r.dehydrated){if(null===t){if(!a)throw Error(o(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(o(317));a[di]=e}else po(),0==(128&e.flags)&&(e.memoizedState=null),e.flags|=4;qs(e),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!=(128&e.flags)?(e.lanes=n,e):((r=null!==r)!=(null!==t&&null!==t.memoizedState)&&r&&(e.child.flags|=8192,0!=(1&e.mode)&&(null===t||0!=(1&la.current)?0===Pl&&(Pl=3):mc())),null!==e.updateQueue&&(e.flags|=4),qs(e),null);case 4:return oa(),null===t&&Ur(e.stateNode.containerInfo),qs(e),null;case 10:return _o(e.type._context),qs(e),null;case 19:if(Si(la),null===(a=e.memoizedState))return qs(e),null;if(r=0!=(128&e.flags),null===(l=a.rendering))if(r)$s(a,!1);else{if(0!==Pl||null!==t&&0!=(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=ca(t))){for(e.flags|=128,$s(a,!1),null!==(r=l.updateQueue)&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;null!==n;)t=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ti(la,1&la.current|2),e.child}t=t.sibling}null!==a.tail&&Xt()>Ul&&(e.flags|=128,r=!0,$s(a,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=ca(l))){if(e.flags|=128,r=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),$s(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return qs(e),null}else 2*Xt()-a.renderingStartTime>Ul&&1073741824!==n&&(e.flags|=128,r=!0,$s(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=a.last)?n.sibling=l:e.child=l,a.last=l)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Xt(),e.sibling=null,n=la.current,Ti(la,r?1&n|2:1&n),e):(qs(e),null);case 22:case 23:return hc(),r=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==r&&(e.flags|=8192),r&&0!=(1&e.mode)?0!=(1073741824&Ml)&&(qs(e),6&e.subtreeFlags&&(e.flags|=8192)):qs(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function Ks(t,e){switch(eo(e),e.tag){case 1:return Mi(e.type)&&Li(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return oa(),Si(Ni),Si(Ii),ha(),0!=(65536&(t=e.flags))&&0==(128&t)?(e.flags=-65537&t|128,e):null;case 5:return sa(e),null;case 13:if(Si(la),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));po()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Si(la),null;case 4:return oa(),null;case 10:return _o(e.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ms=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ls=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ra(ta.current);var o,a=null;switch(n){case"input":i=Q(t,i),r=Q(t,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=rt(t,i),r=rt(t,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(t.onclick=Zr)}for(u in vt(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}},Ps=function(t,e,n,r){n!==r&&(e.flags|=4)};var Qs=!1,Ys=!1,Xs="function"==typeof WeakSet?WeakSet:Set,Js=null;function Zs(t,e){var n=t.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){kc(t,e,n)}else n.current=null}function tl(t,e,n){try{n()}catch(n){kc(t,e,n)}}var el=!1;function nl(t,e,n){var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(e,n,o)}i=i.next}while(i!==r)}}function rl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function il(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"==typeof e?e(t):e.current=t}}function ol(t){var e=t.alternate;null!==e&&(t.alternate=null,ol(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(e=t.stateNode)&&(delete e[di],delete e[fi],delete e[mi],delete e[gi],delete e[yi]),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function al(t){return 5===t.tag||3===t.tag||4===t.tag}function sl(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||al(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ll(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!=(n=n._reactRootContainer)||null!==e.onclick||(e.onclick=Zr));else if(4!==r&&null!==(t=t.child))for(ll(t,e,n),t=t.sibling;null!==t;)ll(t,e,n),t=t.sibling}function cl(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}var ul=null,hl=!1;function dl(t,e,n){for(n=n.child;null!==n;)fl(t,e,n),n=n.sibling}function fl(t,e,n){if(oe&&"function"==typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(ie,n)}catch(t){}switch(n.tag){case 5:Ys||Zs(n,e);case 6:var r=ul,i=hl;ul=null,dl(t,e,n),hl=i,null!==(ul=r)&&(hl?(t=ul,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(t=ul,n=n.stateNode,8===t.nodeType?li(t.parentNode,n):1===t.nodeType&&li(t,n),Ue(t)):li(ul,n.stateNode));break;case 4:r=ul,i=hl,ul=n.stateNode.containerInfo,hl=!0,dl(t,e,n),ul=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ys&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!=(2&o)||0!=(4&o))&&tl(n,e,a),i=i.next}while(i!==r)}dl(t,e,n);break;case 1:if(!Ys&&(Zs(n,e),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(t){kc(n,e,t)}dl(t,e,n);break;case 21:dl(t,e,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,dl(t,e,n),Ys=r):dl(t,e,n);break;default:dl(t,e,n)}}function pl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Xs),e.forEach((function(e){var r=Ic.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function ml(t,e){var n=e.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,l=s;t:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break t;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break t}l=l.return}if(null===ul)throw Error(o(160));fl(a,s,i),ul=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(t){kc(i,e,t)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)gl(e,t),e=e.sibling}function gl(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ml(e,t),yl(t),4&r){try{nl(3,t,t.return),rl(3,t)}catch(e){kc(t,t.return,e)}try{nl(5,t,t.return)}catch(e){kc(t,t.return,e)}}break;case 1:ml(e,t),yl(t),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(e,t),yl(t),512&r&&null!==n&&Zs(n,n.return),32&t.flags){var i=t.stateNode;try{dt(i,"")}catch(e){kc(t,t.return,e)}}if(4&r&&null!=(i=t.stateNode)){var a=t.memoizedProps,s=null!==n?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),bt(l,s);var u=bt(l,a);for(s=0;s<c.length;s+=2){var h=c[s],d=c[s+1];"style"===h?gt(i,d):"dangerouslySetInnerHTML"===h?ht(i,d):"children"===h?dt(i,d):b(i,h,d,u)}switch(l){case"input":J(i,a);break;case"textarea":ot(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?nt(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?nt(i,!!a.multiple,a.defaultValue,!0):nt(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(e){kc(t,t.return,e)}}break;case 6:if(ml(e,t),yl(t),4&r){if(null===t.stateNode)throw Error(o(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(e){kc(t,t.return,e)}}break;case 3:if(ml(e,t),yl(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ue(e.containerInfo)}catch(e){kc(t,t.return,e)}break;case 4:default:ml(e,t),yl(t);break;case 13:ml(e,t),yl(t),8192&(i=t.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(jl=Xt())),4&r&&pl(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Ys=(u=Ys)||h,ml(e,t),Ys=u):ml(e,t),yl(t),8192&r){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!h&&0!=(1&t.mode))for(Js=t,h=t.child;null!==h;){for(d=Js=h;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(t){kc(r,n,t)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){xl(d);continue}}null!==p?(p.return=f,Js=p):xl(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"==typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,s=null!=(c=d.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=mt("display",s))}catch(e){kc(t,t.return,e)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(e){kc(t,t.return,e)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(e,t),yl(t),4&r&&pl(t);case 21:}}function yl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(al(n)){var r=n;break t}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(dt(i,""),r.flags&=-33),cl(t,sl(t),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(t,sl(t),a);break;default:throw Error(o(161))}}catch(e){kc(t,t.return,e)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function vl(t,e,n){Js=t,bl(t,e,n)}function bl(t,e,n){for(var r=0!=(1&t.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=Qs;var c=Ys;if(Qs=a,(Ys=l)&&!c)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?El(i):null!==l?(l.return=a,Js=l):El(i);for(;null!==o;)Js=o,bl(o,e,n),o=o.sibling;Js=i,Qs=s,Ys=c}wl(t)}else 0!=(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):wl(t)}}function wl(t){for(;null!==Js;){var e=Js;if(0!=(8772&e.flags)){var n=e.alternate;try{if(0!=(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Ys||rl(5,e);break;case 1:var r=e.stateNode;if(4&e.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&Vo(e,a,r);break;case 3:var s=e.updateQueue;if(null!==s){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Vo(e,s,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ue(d)}}}break;default:throw Error(o(163))}Ys||512&e.flags&&il(e)}catch(t){kc(e,e.return,t)}}if(e===t){Js=null;break}if(null!==(n=e.sibling)){n.return=e.return,Js=n;break}Js=e.return}}function xl(t){for(;null!==Js;){var e=Js;if(e===t){Js=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Js=n;break}Js=e.return}}function El(t){for(;null!==Js;){var e=Js;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rl(4,e)}catch(t){kc(e,n,t)}break;case 1:var r=e.stateNode;if("function"==typeof r.componentDidMount){var i=e.return;try{r.componentDidMount()}catch(t){kc(e,i,t)}}var o=e.return;try{il(e)}catch(t){kc(e,o,t)}break;case 5:var a=e.return;try{il(e)}catch(t){kc(e,a,t)}}}catch(t){kc(e,e.return,t)}if(e===t){Js=null;break}var s=e.sibling;if(null!==s){s.return=e.return,Js=s;break}Js=e.return}}var _l,kl=Math.ceil,Sl=w.ReactCurrentDispatcher,Tl=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Il=0,Nl=null,Al=null,Ol=0,Ml=0,Ll=ki(0),Pl=0,Dl=null,Rl=0,Fl=0,zl=0,Vl=null,Bl=null,jl=0,Ul=1/0,Hl=null,Wl=!1,$l=null,ql=null,Gl=!1,Kl=null,Ql=0,Yl=0,Xl=null,Jl=-1,Zl=0;function tc(){return 0!=(6&Il)?Xt():-1!==Jl?Jl:Jl=Xt()}function ec(t){return 0==(1&t.mode)?1:0!=(2&Il)&&0!==Ol?Ol&-Ol:null!==go.transition?(0===Zl&&(Zl=me()),Zl):0!==(t=be)?t:t=void 0===(t=window.event)?16:Ye(t.type)}function nc(t,e,n,r){if(50<Yl)throw Yl=0,Xl=null,Error(o(185));ye(t,n,r),0!=(2&Il)&&t===Nl||(t===Nl&&(0==(2&Il)&&(Fl|=n),4===Pl&&sc(t,Ol)),rc(t,r),1===n&&0===Il&&0==(1&e.mode)&&(Ul=Xt()+500,Vi&&Ui()))}function rc(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ae(o),s=1<<a,l=i[a];-1===l?0!=(s&n)&&0==(s&r)||(i[a]=fe(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}(t,e);var r=de(t,t===Nl?Ol:0);if(0===r)null!==n&&Kt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(null!=n&&Kt(n),1===e)0===t.tag?function(t){Vi=!0,ji(t)}(lc.bind(null,t)):ji(lc.bind(null,t)),ai((function(){0==(6&Il)&&Ui()})),n=null;else{switch(we(r)){case 1:n=Zt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=re}n=Nc(n,ic.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ic(t,e){if(Jl=-1,Zl=0,0!=(6&Il))throw Error(o(327));var n=t.callbackNode;if(Ec()&&t.callbackNode!==n)return null;var r=de(t,t===Nl?Ol:0);if(0===r)return null;if(0!=(30&r)||0!=(r&t.expiredLanes)||e)e=gc(t,r);else{e=r;var i=Il;Il|=2;var a=pc();for(Nl===t&&Ol===e||(Hl=null,Ul=Xt()+500,dc(t,e));;)try{vc();break}catch(e){fc(t,e)}Eo(),Sl.current=a,Il=i,null!==Al?e=0:(Nl=null,Ol=0,e=Pl)}if(0!==e){if(2===e&&0!==(i=pe(t))&&(r=i,e=oc(t,i)),1===e)throw n=Dl,dc(t,0),sc(t,r),rc(t,Xt()),n;if(6===e)sc(t,r);else{if(i=t.current.alternate,0==(30&r)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(t){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=gc(t,r))&&0!==(a=pe(t))&&(r=a,e=oc(t,a)),1===e))throw n=Dl,dc(t,0),sc(t,r),rc(t,Xt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(o(345));case 2:case 5:xc(t,Bl,Hl);break;case 3:if(sc(t,r),(130023424&r)===r&&10<(e=jl+500-Xt())){if(0!==de(t,0))break;if(((i=t.suspendedLanes)&r)!==r){tc(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ri(xc.bind(null,t,Bl,Hl),e);break}xc(t,Bl,Hl);break;case 4:if(sc(t,r),(4194240&r)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ae(r);a=1<<s,(s=e[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){t.timeoutHandle=ri(xc.bind(null,t,Bl,Hl),r);break}xc(t,Bl,Hl);break;default:throw Error(o(329))}}}return rc(t,Xt()),t.callbackNode===n?ic.bind(null,t):null}function oc(t,e){var n=Vl;return t.current.memoizedState.isDehydrated&&(dc(t,e).flags|=256),2!==(t=gc(t,e))&&(e=Bl,Bl=n,null!==e&&ac(e)),t}function ac(t){null===Bl?Bl=t:Bl.push.apply(Bl,t)}function sc(t,e){for(e&=~zl,e&=~Fl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ae(e),r=1<<n;t[n]=-1,e&=~r}}function lc(t){if(0!=(6&Il))throw Error(o(327));Ec();var e=de(t,0);if(0==(1&e))return rc(t,Xt()),null;var n=gc(t,e);if(0!==t.tag&&2===n){var r=pe(t);0!==r&&(e=r,n=oc(t,r))}if(1===n)throw n=Dl,dc(t,0),sc(t,e),rc(t,Xt()),n;if(6===n)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xc(t,Bl,Hl),rc(t,Xt()),null}function cc(t,e){var n=Il;Il|=1;try{return t(e)}finally{0===(Il=n)&&(Ul=Xt()+500,Vi&&Ui())}}function uc(t){null!==Kl&&0===Kl.tag&&0==(6&Il)&&Ec();var e=Il;Il|=1;var n=Cl.transition,r=be;try{if(Cl.transition=null,be=1,t)return t()}finally{be=r,Cl.transition=n,0==(6&(Il=e))&&Ui()}}function hc(){Ml=Ll.current,Si(Ll)}function dc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(eo(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Li();break;case 3:oa(),Si(Ni),Si(Ii),ha();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Si(la);break;case 10:_o(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nl=t,Al=t=Lc(t.current,null),Ol=Ml=e,Pl=0,Dl=null,zl=Fl=Rl=0,Bl=Vl=null,null!==Co){for(e=0;e<Co.length;e++)if(null!==(r=(n=Co[e]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Co=null}return t}function fc(t,e){for(;;){var n=Al;try{if(Eo(),da.current=as,va){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(pa=0,ya=ga=ma=null,ba=!1,wa=0,Tl.current=null,null===n||null===n.return){Pl=1,Dl=e,Al=null;break}t:{var a=t,s=n.return,l=n,c=e;if(e=Ol,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,h=l,d=h.tag;if(0==(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,vs(p,s,l,0,e),1&p.mode&&gs(a,u,e),c=u;var m=(e=p).updateQueue;if(null===m){var g=new Set;g.add(c),e.updateQueue=g}else m.add(c);break t}if(0==(1&e)){gs(a,u,e),mc();break t}c=Error(o(426))}else if(io&&1&l.mode){var y=ys(s);if(null!==y){0==(65536&y.flags)&&(y.flags|=256),vs(y,s,l,0,e),mo(us(c,l));break t}}a=c=us(c,l),4!==Pl&&(Pl=2),null===Vl?Vl=[a]:Vl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,Fo(a,ps(0,c,e));break t;case 1:l=c;var v=a.type,b=a.stateNode;if(0==(128&a.flags)&&("function"==typeof v.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e,Fo(a,ms(a,l,e));break t}}a=a.return}while(null!==a)}wc(n)}catch(t){e=t,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pc(){var t=Sl.current;return Sl.current=as,null===t?as:t}function mc(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===Nl||0==(268435455&Rl)&&0==(268435455&Fl)||sc(Nl,Ol)}function gc(t,e){var n=Il;Il|=2;var r=pc();for(Nl===t&&Ol===e||(Hl=null,dc(t,e));;)try{yc();break}catch(e){fc(t,e)}if(Eo(),Il=n,Sl.current=r,null!==Al)throw Error(o(261));return Nl=null,Ol=0,Pl}function yc(){for(;null!==Al;)bc(Al)}function vc(){for(;null!==Al&&!Qt();)bc(Al)}function bc(t){var e=_l(t.alternate,t,Ml);t.memoizedProps=t.pendingProps,null===e?wc(t):Al=e,Tl.current=null}function wc(t){var e=t;do{var n=e.alternate;if(t=e.return,0==(32768&e.flags)){if(null!==(n=Gs(n,e,Ml)))return void(Al=n)}else{if(null!==(n=Ks(n,e)))return n.flags&=32767,void(Al=n);if(null===t)return Pl=6,void(Al=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Al=e);Al=e=t}while(null!==e);0===Pl&&(Pl=5)}function xc(t,e,n){var r=be,i=Cl.transition;try{Cl.transition=null,be=1,function(t,e,n,r){do{Ec()}while(null!==Kl);if(0!=(6&Il))throw Error(o(327));n=t.finishedWork;var i=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ae(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}(t,a),t===Nl&&(Al=Nl=null,Ol=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Gl||(Gl=!0,Nc(ee,(function(){return Ec(),null}))),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var s=be;be=1;var l=Il;Il|=4,Tl.current=null,function(t,e){if(ti=We,fr(t=dr())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var r=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(t){n=null;break t}var s=0,l=-1,c=-1,u=0,h=0,d=t,f=null;e:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=s+i),d!==a||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===n&&++u===i&&(l=s),f===a&&++h===r&&(c=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:t,selectionRange:n},We=!1,Js=e;null!==Js;)if(t=(e=Js).child,0!=(1028&e.subtreeFlags)&&null!==t)t.return=e,Js=t;else for(;null!==Js;){e=Js;try{var m=e.alternate;if(0!=(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:yo(e.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(t){kc(e,e.return,t)}if(null!==(t=e.sibling)){t.return=e.return,Js=t;break}Js=e.return}m=el,el=!1}(t,n),gl(n,t),pr(ei),We=!!ti,ei=ti=null,t.current=n,vl(n,t,i),Yt(),Il=l,be=s,Cl.transition=a}else t.current=n;if(Gl&&(Gl=!1,Kl=t,Ql=i),0===(a=t.pendingLanes)&&(ql=null),function(t){if(oe&&"function"==typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(ie,t,void 0,128==(128&t.current.flags))}catch(t){}}(n.stateNode),rc(t,Xt()),null!==e)for(r=t.onRecoverableError,n=0;n<e.length;n++)r((i=e[n]).value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,t=$l,$l=null,t;0!=(1&Ql)&&0!==t.tag&&Ec(),0!=(1&(a=t.pendingLanes))?t===Xl?Yl++:(Yl=0,Xl=t):Yl=0,Ui()}(t,e,n,r)}finally{Cl.transition=i,be=r}return null}function Ec(){if(null!==Kl){var t=we(Ql),e=Cl.transition,n=be;try{if(Cl.transition=null,be=16>t?16:t,null===Kl)var r=!1;else{if(t=Kl,Kl=null,Ql=0,0!=(6&Il))throw Error(o(331));var i=Il;for(Il|=4,Js=t.current;null!==Js;){var a=Js,s=a.child;if(0!=(16&Js.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var h=Js;switch(h.tag){case 0:case 11:case 15:nl(8,h,a)}var d=h.child;if(null!==d)d.return=h,Js=d;else for(;null!==Js;){var f=(h=Js).sibling,p=h.return;if(ol(h),h===u){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Js=a}}if(0!=(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else t:for(;null!==Js;){if(0!=(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Js=v;break t}Js=a.return}}var b=t.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(0!=(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else t:for(s=b;null!==Js;){if(0!=(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(t){kc(l,l.return,t)}if(l===s){Js=null;break t}var x=l.sibling;if(null!==x){x.return=l.return,Js=x;break t}Js=l.return}}if(Il=i,Ui(),oe&&"function"==typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(ie,t)}catch(t){}r=!0}return r}finally{be=n,Cl.transition=e}}return!1}function _c(t,e,n){t=Do(t,e=ps(0,e=us(n,e),1),1),e=tc(),null!==t&&(ye(t,1,e),rc(t,e))}function kc(t,e,n){if(3===t.tag)_c(t,t,n);else for(;null!==e;){if(3===e.tag){_c(e,t,n);break}if(1===e.tag){var r=e.stateNode;if("function"==typeof e.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ql||!ql.has(r))){e=Do(e,t=ms(e,t=us(n,t),1),1),t=tc(),null!==e&&(ye(e,1,t),rc(e,t));break}}e=e.return}}function Sc(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=tc(),t.pingedLanes|=t.suspendedLanes&n,Nl===t&&(Ol&n)===n&&(4===Pl||3===Pl&&(130023424&Ol)===Ol&&500>Xt()-jl?dc(t,0):zl|=n),rc(t,e)}function Tc(t,e){0===e&&(0==(1&t.mode)?e=1:(e=ue,0==(130023424&(ue<<=1))&&(ue=4194304)));var n=tc();null!==(t=Ao(t,e))&&(ye(t,e,n),rc(t,n))}function Cc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Tc(t,n)}function Ic(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(e),Tc(t,n)}function Nc(t,e){return Gt(t,e)}function Ac(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(t,e,n,r){return new Ac(t,e,n,r)}function Mc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Lc(t,e){var n=t.alternate;return null===n?((n=Oc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pc(t,e,n,r,i,a){var s=2;if(r=t,"function"==typeof t)Mc(t)&&(s=1);else if("string"==typeof t)s=5;else t:switch(t){case _:return Dc(n.children,i,a,e);case k:s=8,i|=8;break;case S:return(t=Oc(12,n,e,2|i)).elementType=S,t.lanes=a,t;case N:return(t=Oc(13,n,e,i)).elementType=N,t.lanes=a,t;case A:return(t=Oc(19,n,e,i)).elementType=A,t.lanes=a,t;case L:return Rc(n,i,a,e);default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case T:s=10;break t;case C:s=9;break t;case I:s=11;break t;case O:s=14;break t;case M:s=16,r=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Oc(s,n,e,i)).elementType=t,e.type=r,e.lanes=a,e}function Dc(t,e,n,r){return(t=Oc(7,t,r,e)).lanes=n,t}function Rc(t,e,n,r){return(t=Oc(22,t,r,e)).elementType=L,t.lanes=n,t.stateNode={isHidden:!1},t}function Fc(t,e,n){return(t=Oc(6,t,null,e)).lanes=n,t}function zc(t,e,n){return(e=Oc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Vc(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ge(0),this.expirationTimes=ge(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ge(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(t,e,n,r,i,o,a,s,l){return t=new Vc(t,e,n,s,l),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Oc(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mo(o),t}function jc(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Uc(t){if(!t)return Ci;t:{if(Ut(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Mi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var n=t.type;if(Mi(n))return Di(t,n,e)}return e}function Hc(t,e,n,r,i,o,a,s,l){return(t=Bc(n,r,!0,t,0,o,0,s,l)).context=Uc(null),n=t.current,(o=Po(r=tc(),i=ec(n))).callback=null!=e?e:null,Do(n,o,i),t.current.lanes=i,ye(t,i,r),rc(t,r),t}function Wc(t,e,n,r){var i=e.current,o=tc(),a=ec(i);return n=Uc(n),null===e.context?e.context=n:e.pendingContext=n,(e=Po(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),null!==(t=Do(i,e,a))&&(nc(t,i,a,o),Ro(t,i,a)),a}function $c(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function qc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Gc(t,e){qc(t,e),(t=t.alternate)&&qc(t,e)}_l=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Ni.current)ws=!0;else{if(0==(t.lanes&n)&&0==(128&e.flags))return ws=!1,function(t,e,n){switch(e.tag){case 3:As(e),po();break;case 5:aa(e);break;case 1:Mi(e.type)&&Ri(e);break;case 4:ia(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ti(vo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=e.memoizedState))return null!==r.dehydrated?(Ti(la,1&la.current),e.flags|=128,null):0!=(n&e.child.childLanes)?Fs(t,e,n):(Ti(la,1&la.current),null!==(t=Ws(t,e,n))?t.sibling:null);Ti(la,1&la.current);break;case 19:if(r=0!=(n&e.childLanes),0!=(128&t.flags)){if(r)return Us(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(la,la.current),r)break;return null;case 22:case 23:return e.lanes=0,Ss(t,e,n)}return Ws(t,e,n)}(t,e,n);ws=0!=(131072&t.flags)}else ws=!1,io&&0!=(1048576&e.flags)&&Zi(e,qi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Hs(t,e),t=e.pendingProps;var i=Oi(e,Ii.current);So(e,n),i=ka(null,e,r,t,i,n);var a=Sa();return e.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mi(r)?(a=!0,Ri(e)):a=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Mo(e),i.updater=Uo,e.stateNode=i,i._reactInternals=e,qo(e,r,t,n),e=Ns(null,e,r,!0,a,n)):(e.tag=0,io&&a&&to(e),xs(null,e,i,n),e=e.child),e;case 16:r=e.elementType;t:{switch(Hs(t,e),t=e.pendingProps,r=(i=r._init)(r._payload),e.type=r,i=e.tag=function(t){if("function"==typeof t)return Mc(t)?1:0;if(null!=t){if((t=t.$$typeof)===I)return 11;if(t===O)return 14}return 2}(r),t=yo(r,t),i){case 0:e=Cs(null,e,r,t,n);break t;case 1:e=Is(null,e,r,t,n);break t;case 11:e=Es(null,e,r,t,n);break t;case 14:e=_s(null,e,r,yo(r.type,t),n);break t}throw Error(o(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,Cs(t,e,r,i=e.elementType===r?i:yo(r,i),n);case 1:return r=e.type,i=e.pendingProps,Is(t,e,r,i=e.elementType===r?i:yo(r,i),n);case 3:t:{if(As(e),null===t)throw Error(o(387));r=e.pendingProps,i=(a=e.memoizedState).element,Lo(t,e),zo(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Os(t,e,r,n,i=us(Error(o(423)),e));break t}if(r!==i){e=Os(t,e,r,n,i=us(Error(o(424)),e));break t}for(ro=ci(e.stateNode.containerInfo.firstChild),no=e,io=!0,oo=null,n=Jo(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){e=Ws(t,e,n);break t}xs(t,e,r,n)}e=e.child}return e;case 5:return aa(e),null===t&&co(e),r=e.type,i=e.pendingProps,a=null!==t?t.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(e.flags|=32),Ts(t,e),xs(t,e,s,n),e.child;case 6:return null===t&&co(e),null;case 13:return Fs(t,e,n);case 4:return ia(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Xo(e,null,r,n):xs(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Es(t,e,r,i=e.elementType===r?i:yo(r,i),n);case 7:return xs(t,e,e.pendingProps,n),e.child;case 8:case 12:return xs(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Ti(vo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ni.current){e=Ws(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Po(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),ko(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ko(s,n,e),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}xs(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,So(e,n),r=r(i=To(i)),e.flags|=1,xs(t,e,r,n),e.child;case 14:return i=yo(r=e.type,e.pendingProps),_s(t,e,r,i=yo(r.type,i),n);case 15:return ks(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yo(r,i),Hs(t,e),e.tag=1,Mi(r)?(t=!0,Ri(e)):t=!1,So(e,n),Wo(e,r,i),qo(e,r,i,n),Ns(null,e,r,!0,t,n);case 19:return Us(t,e,n);case 22:return Ss(t,e,n)}throw Error(o(156,e.tag))};var Kc="function"==typeof reportError?reportError:function(t){console.error(t)};function Qc(t){this._internalRoot=t}function Yc(t){this._internalRoot=t}function Xc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Jc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Zc(){}function tu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"==typeof i){var s=i;i=function(){var t=$c(a);s.call(t)}}Wc(e,a,t,i)}else a=function(t,e,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var t=$c(a);o.call(t)}}var a=Hc(e,r,t,0,null,!1,0,"",Zc);return t._reactRootContainer=a,t[pi]=a.current,Ur(8===t.nodeType?t.parentNode:t),uc(),a}for(;i=t.lastChild;)t.removeChild(i);if("function"==typeof r){var s=r;r=function(){var t=$c(l);s.call(t)}}var l=Bc(t,0,!1,null,0,!1,0,"",Zc);return t._reactRootContainer=l,t[pi]=l.current,Ur(8===t.nodeType?t.parentNode:t),uc((function(){Wc(e,l,n,r)})),l}(n,e,t,i,r);return $c(a)}Yc.prototype.render=Qc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Wc(t,e,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;uc((function(){Wc(null,t,null,null)})),e[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(t){if(t){var e=ke();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Le.length&&0!==e&&e<Le[n].priority;n++);Le.splice(n,0,t),0===n&&Fe(t)}},xe=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ve(e,1|n),rc(e,Xt()),0==(6&Il)&&(Ul=Xt()+500,Ui()))}break;case 13:uc((function(){var e=Ao(t,1);if(null!==e){var n=tc();nc(e,t,1,n)}})),Gc(t,1)}},Ee=function(t){if(13===t.tag){var e=Ao(t,134217728);null!==e&&nc(e,t,134217728,tc()),Gc(t,134217728)}},_e=function(t){if(13===t.tag){var e=ec(t),n=Ao(t,e);null!==n&&nc(n,t,e,tc()),Gc(t,e)}},ke=function(){return be},Se=function(t,e){var n=be;try{return be=t,e()}finally{be=n}},Et=function(t,e,n){switch(e){case"input":if(J(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xi(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":ot(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},It=cc,Nt=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,xi,Tt,Ct,cc]},nu={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=$t(t))?null:t.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{ie=iu.inject(ru),oe=iu}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(e))throw Error(o(200));return jc(t,e,null,n)},e.createRoot=function(t,e){if(!Xc(t))throw Error(o(299));var n=!1,r="",i=Kc;return null!=e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=Bc(t,1,!1,null,0,n,0,r,i),t[pi]=e.current,Ur(8===t.nodeType?t.parentNode:t),new Qc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"==typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return null===(t=$t(e))?null:t.stateNode},e.flushSync=function(t){return uc(t)},e.hydrate=function(t,e,n){if(!Jc(e))throw Error(o(200));return tu(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Xc(t))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Kc;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),e=Hc(e,null,t,1,null!=n?n:null,i,0,a,s),t[pi]=e.current,Ur(t),r)for(t=0;t<r.length;t++)i=(i=(n=r[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Yc(e)},e.render=function(t,e,n){if(!Jc(e))throw Error(o(200));return tu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Jc(t))throw Error(o(40));return!!t._reactRootContainer&&(uc((function(){tu(null,null,t,!1,(function(){t._reactRootContainer=null,t[pi]=null}))})),!0)},e.unstable_batchedUpdates=cc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jc(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return tu(t,e,n,!1,r)},e.version="18.2.0-next-9e3b772b8-20220608"},745:(t,e,n)=>{var r=n(935);e.createRoot=r.createRoot,e.hydrateRoot=r.hydrateRoot},935:(t,e,n)=>{!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=n(448)},408:(t,e)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}function v(){}function b(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,E=Object.prototype.hasOwnProperty,_={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(t,e,r){var i,o={},a=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)E.call(e,i)&&!k.hasOwnProperty(i)&&(o[i]=e[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:t,key:a,ref:s,props:o,_owner:_.current}}function T(t){return"object"==typeof t&&null!==t&&t.$$typeof===n}var C=/\/+/g;function I(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function N(t,e,i,o,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=t),t=""===o?"."+I(l,0):o,x(a)?(i="",null!=t&&(i=t.replace(C,"$&/")+"/"),N(a,e,i,"",(function(t){return t}))):null!=a&&(T(a)&&(a=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+t)),e.push(a)),1;if(l=0,o=""===o?".":o+":",x(t))for(var c=0;c<t.length;c++){var u=o+I(s=t[c],c);l+=N(s,e,i,u,a)}else if(u=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"==typeof u)for(t=u.call(t),c=0;!(s=t.next()).done;)l+=N(s=s.value,e,i,u=o+I(s,c++),a);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function A(t,e,n){if(null==t)return t;var r=[],i=0;return N(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function O(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var M={current:null},L={transition:null},P={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:L,ReactCurrentOwner:_};e.Children={map:A,forEach:function(t,e,n){A(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return A(t,(function(){e++})),e},toArray:function(t){return A(t,(function(t){return t}))||[]},only:function(t){if(!T(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=y,e.Fragment=i,e.Profiler=a,e.PureComponent=b,e.StrictMode=o,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,e.cloneElement=function(t,e,r){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=m({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=_.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)E.call(e,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:t.type,key:o,ref:a,props:i,_owner:s}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=S,e.createFactory=function(t){var e=S.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=T,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:O}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=L.transition;L.transition={};try{t()}finally{L.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return M.current.useCallback(t,e)},e.useContext=function(t){return M.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return M.current.useDeferredValue(t)},e.useEffect=function(t,e){return M.current.useEffect(t,e)},e.useId=function(){return M.current.useId()},e.useImperativeHandle=function(t,e,n){return M.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return M.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return M.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return M.current.useMemo(t,e)},e.useReducer=function(t,e,n){return M.current.useReducer(t,e,n)},e.useRef=function(t){return M.current.useRef(t)},e.useState=function(t){return M.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return M.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return M.current.useTransition()},e.version="18.2.0"},294:(t,e,n)=>{t.exports=n(408)},53:(t,e)=>{function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,i=t[r];if(!(0<o(i,e)))break t;t[r]=e,t[n]=i,n=r}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=t[s],c=s+1,u=t[c];if(0>o(l,n))c<i&&0>o(u,l)?(t[r]=u,t[c]=n,r=c):(t[r]=l,t[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break t;t[r]=u,t[c]=n,r=c}}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(t){for(var e=r(u);null!==e;){if(null===e.callback)i(u);else{if(!(e.startTime<=t))break;i(u),e.sortIndex=e.expirationTime,n(c,e)}e=r(u)}}function x(t){if(g=!1,w(t),!m)if(null!==r(c))m=!0,L(E);else{var e=r(u);null!==e&&P(x,e.startTime-t)}}function E(t,n){m=!1,g&&(g=!1,v(T),T=-1),p=!0;var o=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||t&&!N());){var a=d.callback;if("function"==typeof a){d.callback=null,f=d.priorityLevel;var s=a(d.expirationTime<=n);n=e.unstable_now(),"function"==typeof s?d.callback=s:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&P(x,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,k=!1,S=null,T=-1,C=5,I=-1;function N(){return!(e.unstable_now()-I<C)}function A(){if(null!==S){var t=e.unstable_now();I=t;var n=!0;try{n=S(!0,t)}finally{n?_():(k=!1,S=null)}}else k=!1}if("function"==typeof b)_=function(){b(A)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,M=O.port2;O.port1.onmessage=A,_=function(){M.postMessage(null)}}else _=function(){y(A,0)};function L(t){S=t,k||(k=!0,_())}function P(t,n){T=y((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,L(E))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,i,o){var a=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:h++,callback:i,priorityLevel:t,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(t.sortIndex=o,n(u,t),null===r(c)&&t===r(u)&&(g?(v(T),T=-1):g=!0,P(x,o-a))):(t.sortIndex=s,n(c,t),m||p||(m=!0,L(E))),t},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},840:(t,e,n)=>{t.exports=n(53)},379:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var o={},a=[],s=0;s<t.length;s++){var l=t[s],c=r.base?l[0]+r.base:l[0],u=o[c]||0,h="".concat(c," ").concat(u);o[c]=u+1;var d=n(h),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)e[d].references++,e[d].updater(f);else{var p=i(f,r);r.byIndex=s,e.splice(s,0,{identifier:h,updater:p,references:1})}a.push(h)}return a}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var o=r(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var s=n(o[a]);e[s].references--}for(var l=r(t,i),c=0;c<o.length;c++){var u=n(o[c]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}o=l}}},569:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},r={};function i(t){var e=r[t];if(void 0!==e)return e.exports;var o=r[t]={id:t,exports:{}};return n[t](o,o.exports,i),o.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);i.r(o);var a={};t=t||[null,e({}),e([]),e(e)];for(var s=2&r&&n;"object"==typeof s&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((t=>a[t]=()=>n[t]));return a.default=()=>n,i.d(o,a),o},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),i.nc=void 0,(()=>{var t,e=i(294),n=i.t(e,2),r=i(745);function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(t||(t={}));const a="popstate";function s(t,e){if(!1===t||null==t)throw new Error(e)}function l(t,e){return{usr:t.state,key:t.key,idx:e}}function c(t,e,n,r){return void 0===n&&(n=null),o({pathname:"string"==typeof t?t:t.pathname,search:"",hash:""},"string"==typeof e?h(e):e,{state:n,key:e&&e.key||r||Math.random().toString(36).substr(2,8)})}function u(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(e+="#"===r.charAt(0)?r:"#"+r),e}function h(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}var d;function f(t,e,n){void 0===n&&(n="/");let r=E(("string"==typeof e?h(e):e).pathname||"/",n);if(null==r)return null;let i=p(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){return t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]))?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(i);let o=null;for(let t=0;null==o&&t<i.length;++t)o=b(i[t],x(r));return o}function p(t,e,n,r){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(t,i,o)=>{let a={relativePath:void 0===o?t.path||"":o,caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};a.relativePath.startsWith("/")&&(s(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let l=C([r,a.relativePath]),c=n.concat(a);t.children&&t.children.length>0&&(s(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),p(t.children,e,c,l)),(null!=t.path||t.index)&&e.push({path:l,score:v(l,t.index),routesMeta:c})};return t.forEach(((t,e)=>{var n;if(""!==t.path&&null!=(n=t.path)&&n.includes("?"))for(let n of m(t.path))i(t,e,n);else i(t,e)})),e}function m(t){let e=t.split("/");if(0===e.length)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=m(r.join("/")),s=[];return s.push(...a.map((t=>""===t?o:[o,t].join("/")))),i&&s.push(...a),s.map((e=>t.startsWith("/")&&""===e?"/":e))}!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(d||(d={}));const g=/^:\w+$/,y=t=>"*"===t;function v(t,e){let n=t.split("/"),r=n.length;return n.some(y)&&(r+=-2),e&&(r+=2),n.filter((t=>!y(t))).reduce(((t,e)=>t+(g.test(e)?3:""===e?1:10)),r)}function b(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let t=0;t<n.length;++t){let a=n[t],s=t===n.length-1,l="/"===i?e:e.slice(i.length)||"/",c=w({path:a.relativePath,caseSensitive:a.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);let u=a.route;o.push({params:r,pathname:C([i,c.pathname]),pathnameBase:I(C([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=C([i,c.pathnameBase]))}return o}function w(t,e){"string"==typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!0),_("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((t,e)=>(r.push(e),"/([^\\/]+)")));return t.endsWith("*")?(r.push("*"),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==t&&"/"!==t&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce(((t,e,n)=>{if("*"===e){let t=s[n]||"";a=o.slice(0,o.length-t.length).replace(/(.)\/+$/,"$1")}return t[e]=function(t,e){try{return decodeURIComponent(t)}catch(n){return _(!1,'The value for the URL param "'+e+'" will not be decoded because the string "'+t+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),t}}(s[n]||"",e),t}),{});return{params:l,pathname:o,pathnameBase:a,pattern:t}}function x(t){try{return decodeURI(t)}catch(e){return _(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function E(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&"/"!==r?null:t.slice(n)||"/"}function _(t,e){if(!t){"undefined"!=typeof console&&console.warn(e);try{throw new Error(e)}catch(t){}}}function k(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function S(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function T(t,e,n,r){let i;void 0===r&&(r=!1),"string"==typeof t?i=h(t):(i=o({},t),s(!i.pathname||!i.pathname.includes("?"),k("?","pathname","search",i)),s(!i.pathname||!i.pathname.includes("#"),k("#","pathname","hash",i)),s(!i.search||!i.search.includes("#"),k("#","search","hash",i)));let a,l=""===t||""===i.pathname,c=l?"/":i.pathname;if(r||null==c)a=n;else{let t=e.length-1;if(c.startsWith("..")){let e=c.split("/");for(;".."===e[0];)e.shift(),t-=1;i.pathname=e.join("/")}a=t>=0?e[t]:"/"}let u=function(t,e){void 0===e&&(e="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof t?h(t):t,o=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:o,search:N(r),hash:A(i)}}(i,a),d=c&&"/"!==c&&c.endsWith("/"),f=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!f||(u.pathname+="/"),u}const C=t=>t.join("/").replace(/\/\/+/g,"/"),I=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),N=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",A=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";class O extends Error{}const M=["post","put","patch","delete"],L=(new Set(M),["get",...M]);function P(){return P=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P.apply(this,arguments)}new Set(L),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement,Symbol("deferred");"function"==typeof Object.is&&Object.is;const{useState:D,useEffect:R,useLayoutEffect:F,useDebugValue:z}=n;"undefined"==typeof window||void 0===window.document||window.document.createElement,n.useSyncExternalStore;const V=e.createContext(null),B=e.createContext(null),j=e.createContext(null),U=e.createContext(null),H=e.createContext({outlet:null,matches:[]}),W=e.createContext(null);function $(){return null!=e.useContext(U)}function q(){return $()||s(!1),e.useContext(U).location}function G(t,n){let{relative:r}=void 0===n?{}:n,{matches:i}=e.useContext(H),{pathname:o}=q(),a=JSON.stringify(S(i).map((t=>t.pathnameBase)));return e.useMemo((()=>T(t,JSON.parse(a),o,"path"===r)),[t,a,o,r])}function K(){let t=function(){var t;let n=e.useContext(W),r=function(t){let n=e.useContext(B);return n||s(!1),n}(J.UseRouteError),i=function(t){let n=function(t){let n=e.useContext(H);return n||s(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||s(!1),r.route.id}(J.UseRouteError);return n||(null==(t=r.errors)?void 0:t[i])}(),n=function(t){return null!=t&&"number"==typeof t.status&&"string"==typeof t.statusText&&"boolean"==typeof t.internal&&"data"in t}(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:i},r):null,null)}class Q extends e.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location?{error:t.error,location:t.location}:{error:t.error||e.error,location:e.location}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error?e.createElement(H.Provider,{value:this.props.routeContext},e.createElement(W.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Y(t){let{routeContext:n,match:r,children:i}=t,o=e.useContext(V);return o&&o.static&&o.staticContext&&r.route.errorElement&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(H.Provider,{value:n},i)}var X,J,Z;function tt(t){s(!1)}function et(n){let{basename:r="/",children:i=null,location:o,navigationType:a=t.Pop,navigator:l,static:c=!1}=n;$()&&s(!1);let u=r.replace(/^\/*/,"/"),d=e.useMemo((()=>({basename:u,navigator:l,static:c})),[u,l,c]);"string"==typeof o&&(o=h(o));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:y="default"}=o,v=e.useMemo((()=>{let t=E(f,u);return null==t?null:{pathname:t,search:p,hash:m,state:g,key:y}}),[u,f,p,m,g,y]);return null==v?null:e.createElement(j.Provider,{value:d},e.createElement(U.Provider,{children:i,value:{location:v,navigationType:a}}))}function nt(n){let{children:r,location:i}=n,o=e.useContext(V);return function(n,r){$()||s(!1);let{navigator:i}=e.useContext(j),o=e.useContext(B),{matches:a}=e.useContext(H),l=a[a.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,p=q();if(r){var m;let t="string"==typeof r?h(r):r;"/"===u||(null==(m=t.pathname)?void 0:m.startsWith(u))||s(!1),d=t}else d=p;let g=d.pathname||"/",y=f(n,{pathname:"/"===u?g:g.slice(u.length)||"/"}),v=function(t,n,r){if(void 0===n&&(n=[]),null==t){if(null==r||!r.errors)return null;t=r.matches}let i=t,o=null==r?void 0:r.errors;if(null!=o){let t=i.findIndex((t=>t.route.id&&(null==o?void 0:o[t.route.id])));t>=0||s(!1),i=i.slice(0,Math.min(i.length,t+1))}return i.reduceRight(((t,a,s)=>{let l=a.route.id?null==o?void 0:o[a.route.id]:null,c=r?a.route.errorElement||e.createElement(K,null):null,u=n.concat(i.slice(0,s+1)),h=()=>e.createElement(Y,{match:a,routeContext:{outlet:t,matches:u}},l?c:void 0!==a.route.element?a.route.element:t);return r&&(a.route.errorElement||0===s)?e.createElement(Q,{location:r.location,component:c,error:l,children:h(),routeContext:{outlet:null,matches:u}}):h()}),null)}(y&&y.map((t=>Object.assign({},t,{params:Object.assign({},c,t.params),pathname:C([u,i.encodeLocation?i.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?u:C([u,i.encodeLocation?i.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),a,o||void 0);return r&&v?e.createElement(U.Provider,{value:{location:P({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:t.Pop}},v):v}(o&&!r?o.router.routes:it(r),i)}!function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"}(X||(X={})),function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"}(J||(J={})),function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"}(Z||(Z={})),new Promise((()=>{}));class rt extends e.Component{constructor(t){super(t),this.state={error:null}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,e){console.error("<Await> caught the following error during render",t,e)}render(){let{children:t,errorElement:e,resolve:n}=this.props,r=null,i=Z.pending;if(n instanceof Promise)if(this.state.error){Z.error;let t=this.state.error;Promise.reject().catch((()=>{})),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_error",{get:()=>t})}else n._tracked?void 0!==r._error?Z.error:void 0!==r._data?Z.success:Z.pending:(Z.pending,Object.defineProperty(n,"_tracked",{get:()=>!0}),n.then((t=>Object.defineProperty(n,"_data",{get:()=>t})),(t=>Object.defineProperty(n,"_error",{get:()=>t}))));else Z.success,Promise.resolve(),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_data",{get:()=>n});if(i===Z.error&&r._error instanceof AbortedDeferredError)throw neverSettledPromise;if(i===Z.error&&!e)throw r._error;if(i===Z.error)return React.createElement(AwaitContext.Provider,{value:r,children:e});if(i===Z.success)return React.createElement(AwaitContext.Provider,{value:r,children:t});throw r}}function it(t,n){void 0===n&&(n=[]);let r=[];return e.Children.forEach(t,((t,i)=>{if(!e.isValidElement(t))return;if(t.type===e.Fragment)return void r.push.apply(r,it(t.props.children,n));t.type!==tt&&s(!1),t.props.index&&t.props.children&&s(!1);let o=[...n,i],a={id:t.props.id||o.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,hasErrorBoundary:null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle};t.props.children&&(a.children=it(t.props.children,o)),r.push(a)})),r}function ot(){return ot=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ot.apply(this,arguments)}const at=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function st(n){let{basename:r,children:i,window:h}=n,d=e.useRef();null==d.current&&(d.current=function(e){return void 0===e&&(e={}),function(e,n,r,i){void 0===i&&(i={});let{window:h=document.defaultView,v5Compat:d=!1}=i,f=h.history,p=t.Pop,m=null,g=y();function y(){return(f.state||{idx:null}).idx}function v(){p=t.Pop;let e=y(),n=null==e?null:e-g;g=e,m&&m({action:p,location:w.location,delta:n})}function b(t){let e="null"!==h.location.origin?h.location.origin:h.location.href,n="string"==typeof t?t:u(t);return s(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}null==g&&(g=0,f.replaceState(o({},f.state,{idx:g}),""));let w={get action(){return p},get location(){return e(h,f)},listen(t){if(m)throw new Error("A history only accepts one active listener");return h.addEventListener(a,v),m=t,()=>{h.removeEventListener(a,v),m=null}},createHref:t=>n(h,t),createURL:b,encodeLocation(t){let e=b(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(e,n){p=t.Push;let i=c(w.location,e,n);r&&r(i,e),g=y()+1;let o=l(i,g),a=w.createHref(i);try{f.pushState(o,"",a)}catch(t){h.location.assign(a)}d&&m&&m({action:p,location:w.location,delta:1})},replace:function(e,n){p=t.Replace;let i=c(w.location,e,n);r&&r(i,e),g=y();let o=l(i,g),a=w.createHref(i);f.replaceState(o,"",a),d&&m&&m({action:p,location:w.location,delta:0})},go:t=>f.go(t)};return w}((function(t,e){let{pathname:n,search:r,hash:i}=t.location;return c("",{pathname:n,search:r,hash:i},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"==typeof e?e:u(e)}),null,e)}({window:h,v5Compat:!0}));let f=d.current,[p,m]=e.useState({action:f.action,location:f.location});return e.useLayoutEffect((()=>f.listen(m)),[f]),e.createElement(et,{basename:r,children:i,location:p.location,navigationType:p.action,navigator:f})}const lt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,ct=e.forwardRef((function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:l,target:c,to:h,preventScrollReset:d}=t,f=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,at),p="string"==typeof h?h:u(h),m=/^[a-z+]+:\/\//i.test(p)||p.startsWith("//"),g=p,y=!1;if(lt&&m){let t=new URL(window.location.href),e=p.startsWith("//")?new URL(t.protocol+p):new URL(p);e.origin===t.origin?g=e.pathname+e.search+e.hash:y=!0}let v=function(t,n){let{relative:r}=void 0===n?{}:n;$()||s(!1);let{basename:i,navigator:o}=e.useContext(j),{hash:a,pathname:l,search:c}=G(t,{relative:r}),u=l;return"/"!==i&&(u="/"===l?i:C([i,l])),o.createHref({pathname:u,search:c,hash:a})}(g,{relative:i}),b=function(t,n){let{target:r,replace:i,state:o,preventScrollReset:a,relative:l}=void 0===n?{}:n,c=function(){$()||s(!1);let{basename:t,navigator:n}=e.useContext(j),{matches:r}=e.useContext(H),{pathname:i}=q(),o=JSON.stringify(S(r).map((t=>t.pathnameBase))),a=e.useRef(!1);e.useEffect((()=>{a.current=!0}));let l=e.useCallback((function(e,r){if(void 0===r&&(r={}),!a.current)return;if("number"==typeof e)return void n.go(e);let s=T(e,JSON.parse(o),i,"path"===r.relative);"/"!==t&&(s.pathname="/"===s.pathname?t:C([t,s.pathname])),(r.replace?n.replace:n.push)(s,r.state,r)}),[t,n,o,i]);return l}(),h=q(),d=G(t,{relative:l});return e.useCallback((e=>{if(function(t,e){return!(0!==t.button||e&&"_self"!==e||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t))}(e,r)){e.preventDefault();let n=void 0!==i?i:u(h)===u(d);c(t,{replace:n,state:o,preventScrollReset:a,relative:l})}}),[h,c,d,i,o,r,t,a,l])}(g,{replace:a,state:l,target:c,preventScrollReset:d,relative:i});return e.createElement("a",ot({},f,{href:m?p:v,onClick:y||o?r:function(t){r&&r(t),t.defaultPrevented||b(t)},ref:n,target:c}))}));var ut,ht;function dt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ft(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ft(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(ut||(ut={})),function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(ht||(ht={}));var pt=(0,e.createContext)(),mt=function(){return(0,e.useContext)(pt)},gt=function(t){var n=t.children,r=dt((0,e.useState)(""),2),i=r[0],o=r[1],a=dt((0,e.useState)(0),2),s=a[0],l=a[1],c=dt((0,e.useState)(0),2),u=c[0],h=c[1],d=dt((0,e.useState)(0),2),f=d[0],p=d[1],m=dt((0,e.useState)(0),2),g=m[0],y=m[1],v=dt((0,e.useState)(0),2),b=v[0],w=v[1],x=dt((0,e.useState)(0),2),E=x[0],_=x[1],k=dt((0,e.useState)(0),2),S=k[0],T=k[1],C=dt((0,e.useState)(0),2),I=C[0],N=C[1],A=dt((0,e.useState)(0),2),O=A[0],M=A[1],L=dt((0,e.useState)(0),2),P=L[0],D=L[1],R=dt((0,e.useState)(0),2),F=R[0],z=R[1],V=dt((0,e.useState)(0),2),B=V[0],j=V[1],U=dt((0,e.useState)(0),2),H=U[0],W=U[1],$=dt((0,e.useState)(0),2),q=$[0],G=$[1],K=dt((0,e.useState)([]),2),Q=K[0],Y=K[1],X=dt((0,e.useState)(""),2),J=X[0],Z=X[1],tt=dt((0,e.useState)(""),2),et=tt[0],nt=tt[1],rt=dt((0,e.useState)({type:"支出",subType:""}),2),it=rt[0],ot=rt[1],at=dt((0,e.useState)(!1),2),st=at[0],lt=at[1],ct=dt((0,e.useState)(!1),2),ut=ct[0],ht=ct[1],ft=dt((0,e.useState)(!1),2),mt=ft[0],gt=ft[1],yt=dt((0,e.useState)((new Date).toISOString().substring(0,10)),2),vt=yt[0],bt=yt[1],wt=dt((0,e.useState)([]),2),xt=wt[0],Et=wt[1],_t=dt((0,e.useState)(0),2),kt=_t[0],St=_t[1],Tt=dt((0,e.useState)(0),2),Ct=Tt[0],It=Tt[1],Nt=dt((0,e.useState)({type:"支出",subType:""}),2),At=Nt[0],Ot=Nt[1],Mt=dt((0,e.useState)(0),2),Lt=Mt[0],Pt=Mt[1],Dt=dt((0,e.useState)(0),2),Rt=Dt[0],Ft=Dt[1],zt=dt((0,e.useState)(0),2),Vt=zt[0],Bt=zt[1],jt=dt((0,e.useState)(0),2),Ut=jt[0],Ht=jt[1],Wt=dt((0,e.useState)(0),2),$t=Wt[0],qt=Wt[1],Gt=dt((0,e.useState)(0),2),Kt=Gt[0],Qt=Gt[1],Yt=dt((0,e.useState)(0),2),Xt=Yt[0],Jt=Yt[1],Zt=dt((0,e.useState)(0),2),te=Zt[0],ee=Zt[1],ne=dt((0,e.useState)(null),2),re=ne[0],ie=ne[1],oe=dt((0,e.useState)(""),2),ae=oe[0],se=oe[1],le=dt((0,e.useState)(""),2),ce=le[0],ue=le[1],he=dt((0,e.useState)(),2),de=he[0],fe=he[1],pe=dt((0,e.useState)(""),2),me=pe[0],ge=pe[1],ye=dt((0,e.useState)(""),2),ve=ye[0],be=ye[1],we=dt((0,e.useState)(!0),2),xe=we[0],Ee=we[1],_e=dt((0,e.useState)(null),2),ke=_e[0],Se=_e[1],Te=dt((0,e.useState)({}),2),Ce=Te[0],Ie=Te[1];return e.createElement(pt.Provider,{value:{uid:i,setUid:o,user:Ce,setUser:Ie,userData:ke,setUserData:Se,showLogin:xe,setShowLogin:Ee,username:ae,setUsername:se,gender:ce,setGender:ue,birthday:de,setBirthday:fe,email:me,setEmail:ge,password:ve,setPassword:be,showForm:st,setShowForm:lt,showEditForm:ut,setShowEditForm:ht,showLoginForm:mt,setShowLoginForm:gt,expenses:Q,setExpenses:Y,amount:J,setAmount:Z,description:et,setDescription:nt,category:it,setCategory:ot,date:vt,setDate:bt,costs:xt,setCosts:Et,budget:kt,setBudget:St,allocatedBudget:Ct,setAllocatedBudget:It,bcategory:At,setbCategory:Ot,food:Lt,setFood:Pt,traffic:Rt,setTraffic:Ft,play:Vt,setPlay:Bt,other:Ut,setOther:Ht,selectedBudgetId:re,setSelectedBudgetId:ie,totalIncome:s,setTotalIncome:l,totalExpense:u,setTotalExpense:h,costFood:f,setCostFood:p,costTraffic:g,setCostTraffic:y,costPlay:b,setCostPlay:w,costOther:E,setCostOther:_,costApparel:S,setCostApparel:T,costHousing:I,setCostHousing:N,costEducate:O,setCostEducate:M,costSavings:P,setCostSavings:D,apparel:$t,setApparel:qt,housing:Kt,setHousing:Qt,educate:Xt,setEducate:Jt,savings:te,setSavings:ee,earnSalary:F,setEarnSalary:z,earnStock:B,setEarnStock:j,earnGift:H,setEarnGift:W,earnOther:q,setEarnOther:G}},n)},yt=i(379),vt=i.n(yt),bt=i(795),wt=i.n(bt),xt=i(569),Et=i.n(xt),_t=i(565),kt=i.n(_t),St=i(216),Tt=i.n(St),Ct=i(589),It=i.n(Ct),Nt=i(705),At={};At.styleTagTransform=It(),At.setAttributes=kt(),At.insert=Et().bind(null,"head"),At.domAPI=wt(),At.insertStyleElement=Tt(),vt()(Nt.Z,At),Nt.Z&&Nt.Z.locals&&Nt.Z.locals;var Ot=i(574),Mt={};Mt.styleTagTransform=It(),Mt.setAttributes=kt(),Mt.insert=Et().bind(null,"head"),Mt.domAPI=wt(),Mt.insertStyleElement=Tt(),vt()(Ot.Z,Mt),Ot.Z&&Ot.Z.locals&&Ot.Z.locals;var Lt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Pt=e.createContext&&e.createContext(Lt),Dt=function(){return Dt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Dt.apply(this,arguments)};function Rt(t){return t&&t.map((function(t,n){return e.createElement(t.tag,Dt({key:n},t.attr),Rt(t.child))}))}function Ft(t){return function(n){return e.createElement(zt,Dt({attr:Dt({},t.attr)},n),Rt(t.child))}}function zt(t){var n=function(n){var r,i=t.attr,o=t.size,a=t.title,s=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(t,["attr","size","title"]),l=o||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",Dt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:Dt(Dt({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&e.createElement("title",null,a),t.children)};return void 0!==Pt?e.createElement(Pt.Consumer,null,(function(t){return n(t)})):n(Lt)}function Vt(t){return Ft({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z",fill:"currentColor"}},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z",fill:"currentColor"}}]})(t)}function Bt(t){return Ft({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6 22h15v-2H6.012C5.55 19.988 5 19.805 5 19s.55-.988 1.012-1H21V4c0-1.103-.897-2-2-2H6c-1.206 0-3 .799-3 3v14c0 2.201 1.794 3 3 3zM5 8V5c0-.805.55-.988 1-1h13v12H5V8z"}},{tag:"path",attr:{d:"M8 6h9v2H8z"}}]})(t)}function jt(t){return Ft({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-600-80h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z"}}]})(t)}function Ut(t){return Ft({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48c-42.9 0-84.2 13-119.2 37.5-34.2 24-60.2 57.2-75.1 96.1L58 192h45.7l1.9-5c8.2-17.8 19.4-33.9 33.5-48 31.2-31.2 72.7-48.4 116.9-48.4s85.7 17.2 116.9 48.4c31.2 31.2 48.4 72.7 48.4 116.9 0 44.1-17.2 85.7-48.4 116.9-31.2 31.2-72.7 48.4-116.9 48.4-44.1 0-85.6-17.2-116.9-48.4-14-14-25.3-30.1-33.5-47.9l-1.9-5H58l3.6 10.4c14.9 38.9 40.9 72.1 75.1 96.1C171.8 451.1 213 464 256 464c114.7 0 208-93.3 208-208S370.7 48 256 48z"}},{tag:"path",attr:{d:"M48 277.4h189.7l-43.6 44.7L224 352l96-96-96-96-31 29.9 44.7 44.7H48v42.8z"}}]})(t)}function Ht(t){return Ft({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M279.1 48h-46.2v231.1h46.2V48zm111.6 50.2L357.9 131c36.5 29.4 59.9 74.4 59.9 125 0 89.4-72.3 161.8-161.8 161.8S94.2 345.4 94.2 256c0-50.6 23.3-95.7 59.6-125.3l-32.6-32.6C76.4 136.3 48 192.7 48 256c0 114.9 93.1 208 208 208s208-93.1 208-208c0-63.3-28.4-119.7-73.3-157.8z"}}]})(t)}function Wt(t){return Ft({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"}}]})(t)}function $t(t){return Ft({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z",fill:"currentColor"}}]})(t)}const qt=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Gt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let e=0;e<t.length;e+=3){const i=t[e],o=e+1<t.length,a=o?t[e+1]:0,s=e+2<t.length,l=s?t[e+2]:0,c=i>>2,u=(3&i)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;s||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qt(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let e=0;e<t.length;){const i=n[t.charAt(e++)],o=e<t.length?n[t.charAt(e)]:0;++e;const a=e<t.length?n[t.charAt(e)]:64;++e;const s=e<t.length?n[t.charAt(e)]:64;if(++e,null==i||null==o||null==a||null==s)throw Error();const l=i<<2|o>>4;if(r.push(l),64!==a){const t=o<<4&240|a>>2;if(r.push(t),64!==s){const t=a<<6&192|s;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Kt=function(t){return function(t){const e=qt(t);return Gt.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Qt=function(t){try{return Gt.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},Yt=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==i.g)return i.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=t&&Qt(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},Xt=t=>{var e,n;return null===(n=null===(e=Yt())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},Jt=t=>{var e;return null===(e=Yt())||void 0===e?void 0:e[`_${t}`]};class Zt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function te(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class ee extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ee.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ne.prototype.create)}}class ne{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,i=this.errors[t],o=i?function(t,e){return t.replace(re,((t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new ee(r,a,n)}}const re=/\{\$([^}]+)}/g;function ie(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],o=e[i];if(oe(n)&&oe(o)){if(!ie(n,o))return!1}else if(n!==o)return!1}for(const t of r)if(!n.includes(t))return!1;return!0}function oe(t){return null!==t&&"object"==typeof t}function ae(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function se(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[n,r]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(r)}})),e}function le(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class ce{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let r;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!=typeof t||null===t)return!1;for(const e of["next","error","complete"])if(e in t&&"function"==typeof t[e])return!0;return!1}(t)?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=ue),void 0===r.error&&(r.error=ue),void 0===r.complete&&(r.complete=ue);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(t){}})),this.observers.push(r),i}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ue(){}function he(t){return t&&t._delegate?t._delegate:t}class de{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const fe="[DEFAULT]";class pe{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new Zt;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(t){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(r)return null;throw t}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:fe})}catch(t){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(t){}}}}clearInstance(t=fe){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=fe){return this.instances.has(t)}getOptions(t=fe){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[t,e]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(t)&&e.resolve(r);return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===fe?void 0:r),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(t){}var r;return n||null}normalizeInstanceIdentifier(t=fe){return this.component?this.component.multipleInstances?t:fe:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class me{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new pe(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const ge=[];var ye,ve;(ve=ye||(ye={}))[ve.DEBUG=0]="DEBUG",ve[ve.VERBOSE=1]="VERBOSE",ve[ve.INFO=2]="INFO",ve[ve.WARN=3]="WARN",ve[ve.ERROR=4]="ERROR",ve[ve.SILENT=5]="SILENT";const be={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},we=ye.INFO,xe={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},Ee=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=xe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class _e{constructor(t){this.name=t,this._logLevel=we,this._logHandler=Ee,this._userLogHandler=null,ge.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ye))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?be[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...t),this._logHandler(this,ye.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...t),this._logHandler(this,ye.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...t),this._logHandler(this,ye.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...t),this._logHandler(this,ye.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...t),this._logHandler(this,ye.ERROR,...t)}}let ke,Se;const Te=new WeakMap,Ce=new WeakMap,Ie=new WeakMap,Ne=new WeakMap,Ae=new WeakMap;let Oe={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Ce.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Ie.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Le(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Me(t){return"function"==typeof t?(e=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Pe(this),t),Le(Te.get(this))}:function(...t){return Le(e.apply(Pe(this),t))}:function(t,...n){const r=e.call(Pe(this),t,...n);return Ie.set(r,t.sort?t.sort():[t]),Le(r)}:(t instanceof IDBTransaction&&function(t){if(Ce.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{e(),r()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)}));Ce.set(t,e)}(t),n=t,(ke||(ke=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>n instanceof t))?new Proxy(t,Oe):t);var e,n}function Le(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{e(Le(t.result)),r()},o=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)}));return e.then((e=>{e instanceof IDBCursor&&Te.set(e,t)})).catch((()=>{})),Ae.set(e,t),e}(t);if(Ne.has(t))return Ne.get(t);const e=Me(t);return e!==t&&(Ne.set(t,e),Ae.set(e,t)),e}const Pe=t=>Ae.get(t),De=["get","getKey","getAll","getAllKeys","count"],Re=["put","add","delete","clear"],Fe=new Map;function ze(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Fe.get(e))return Fe.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Re.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!De.includes(n))return;const o=async function(t,...e){const o=this.transaction(t,i?"readwrite":"readonly");let a=o.store;return r&&(a=a.index(e.shift())),(await Promise.all([a[n](...e),i&&o.done]))[0]};return Fe.set(e,o),o}var Ve;Ve=Oe,Oe={...Ve,get:(t,e,n)=>ze(t,e)||Ve.get(t,e,n),has:(t,e)=>!!ze(t,e)||Ve.has(t,e)};class Be{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const je="@firebase/app",Ue="0.9.3",He=new _e("@firebase/app"),We="[DEFAULT]",$e={[je]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qe=new Map,Ge=new Map;function Ke(t,e){try{t.container.addComponent(e)}catch(n){He.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qe(t){const e=t.name;if(Ge.has(e))return He.debug(`There were multiple attempts to register component ${e}.`),!1;Ge.set(e,t);for(const e of qe.values())Ke(e,t);return!0}function Ye(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Xe=new ne("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Je{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new de("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xe.create("app-deleted",{appName:this._name})}}const Ze="9.17.1";function tn(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:We,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Xe.create("bad-app-name",{appName:String(i)});if(n||(n=(()=>{var t;return null===(t=Yt())||void 0===t?void 0:t.config})()),!n)throw Xe.create("no-options");const o=qe.get(i);if(o){if(ie(n,o.options)&&ie(r,o.config))return o;throw Xe.create("duplicate-app",{appName:i})}const a=new me(i);for(const t of Ge.values())a.addComponent(t);const s=new Je(n,r,a);return qe.set(i,s),s}function en(t=We){const e=qe.get(t);if(!e&&t===We)return tn();if(!e)throw Xe.create("no-app",{appName:t});return e}function nn(t,e,n){var r;let i=null!==(r=$e[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const t=[`Unable to register library "${i}" with version "${e}":`];return o&&t.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void He.warn(t.join(" "))}Qe(new de(`${i}-version`,(()=>({library:i,version:e})),"VERSION"))}const rn="firebase-heartbeat-store";let on=null;function an(){return on||(on=function(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=Le(a);return r&&a.addEventListener("upgradeneeded",(t=>{r(Le(a.result),t.oldVersion,t.newVersion,Le(a.transaction))})),n&&a.addEventListener("blocked",(()=>n())),s.then((t=>{o&&t.addEventListener("close",(()=>o())),i&&t.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),s}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(rn)}}).catch((t=>{throw Xe.create("idb-open",{originalErrorMessage:t.message})}))),on}async function sn(t,e){try{const n=(await an()).transaction(rn,"readwrite"),r=n.objectStore(rn);return await r.put(e,ln(t)),n.done}catch(t){if(t instanceof ee)He.warn(t.message);else{const e=Xe.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});He.warn(e.message)}}}function ln(t){return`${t.name}!${t.options.appId}`}class cn{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new hn(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),e=un();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==e&&!this._heartbeatsCache.heartbeats.some((t=>t.date===e)))return this._heartbeatsCache.heartbeats.push({date:e,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=un(),{heartbeatsToSend:e,unsentEntries:n}=function(t,e=1024){const n=[];let r=t.slice();for(const i of t){const t=n.find((t=>t.agent===i.agent));if(t){if(t.dates.push(i.date),dn(n)>e){t.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dn(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Kt(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function un(){return(new Date).toISOString().substring(0,10)}class hn{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(t){return!1}}()&&new Promise(((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{return(await an()).transaction(rn).objectStore(rn).get(ln(t))}catch(t){if(t instanceof ee)He.warn(t.message);else{const e=Xe.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});He.warn(e.message)}}}(this.app);return t||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return sn(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return sn(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function dn(t){return Kt(JSON.stringify({version:2,heartbeats:t})).length}function fn(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Qe(new de("platform-logger",(t=>new Be(t)),"PRIVATE")),Qe(new de("heartbeat",(t=>new cn(t)),"PRIVATE")),nn(je,Ue,""),nn(je,Ue,"esm2017"),nn("fire-js",""),Object.create,Object.create;const pn=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},mn=new ne("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),gn=new _e("@firebase/auth");function yn(t,...e){gn.logLevel<=ye.ERROR&&gn.error(`Auth (${Ze}): ${t}`,...e)}function vn(t,...e){throw xn(t,...e)}function bn(t,...e){return xn(t,...e)}function wn(t,e,n){const r=Object.assign(Object.assign({},pn()),{[e]:n});return new ne("auth","Firebase",r).create(e,{appName:t.name})}function xn(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mn.create(t,...e)}function En(t,e,...n){if(!t)throw xn(e,...n)}function _n(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yn(e),new Error(e)}function kn(t,e){t||_n(e)}const Sn=new Map;function Tn(t){kn(t instanceof Function,"Expected a class definition");let e=Sn.get(t);return e?(kn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Sn.set(t,e),e)}function Cn(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function In(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function Nn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===In()||"https:"===In()||function(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class An{constructor(t,e){this.shortDelay=t,this.longDelay=e,kn(e>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(te())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return Nn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function On(t,e){kn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Mn{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void _n("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void _n("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void _n("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ln={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Pn=new An(3e4,6e4);function Dn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rn(t,e,n,r,i={}){return Fn(t,i,(async()=>{let i={},o={};r&&("GET"===e?o=r:i={body:JSON.stringify(r)});const a=ae(Object.assign({key:t.config.apiKey},o)).slice(1),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),Mn.fetch()(Vn(t,t.config.apiHost,n,a),Object.assign({method:e,headers:s,referrerPolicy:"no-referrer"},i))}))}async function Fn(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ln),e);try{const e=new Bn(t),i=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw jn(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const e=i.ok?o.errorMessage:o.error.message,[n,a]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw jn(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw jn(t,"email-already-in-use",o);if("USER_DISABLED"===n)throw jn(t,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw wn(t,s,a);vn(t,s)}}catch(e){if(e instanceof ee)throw e;vn(t,"network-request-failed")}}async function zn(t,e,n,r,i={}){const o=await Rn(t,e,n,r,i);return"mfaPendingCredential"in o&&vn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function Vn(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?On(t.config,i):`${t.config.apiScheme}://${i}`}class Bn{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(bn(this.auth,"network-request-failed"))),Pn.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function jn(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bn(t,e,r);return i.customData._tokenResponse=n,i}function Un(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(t){}}function Hn(t){return 1e3*Number(t)}function Wn(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return yn("JWT malformed, contained fewer than 3 sections"),null;try{const t=Qt(n);return t?JSON.parse(t):(yn("Failed to decode base64 JWT payload"),null)}catch(t){return yn("Caught error parsing JWT payload as JSON",null==t?void 0:t.toString()),null}}async function $n(t,e,n=!1){if(n)return e;try{return await e}catch(e){throw e instanceof ee&&function({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(e)&&t.auth.currentUser===t&&await t.auth.signOut(),e}}class qn{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&this.schedule(!0))}this.schedule()}}class Gn{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Un(this.lastLoginAt),this.creationTime=Un(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kn(t){var e;const n=t.auth,r=await t.getIdToken(),i=await $n(t,async function(t,e){return Rn(t,"POST","/v1/accounts:lookup",e)}(n,{idToken:r}));En(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=(null===(e=o.providerUserInfo)||void 0===e?void 0:e.length)?o.providerUserInfo.map((t=>{var{providerId:e}=t,n=fn(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=(l=t.providerData,c=a,[...l.filter((t=>!c.some((e=>e.providerId===t.providerId)))),...c]);var l,c;const u=t.isAnonymous,h=!(t.email&&o.passwordHash||(null==s?void 0:s.length)),d=!!u&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Gn(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,f)}class Qn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){En(t.idToken,"internal-error"),En(void 0!==t.idToken,"internal-error"),En(void 0!==t.refreshToken,"internal-error");const e="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):function(t){const e=Wn(t);return En(e,"internal-error"),En(void 0!==e.exp,"internal-error"),En(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}async getToken(t,e=!1){return En(!this.accessToken||this.refreshToken,t,"user-token-expired"),e||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(t,e){const n=await Fn(t,{},(async()=>{const n=ae({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=Vn(t,r,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Mn.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,e);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:r,expirationTime:i}=e,o=new Qn;return n&&(En("string"==typeof n,"internal-error",{appName:t}),o.refreshToken=n),r&&(En("string"==typeof r,"internal-error",{appName:t}),o.accessToken=r),i&&(En("number"==typeof i,"internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qn,this.toJSON())}_performRefresh(){return _n("not implemented")}}function Yn(t,e){En("string"==typeof t||void 0===t,"internal-error",{appName:e})}class Xn{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,i=fn(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Gn(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await $n(this,this.stsTokenManager.getToken(this.auth,t));return En(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t,e=!1){const n=he(t),r=await n.getIdToken(e),i=Wn(r);En(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Un(Hn(i.auth_time)),issuedAtTime:Un(Hn(i.iat)),expirationTime:Un(Hn(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=he(t);await Kn(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(En(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new Xn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){En(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await Kn(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await $n(this,async function(t,e){return Rn(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,i,o,a,s,l,c;const u=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,d=null!==(i=e.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=e.photoURL)&&void 0!==o?o:void 0,p=null!==(a=e.tenantId)&&void 0!==a?a:void 0,m=null!==(s=e._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=e.createdAt)&&void 0!==l?l:void 0,y=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:E}=e;En(v&&E,t,"internal-error");const _=Qn.fromJSON(this.name,E);En("string"==typeof v,t,"internal-error"),Yn(u,t.name),Yn(h,t.name),En("boolean"==typeof b,t,"internal-error"),En("boolean"==typeof w,t,"internal-error"),Yn(d,t.name),Yn(f,t.name),Yn(p,t.name),Yn(m,t.name),Yn(g,t.name),Yn(y,t.name);const k=new Xn({uid:v,auth:t,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:_,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(k.providerData=x.map((t=>Object.assign({},t)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(t,e,n=!1){const r=new Qn;r.updateFromServerResponse(e);const i=new Xn({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return await Kn(i),i}}class Jn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Jn.type="NONE";const Zn=Jn;function tr(t,e,n){return`firebase:${t}:${e}:${n}`}class er{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=tr(this.userKey,r.apiKey,i),this.fullPersistenceKey=tr("persistence",r.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Xn._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new er(Tn(Zn),t,n);const r=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let i=r[0]||Tn(Zn);const o=tr(n,t.config.apiKey,t.name);let a=null;for(const n of e)try{const e=await n._get(o);if(e){const r=Xn._fromJSON(t,e);n!==i&&(a=r),i=n;break}}catch(t){}const s=r.filter((t=>t._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(e.map((async t=>{if(t!==i)try{await t._remove(o)}catch(t){}}))),new er(i,t,n)):new er(i,t,n)}}function nr(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ar(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rr(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lr(e))return"Blackberry";if(cr(e))return"Webos";if(ir(e))return"Safari";if((e.includes("chrome/")||or(e))&&!e.includes("edge/"))return"Chrome";if(sr(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function rr(t=te()){return/firefox\//i.test(t)}function ir(t=te()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function or(t=te()){return/crios\//i.test(t)}function ar(t=te()){return/iemobile/i.test(t)}function sr(t=te()){return/android/i.test(t)}function lr(t=te()){return/blackberry/i.test(t)}function cr(t=te()){return/webos/i.test(t)}function ur(t=te()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hr(t=te()){return ur(t)||sr(t)||cr(t)||lr(t)||/windows phone/i.test(t)||ar(t)}function dr(t,e=[]){let n;switch(t){case"Browser":n=nr(te());break;case"Worker":n=`${nr(te())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ze}/${r}`}class fr{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise(((n,r)=>{try{n(t(e))}catch(t){r(t)}}));n.onAbort=e,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(t){e.reverse();for(const t of e)try{t()}catch(t){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==t?void 0:t.message})}}}class pr{constructor(t,e,n){this.app=t,this.heartbeatServiceProvider=e,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gr(this),this.idTokenSubscription=new gr(this),this.beforeStateQueue=new fr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Tn(e)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await er.create(this,t),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(t){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUser(t){var e;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,o=null==r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(t);n&&n!==o||!(null==a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(t){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(t)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return En(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(t){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Kn(t)}catch(t){if("auth/network-request-failed"!==(null==t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const e=t?he(t):null;return e&&En(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&En(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Tn(t))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ne("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Tn(t)||this._popupRedirectResolver;En(e,this,"argument-error"),this.redirectPersistenceManager=await er.create(this,[Tn(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};const i="function"==typeof e?e:e.next.bind(e),o=this._isInitialized?Promise.resolve():this._initializationPromise;return En(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"==typeof e?t.addObserver(e,n,r):t.addObserver(e)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return En(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=dr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());return n&&(e["X-Firebase-Client"]=n),e}}function mr(t){return he(t)}class gr{constructor(t){this.auth=t,this.observer=null,this.addObserver=function(t,e){const n=new ce(t,void 0);return n.subscribe.bind(n)}((t=>this.observer=t))}get next(){return En(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yr(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vr(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class br{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return _n("not implemented")}_getIdTokenResponse(t){return _n("not implemented")}_linkToIdToken(t,e){return _n("not implemented")}_getReauthenticationResolver(t){return _n("not implemented")}}class wr extends br{constructor(t,e,n,r=null){super("password",n),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new wr(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new wr(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if((null==e?void 0:e.email)&&(null==e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return async function(t,e){return zn(t,"POST","/v1/accounts:signInWithPassword",Dn(t,e))}(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(t,e){return zn(t,"POST","/v1/accounts:signInWithEmailLink",Dn(t,e))}(t,{email:this._email,oobCode:this._password});default:vn(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return async function(t,e){return Rn(t,"POST","/v1/accounts:update",e)}(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(t,e){return zn(t,"POST","/v1/accounts:signInWithEmailLink",Dn(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:vn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function xr(t,e){return zn(t,"POST","/v1/accounts:signInWithIdp",Dn(t,e))}class Er extends br{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Er(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):vn("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,i=fn(e,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Er(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){return xr(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,xr(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,xr(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=ae(e)}return t}}const _r={USER_NOT_FOUND:"user-not-found"};class kr extends br{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new kr({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new kr({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return zn(t,"POST","/v1/accounts:signInWithPhoneNumber",Dn(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const n=await zn(t,"POST","/v1/accounts:signInWithPhoneNumber",Dn(t,e));if(n.temporaryProof)throw jn(t,"account-exists-with-different-credential",n);return n}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return zn(t,"POST","/v1/accounts:signInWithPhoneNumber",Dn(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),_r)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:r}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"==typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}=t;return n||e||r||i?new kr({verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Sr{constructor(t){var e,n,r,i,o,a;const s=se(le(t)),l=null!==(e=s.apiKey)&&void 0!==e?e:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);En(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(t){const e=function(t){const e=se(le(t)).link,n=e?se(le(e)).deep_link_id:null,r=se(le(t)).deep_link_id;return(r?se(le(r)).link:null)||r||n||e||t}(t);try{return new Sr(e)}catch(t){return null}}}class Tr{constructor(){this.providerId=Tr.PROVIDER_ID}static credential(t,e){return wr._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=Sr.parseLink(e);return En(n,"argument-error"),wr._fromEmailAndCode(t,n.code,n.tenantId)}}Tr.PROVIDER_ID="password",Tr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Tr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Cr{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ir extends Cr{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Nr extends Ir{constructor(){super("facebook.com")}static credential(t){return Er._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Nr.credential(t.oauthAccessToken)}catch(t){return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Nr.PROVIDER_ID="facebook.com";class Ar extends Ir{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Er._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Ar.credentialFromTaggedObject(t)}static credentialFromError(t){return Ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return Ar.credential(e,n)}catch(t){return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com",Ar.PROVIDER_ID="google.com";class Or extends Ir{constructor(){super("github.com")}static credential(t){return Er._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Or.credentialFromTaggedObject(t)}static credentialFromError(t){return Or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Or.credential(t.oauthAccessToken)}catch(t){return null}}}Or.GITHUB_SIGN_IN_METHOD="github.com",Or.PROVIDER_ID="github.com";class Mr extends Ir{constructor(){super("twitter.com")}static credential(t,e){return Er._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return Mr.credential(e,n)}catch(t){return null}}}Mr.TWITTER_SIGN_IN_METHOD="twitter.com",Mr.PROVIDER_ID="twitter.com";class Lr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,r=!1){const i=await Xn._fromIdTokenResponse(t,n,r),o=Pr(n);return new Lr({user:i,providerId:o,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const r=Pr(n);return new Lr({user:t,providerId:r,_tokenResponse:n,operationType:e})}}function Pr(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Dr extends ee{constructor(t,e,n,r){var i;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Dr.prototype),this.customData={appName:t.name,tenantId:null!==(i=t.tenantId)&&void 0!==i?i:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new Dr(t,e,n,r)}}function Rr(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Dr._fromErrorAndOperation(t,n,e,r);throw n}))}async function Fr(t,e,n=!1){const r="signIn",i=await Rr(t,r,e),o=await Lr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function zr(t,e,n){const r=he(t),i={requestType:"PASSWORD_RESET",email:e};n&&function(t,e,n){var r;En((null===(r=n.url)||void 0===r?void 0:r.length)>0,t,"invalid-continue-uri"),En(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(En(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(En(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}(r,i,n),await async function(t,e){return async function(t,e){return Rn(t,"POST","/v1/accounts:sendOobCode",Dn(t,e))}(t,e)}(r,i)}async function Vr(t,e,n){const r=mr(t),i=await async function(t,e){return zn(t,"POST","/v1/accounts:signUp",Dn(t,e))}(r,{returnSecureToken:!0,email:e,password:n}),o=await Lr._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}function Br(t,e,n){return async function(t,e){return Fr(mr(t),e)}(he(t),Tr.credential(e,n))}async function jr(t,{displayName:e,photoURL:n}){if(void 0===e&&void 0===n)return;const r=he(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await $n(r,async function(t,e){return Rn(t,"POST","/v1/accounts:update",e)}(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find((({providerId:t})=>"password"===t));a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function Ur(t,e,n,r){return he(t).onAuthStateChanged(e,n,r)}function Hr(t){return he(t).signOut()}new WeakMap;const Wr="__sak";class $r{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Wr,"1"),this.storage.removeItem(Wr),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}class qr extends $r{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=te();return ir(t)||ur(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=hr(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),r=this.localCache[e];n!==r&&t(e,r,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys(((t,e,n)=>{this.notifyListeners(t,n)}));const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(t.newValue!==r)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const r=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},i=this.storage.getItem(n);!function(){const t=te();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||10!==document.documentMode||i===t.newValue||t.newValue===t.oldValue?r():setTimeout(r,10)}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const t of Array.from(n))t(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}qr.type="LOCAL";const Gr=qr;class Kr extends $r{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Kr.type="SESSION";const Qr=Kr;class Yr{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const n=new Yr(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:r,data:i}=e.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async t=>t(e.origin,i))),s=await function(t){return Promise.all(t.map((async t=>{try{return{fulfilled:!0,value:await t}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);e.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Xr(t="",e=10){let n="";for(let t=0;t<e;t++)n+=Math.floor(10*Math.random());return t+n}Yr.receivers=[];class Jr{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const l=Xr("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(t){const e=t;if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(e.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Zr(){return window}function ti(){return void 0!==Zr().WorkerGlobalScope&&"function"==typeof Zr().importScripts}const ei="firebaseLocalStorageDb",ni="firebaseLocalStorage",ri="fbase_key";class ii{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function oi(t,e){return t.transaction([ni],e?"readwrite":"readonly").objectStore(ni)}function ai(){const t=indexedDB.open(ei,1);return new Promise(((e,n)=>{t.addEventListener("error",(()=>{n(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(ni,{keyPath:ri})}catch(t){n(t)}})),t.addEventListener("success",(async()=>{const n=t.result;n.objectStoreNames.contains(ni)?e(n):(n.close(),await function(){const t=indexedDB.deleteDatabase(ei);return new ii(t).toPromise()}(),e(await ai()))}))}))}async function si(t,e,n){const r=oi(t,!0).put({[ri]:e,value:n});return new ii(r).toPromise()}function li(t,e){const n=oi(t,!0).delete(e);return new ii(n).toPromise()}class ci{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await ai()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(t){if(e++>3)throw t;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ti()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yr._getInstance(ti()?self:null),this.receiver._subscribe("keyChanged",(async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)}))),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Jr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&function(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ai();return await si(t,Wr,"1"),await li(t,Wr),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((n=>si(n,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>async function(t,e){const n=oi(t,!1).get(e),r=await new ii(n).toPromise();return void 0===r?null:r.value}(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>li(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=oi(t,!1).getAll();return new ii(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;for(const{fbase_key:r,value:i}of t)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),e.push(r));for(const t of Object.keys(this.localCache))this.localCache[t]&&!n.has(t)&&(this.notifyListeners(t,null),e.push(t));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const t of Array.from(n))t(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ci.type="LOCAL";const ui=ci;function hi(t){return`__${t}${Math.floor(1e6*Math.random())}`}hi("rcb"),new An(3e4,6e4);class di{constructor(t){this.providerId=di.PROVIDER_ID,this.auth=mr(t)}verifyPhoneNumber(t,e){return async function(t,e,n){var r;const i=await n.verify();try{let o;if(En("string"==typeof i,t,"argument-error"),En("recaptcha"===n.type,t,"argument-error"),o="string"==typeof e?{phoneNumber:e}:e,"session"in o){const e=o.session;if("phoneNumber"in o){En("enroll"===e.type,t,"internal-error");const n=await function(t,e){return Rn(t,"POST","/v2/accounts/mfaEnrollment:start",Dn(t,e))}(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{En("signin"===e.type,t,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;En(n,t,"missing-multi-factor-info");const a=await function(t,e){return Rn(t,"POST","/v2/accounts/mfaSignIn:start",Dn(t,e))}(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await async function(t,e){return Rn(t,"POST","/v1/accounts:sendVerificationCode",Dn(t,e))}(t,{phoneNumber:o.phoneNumber,recaptchaToken:i});return e}}finally{n._reset()}}(this.auth,t,he(e))}static credential(t,e){return kr._fromVerification(t,e)}static credentialFromResult(t){const e=t;return di.credentialFromTaggedObject(e)}static credentialFromError(t){return di.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:n}=t;return e&&n?kr._fromTokenResponse(e,n):null}}function fi(t,e){return e?Tn(e):(En(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}di.PROVIDER_ID="phone",di.PHONE_SIGN_IN_METHOD="phone";class pi extends br{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return xr(t,this._buildIdpRequest())}_linkToIdToken(t,e){return xr(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return xr(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function mi(t){return Fr(t.auth,new pi(t),t.bypassAuthState)}function gi(t){const{auth:e,user:n}=t;return En(n,e,"internal-error"),async function(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await $n(t,Rr(r,i,e,t),n);En(o.idToken,r,"internal-error");const a=Wn(o.idToken);En(a,r,"internal-error");const{sub:s}=a;return En(t.uid===s,r,"user-mismatch"),Lr._forOperation(t,i,o)}catch(t){throw"auth/user-not-found"===(null==t?void 0:t.code)&&vn(r,"user-mismatch"),t}}(n,new pi(t),t.bypassAuthState)}async function yi(t){const{auth:e,user:n}=t;return En(n,e,"internal-error"),async function(t,e,n=!1){const r=await $n(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Lr._forOperation(t,"link",r)}(n,new pi(t),t.bypassAuthState)}class vi{constructor(t,e,n,r,i=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(t){this.reject(t)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=t;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:e,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(t){this.reject(t)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return mi;case"linkViaPopup":case"linkViaRedirect":return yi;case"reauthViaPopup":case"reauthViaRedirect":return gi;default:vn(this.auth,"internal-error")}}resolve(t){kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bi=new An(2e3,1e4);class wi extends vi{constructor(t,e,n,r,i){super(t,e,r,i),this.provider=n,this.authWindow=null,this.pollId=null,wi.currentPopupAction&&wi.currentPopupAction.cancel(),wi.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return En(t,this.auth,"internal-error"),t}async onExecution(){kn(1===this.filter.length,"Popup operations only handle one event");const t=Xr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(bn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wi.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(bn(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(t,bi.get())};t()}}wi.currentPopupAction=null;const xi=new Map;class Ei extends vi{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=xi.get(this.auth._key());if(!t){try{const e=await async function(t,e){const n=function(t){return tr("pendingRedirect",t.config.apiKey,t.name)}(e),r=function(t){return Tn(t._redirectPersistence)}(t);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=e?await super.execute():null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}xi.set(this.auth._key(),t)}return this.bypassAuthState||xi.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function _i(t,e){xi.set(t._key(),e)}async function ki(t,e,n=!1){const r=mr(t),i=fi(r,e),o=new Ei(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}class Si{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ci(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!Ci(t)){const r=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(bn(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ti(t))}saveEventToCache(t){this.cachedEventUids.add(Ti(t)),this.lastProcessedEventTime=Date.now()}}function Ti(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function Ci({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}const Ii=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ni=/^https?/;function Ai(t){const e=Cn(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return""===i.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Ni.test(n))return!1;if(Ii.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Oi=new An(3e4,6e4);function Mi(){const t=Zr().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let e=0;e<t.CP.length;e++)t.CP[e]=null}let Li=null;function Pi(t){return Li=Li||function(t){return new Promise(((e,n)=>{var r,i,o,a;function s(){Mi(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mi(),n(bn(t,"network-request-failed"))},timeout:Oi.get()})}if(null===(i=null===(r=Zr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(o=Zr().gapi)||void 0===o?void 0:o.load)){const e=hi("iframefcb");return Zr()[e]=()=>{gapi.load?s():n(bn(t,"network-request-failed"))},(a=`https://apis.google.com/js/api.js?onload=${e}`,new Promise(((t,e)=>{const n=document.createElement("script");n.setAttribute("src",a),n.onload=t,n.onerror=t=>{const n=bn("internal-error");n.customData=t,e(n)},n.type="text/javascript",n.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(n)}))).catch((t=>n(t)))}s()}})).catch((t=>{throw Li=null,t}))}(t),Li}const Di=new An(5e3,15e3),Ri={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zi(t){const e=t.config;En(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?On(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:Ze},i=Fi.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ae(r).slice(1)}`}const Vi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Bi{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function ji(t,e,n,r,i,o){En(t.config.authDomain,t,"auth-domain-config-required"),En(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ze,eventId:i};if(e instanceof Cr){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(o||{}))a[t]=e}if(e instanceof Ir){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(a.scopes=t.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const t of Object.keys(s))void 0===s[t]&&delete s[t];return`${function({config:t}){return t.emulator?On(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${ae(s).slice(1)}`}const Ui="webStorageSupport",Hi=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qr,this._completeRedirectFn=ki,this._overrideRedirectResult=_i}async _openPopup(t,e,n,r){var i;return kn(null===(i=this.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},Vi),{width:r.toString(),height:i.toString(),top:o,left:a}),c=te().toLowerCase();n&&(s=or(c)?"_blank":n),rr(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((t,[e,n])=>`${t}${e}=${n},`),"");if(function(t=te()){var e;return ur(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",s),new Bi(null);const h=window.open(e||"",s,u);En(h,t,"popup-blocked");try{h.focus()}catch(t){}return new Bi(h)}(t,ji(t,e,n,Cn(),r),Xr())}async _openRedirect(t,e,n,r){var i;return await this._originValidation(t),i=ji(t,e,n,Cn(),r),Zr().location.href=i,new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(kn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch((()=>{delete this.eventManagers[e]})),n}async initAndGetManager(t){const e=await async function(t){const e=await Pi(t),n=Zr().gapi;return En(n,t,"internal-error"),e.open({where:document.body,url:zi(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ri,dontclear:!0},(e=>new Promise((async(n,r)=>{await e.restyle({setHideOnLeave:!1});const i=bn(t,"network-request-failed"),o=Zr().setTimeout((()=>{r(i)}),Di.get());function a(){Zr().clearTimeout(o),n(e)}e.ping(a).then(a,(()=>{r(i)}))}))))}(t),n=new Si(t);return e.register("authEvent",(e=>(En(null==e?void 0:e.authEvent,t,"invalid-auth-event"),{status:n.onEvent(e.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ui,{type:Ui},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[Ui];void 0!==i&&e(!!i),vn(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=async function(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t,e={}){return Rn(t,"GET","/v1/projects",e)}(t);for(const t of e)try{if(Ai(t))return}catch(t){}vn(t,"unauthorized-domain")}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return hr()||ir()||ur()}};var Wi="@firebase/auth",$i="0.21.3";class qi{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{t((null==e?void 0:e.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){En(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Gi=Jt("authIdTokenMaxAge")||300;let Ki=null;function Qi(t=en()){const e=Ye(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function(t,e){const n=Ye(t,"auth");if(n.isInitialized()){const t=n.getImmediate();if(ie(n.getOptions(),null!=e?e:{}))return t;vn(t,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Hi,persistence:[ui,Gr,Qr]}),r=Jt("authTokenSyncURL");if(r){const t=(i=r,async t=>{const e=t&&await t.getIdTokenResult(),n=e&&((new Date).getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>Gi)return;const r=null==e?void 0:e.token;Ki!==r&&(Ki=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(t,e,n){he(t).beforeAuthStateChanged(e,n)}(n,t,(()=>t(n.currentUser))),function(e,n,r,i){he(e).onIdTokenChanged((e=>t(e)),void 0,void 0)}(n)}var i;const o=Xt("auth");return o&&function(t,e,n){const r=mr(t);En(r._canInitEmulator,r,"emulator-config-failed"),En(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),o=yr(e),{host:a,port:s}=function(t){const e=yr(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const t=i[1];return{host:t,port:vr(r.substr(t.length+1))}}{const[t,e]=r.split(":");return{host:t,port:vr(e)}}}(e),l=null===s?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${o}`),n}var Yi;Yi="Browser",Qe(new de("auth",((t,{options:e})=>{const n=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),{apiKey:i,authDomain:o}=n.options;return((t,n)=>{En(i&&!i.includes(":"),"invalid-api-key",{appName:t.name}),En(!(null==o?void 0:o.includes(":")),"argument-error",{appName:t.name});const r={apiKey:i,authDomain:o,clientPlatform:Yi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dr(Yi)},a=new pr(t,n,r);return function(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Tn);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(a,e),a})(n,r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,n)=>{t.getProvider("auth-internal").initialize()}))),Qe(new de("auth-internal",(t=>(t=>new qi(t))(mr(t.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),nn(Wi,$i,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Yi)),nn(Wi,$i,"esm2017"),nn("firebase","9.17.1","app");var Xi,Ji="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{},Zi={},to=to||{},eo=Ji||self;function no(){}function ro(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function io(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var oo="closure_uid_"+(1e9*Math.random()>>>0),ao=0;function so(t,e,n){return t.call.apply(t.bind,arguments)}function lo(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function co(t,e,n){return(co=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?so:lo).apply(null,arguments)}function uo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ho(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function fo(){this.s=this.s,this.o=this.o}fo.prototype.s=!1,fo.prototype.na=function(){var t;!this.s&&(this.s=!0,this.M(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,oo)&&t[oo]||(t[oo]=++ao))},fo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const po=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function mo(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function go(t,e){for(let e=1;e<arguments.length;e++){const n=arguments[e];if(ro(n)){const e=t.length||0,r=n.length||0;t.length=e+r;for(let i=0;i<r;i++)t[e+i]=n[i]}else t.push(n)}}function yo(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}yo.prototype.h=function(){this.defaultPrevented=!0};var vo=function(){if(!eo.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{eo.addEventListener("test",no,e),eo.removeEventListener("test",no,e)}catch(t){}return t}();function bo(t){return/^[\s\xa0]*$/.test(t)}var wo=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function xo(t,e){return t<e?-1:t>e?1:0}function Eo(){var t=eo.navigator;return t&&(t=t.userAgent)?t:""}function _o(t){return-1!=Eo().indexOf(t)}function ko(t){return ko[" "](t),t}ko[" "]=no;var So,To,Co=_o("Opera"),Io=_o("Trident")||_o("MSIE"),No=_o("Edge"),Ao=No||Io,Oo=_o("Gecko")&&!(-1!=Eo().toLowerCase().indexOf("webkit")&&!_o("Edge"))&&!(_o("Trident")||_o("MSIE"))&&!_o("Edge"),Mo=-1!=Eo().toLowerCase().indexOf("webkit")&&!_o("Edge");function Lo(){var t=eo.document;return t?t.documentMode:void 0}t:{var Po="",Do=(To=Eo(),Oo?/rv:([^\);]+)(\)|;)/.exec(To):No?/Edge\/([\d\.]+)/.exec(To):Io?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(To):Mo?/WebKit\/(\S+)/.exec(To):Co?/(?:Version)[ \/]?(\S+)/.exec(To):void 0);if(Do&&(Po=Do?Do[1]:""),Io){var Ro=Lo();if(null!=Ro&&Ro>parseFloat(Po)){So=String(Ro);break t}}So=Po}var Fo,zo={};function Vo(){return function(t){var e=zo;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let t=0;const e=wo(String(So)).split("."),n=wo("9").split("."),r=Math.max(e.length,n.length);for(let a=0;0==t&&a<r;a++){var i=e[a]||"",o=n[a]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;t=xo(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||xo(0==i[2].length,0==o[2].length)||xo(i[2],o[2]),i=i[3],o=o[3]}while(0==t)}return 0<=t}()}()}eo.document&&Io?Fo=Lo()||parseInt(So,10)||void 0:Fo=void 0;var Bo=Fo;function jo(t,e){if(yo.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Oo){t:{try{ko(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Uo[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&jo.X.h.call(this)}}ho(jo,yo);var Uo={2:"touch",3:"pen",4:"mouse"};jo.prototype.h=function(){jo.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ho="closure_listenable_"+(1e6*Math.random()|0),Wo=0;function $o(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++Wo,this.ba=this.ea=!1}function qo(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Go(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Ko(t){const e={};for(const n in t)e[n]=t[n];return e}const Qo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yo(t,e){let n,r;for(let e=1;e<arguments.length;e++){for(n in r=arguments[e],r)t[n]=r[n];for(let e=0;e<Qo.length;e++)n=Qo[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Xo(t){this.src=t,this.g={},this.h=0}function Jo(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=po(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(qo(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Zo(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ba&&o.listener==e&&o.capture==!!n&&o.ha==r)return i}return-1}Xo.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=Zo(t,e,r,i);return-1<a?(e=t[a],n||(e.ea=!1)):((e=new $o(e,this.src,o,!!r,i)).ea=n,t.push(e)),e};var ta="closure_lm_"+(1e6*Math.random()|0),ea={};function na(t,e,n,r,i){if(r&&r.once)return ia(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)na(t,e[o],n,r,i);return null}return n=ha(n),t&&t[Ho]?t.N(e,n,io(r)?!!r.capture:!!r,i):ra(t,e,n,!1,r,i)}function ra(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=io(i)?!!i.capture:!!i,s=ca(t);if(s||(t[ta]=s=new Xo(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){const t=la;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)vo||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(sa(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ia(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ia(t,e[o],n,r,i);return null}return n=ha(n),t&&t[Ho]?t.O(e,n,io(r)?!!r.capture:!!r,i):ra(t,e,n,!0,r,i)}function oa(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)oa(t,e[o],n,r,i);else r=io(r)?!!r.capture:!!r,n=ha(n),t&&t[Ho]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Zo(o=t.g[e],n,r,i))&&(qo(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=ca(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Zo(e,n,r,i)),(n=-1<t?e[t]:null)&&aa(n))}function aa(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[Ho])Jo(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(sa(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ca(e))?(Jo(n,t),0==n.h&&(n.src=null,e[ta]=null)):qo(t)}}}function sa(t){return t in ea?ea[t]:ea[t]="on"+t}function la(t,e){if(t.ba)t=!0;else{e=new jo(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&aa(t),t=n.call(r,e)}return t}function ca(t){return(t=t[ta])instanceof Xo?t:null}var ua="__closure_events_fn_"+(1e9*Math.random()>>>0);function ha(t){return"function"==typeof t?t:(t[ua]||(t[ua]=function(e){return t.handleEvent(e)}),t[ua])}function da(){fo.call(this),this.i=new Xo(this),this.P=this,this.I=null}function fa(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new yo(e,t);else if(e instanceof yo)e.target=e.target||t;else{var i=e;Yo(e=new yo(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=pa(a,r,!0,e)&&i}if(i=pa(a=e.g=t,r,!0,e)&&i,i=pa(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=pa(a=e.g=n[o],r,!1,e)&&i}function pa(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ba&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.ea&&Jo(t.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}ho(da,fo),da.prototype[Ho]=!0,da.prototype.removeEventListener=function(t,e,n,r){oa(this,t,e,n,r)},da.prototype.M=function(){if(da.X.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)qo(n[r]);delete e.g[t],e.h--}}this.I=null},da.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},da.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var ma=eo.JSON.stringify;function ga(){var t=_a;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var ya,va=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new ba),(t=>t.reset()));class ba{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function wa(t){eo.setTimeout((()=>{throw t}),0)}function xa(t,e){ya||function(){var t=eo.Promise.resolve(void 0);ya=function(){t.then(ka)}}(),Ea||(ya(),Ea=!0),_a.add(t,e)}var Ea=!1,_a=new class{constructor(){this.h=this.g=null}add(t,e){const n=va.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}};function ka(){for(var t;t=ga();){try{t.h.call(t.g)}catch(t){wa(t)}var e=va;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ea=!1}function Sa(t,e){da.call(this),this.h=t||1,this.g=e||eo,this.j=co(this.lb,this),this.l=Date.now()}function Ta(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function Ca(t,e,n){if("function"==typeof t)n&&(t=co(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=co(t.handleEvent,t)}return 2147483647<Number(e)?-1:eo.setTimeout(t,e||0)}function Ia(t){t.g=Ca((()=>{t.g=null,t.i&&(t.i=!1,Ia(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}ho(Sa,da),(Xi=Sa.prototype).ca=!1,Xi.R=null,Xi.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),fa(this,"tick"),this.ca&&(Ta(this),this.start()))}},Xi.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xi.M=function(){Sa.X.M.call(this),Ta(this),delete this.g};class Na extends fo{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Ia(this)}M(){super.M(),this.g&&(eo.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Aa(t){fo.call(this),this.h=t,this.g={}}ho(Aa,fo);var Oa=[];function Ma(t,e,n,r){Array.isArray(n)||(n&&(Oa[0]=n.toString()),n=Oa);for(var i=0;i<n.length;i++){var o=na(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function La(t){Go(t.g,(function(t,e){this.g.hasOwnProperty(e)&&aa(t)}),t),t.g={}}function Pa(){this.g=!0}function Da(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return ma(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}Aa.prototype.M=function(){Aa.X.M.call(this),La(this)},Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pa.prototype.Aa=function(){this.g=!1},Pa.prototype.info=function(){};var Ra={},Fa=null;function za(){return Fa=Fa||new da}function Va(t){yo.call(this,Ra.Pa,t)}function Ba(t){const e=za();fa(e,new Va(e))}function ja(t,e){yo.call(this,Ra.STAT_EVENT,t),this.stat=e}function Ua(t){const e=za();fa(e,new ja(e,t))}function Ha(t,e){yo.call(this,Ra.Qa,t),this.size=e}function Wa(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return eo.setTimeout((function(){t()}),e)}Ra.Pa="serverreachability",ho(Va,yo),Ra.STAT_EVENT="statevent",ho(ja,yo),Ra.Qa="timingevent",ho(Ha,yo);var $a={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},qa={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ga(){}function Ka(t){return t.h||(t.h=t.i())}function Qa(){}Ga.prototype.h=null;var Ya,Xa={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ja(){yo.call(this,"d")}function Za(){yo.call(this,"c")}function ts(){}function es(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Aa(this),this.O=rs,t=Ao?125:void 0,this.T=new Sa(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ns}function ns(){this.i=null,this.g="",this.h=!1}ho(Ja,yo),ho(Za,yo),ho(ts,Ga),ts.prototype.g=function(){return new XMLHttpRequest},ts.prototype.i=function(){return{}},Ya=new ts;var rs=45e3,is={},os={};function as(t,e,n){t.K=1,t.v=Ss(ws(e)),t.s=n,t.P=!0,ss(t,null)}function ss(t,e){t.F=Date.now(),hs(t),t.A=ws(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),zs(n.i,"t",r),t.C=0,n=t.l.H,t.h=new ns,t.g=Fl(t.l,n?e:null,!t.s),0<t.N&&(t.L=new Na(co(t.La,t,t.g),t.N)),Ma(t.S,t.g,"readystatechange",t.ib),e=t.H?Ko(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Ba(),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.j,t.u,t.A,t.m,t.U,t.s)}function ls(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Da}function cs(t,e,n){let r,i=!0;for(;!t.I&&t.C<n.length;){if(r=us(t,n),r==os){4==e&&(t.o=4,Ua(14),i=!1),Da(t.j,t.m,null,"[Incomplete Response]");break}if(r==is){t.o=4,Ua(15),Da(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Da(t.j,t.m,r,null),gs(t,r)}ls(t)&&r!=os&&r!=is&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Ua(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Nl(e),e.K=!0,Ua(11))):(Da(t.j,t.m,n,"[Invalid Chunked Response]"),ms(t),ps(t))}function us(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?os:(n=Number(e.substring(n,r)),isNaN(n)?is:(r+=1)+n>e.length?os:(e=e.substr(r,n),t.C=r+n,e))}function hs(t){t.V=Date.now()+t.O,ds(t,t.O)}function ds(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Wa(co(t.gb,t),e)}function fs(t){t.B&&(eo.clearTimeout(t.B),t.B=null)}function ps(t){0==t.l.G||t.I||Ml(t.l,t)}function ms(t){fs(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Ta(t.T),La(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function gs(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Ws(n.h,t)))if(!t.J&&Ws(n.h,t)&&3==n.G){try{var r=n.Fa.g.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Ol(n),xl(n)}Il(n),Ua(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Wa(co(n.cb,n),6e3));if(1>=Hs(n.h)&&n.ja){try{n.ja()}catch(t){}n.ja=void 0}}else Pl(n,11)}else if((t.J||n.g==t)&&Ol(n),!bo(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.I=c[1],n.ka=c[2];const e=c[3];null!=e&&(n.ma=e,n.j.info("VER="+n.ma));const i=c[4];null!=i&&(n.Ca=i,n.j.info("SVER="+n.Ca));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var o=r.h;o.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&($s(o,o.h),o.h=null))}if(r.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.za=t,ks(r.F,r.D,t))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var a=t;if((r=n).sa=Rl(r,r.H?r.ka:null,r.V),a.J){qs(r.h,a);var s=a,l=r.J;l&&s.setTimeout(l),s.B&&(fs(s),hs(s)),r.g=a}else Cl(r);0<n.i.length&&_l(n)}else"stop"!=c[0]&&"close"!=c[0]||Pl(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Pl(n,7):wl(n):"noop"!=c[0]&&n.l&&n.l.wa(c),n.A=0)}Ba()}catch(t){}}function ys(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ro(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if("undefined"!=typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!=typeof Set&&t instanceof Set)){if(ro(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function(t){if(t.W&&"function"==typeof t.W)return t.W();if("undefined"!=typeof Map&&t instanceof Map||"undefined"!=typeof Set&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(ro(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(Xi=es.prototype).setTimeout=function(t){this.O=t},Xi.ib=function(t){t=t.target;const e=this.L;e&&3==pl(t)?e.l():this.La(t)},Xi.La=function(t){try{if(t==this.g)t:{const u=pl(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>u)&&(3!=u||Ao||this.g&&(this.h.h||this.g.fa()||ml(this.g)))){this.I||4!=u||7==e||Ba(),fs(this);var n=this.g.aa();this.Y=n;e:if(ls(this)){var r=ml(this.g);t="";var i=r.length,o=4==pl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ms(this),ps(this);var a="";break e}this.h.i=new eo.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.fa();if(this.i=200==n,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.U,u,n),this.i){if(this.Z&&!this.J){e:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bo(s)){var c=s;break e}}c=null}if(!(n=c)){this.i=!1,this.o=3,Ua(12),ms(this),ps(this);break t}Da(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,gs(this,n)}this.P?(cs(this,u,a),Ao&&this.i&&3==u&&(Ma(this.S,this.T,"tick",this.hb),this.T.start())):(Da(this.j,this.m,a,null),gs(this,a)),4==u&&ms(this),this.i&&!this.I&&(4==u?Ml(this.l,this):(this.i=!1,hs(this)))}else 400==n&&0<a.indexOf("Unknown SID")?(this.o=3,Ua(12)):(this.o=0,Ua(13)),ms(this),ps(this)}}}catch(t){}},Xi.hb=function(){if(this.g){var t=pl(this.g),e=this.g.fa();this.C<e.length&&(fs(this),cs(this,t,e),this.i&&4!=t&&hs(this))}},Xi.cancel=function(){this.I=!0,ms(this)},Xi.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(Ba(),Ua(17)),ms(this),this.o=2,ps(this)):ds(this,this.V-t)};var vs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bs(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof bs){this.h=void 0!==e?e:t.h,xs(this,t.j),this.s=t.s,this.g=t.g,Es(this,t.m),this.l=t.l,e=t.i;var n=new Ps;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),_s(this,n),this.o=t.o}else t&&(n=String(t).match(vs))?(this.h=!!e,xs(this,n[1]||"",!0),this.s=Ts(n[2]||""),this.g=Ts(n[3]||"",!0),Es(this,n[4]),this.l=Ts(n[5]||"",!0),_s(this,n[6]||"",!0),this.o=Ts(n[7]||"")):(this.h=!!e,this.i=new Ps(null,this.h))}function ws(t){return new bs(t)}function xs(t,e,n){t.j=n?Ts(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Es(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function _s(t,e,n){e instanceof Ps?(t.i=e,function(t,e){e&&!t.j&&(Ds(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Rs(this,e),zs(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=Cs(e,Ms)),t.i=new Ps(e,t.h))}function ks(t,e,n){t.i.set(e,n)}function Ss(t){return ks(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ts(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Cs(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Is),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Is(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}bs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Cs(e,Ns,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Cs(e,Ns,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Cs(n,"/"==n.charAt(0)?Os:As,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Cs(n,Ls)),t.join("")};var Ns=/[#\/\?@]/g,As=/[#\?:]/g,Os=/[#\?]/g,Ms=/[#\?@]/g,Ls=/#/g;function Ps(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ds(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Rs(t,e){Ds(t),e=Vs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Fs(t,e){return Ds(t),e=Vs(t,e),t.g.has(e)}function zs(t,e,n){Rs(t,e),0<n.length&&(t.i=null,t.g.set(Vs(t,e),mo(n)),t.h+=n.length)}function Vs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Bs(t){this.l=t||js,t=eo.PerformanceNavigationTiming?0<(t=eo.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(eo.g&&eo.g.Ga&&eo.g.Ga()&&eo.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Xi=Ps.prototype).add=function(t,e){Ds(this),this.i=null,t=Vs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Xi.forEach=function(t,e){Ds(this),this.g.forEach((function(n,r){n.forEach((function(n){t.call(e,n,r,this)}),this)}),this)},Xi.oa=function(){Ds(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let t=0;t<i.length;t++)n.push(e[r])}return n},Xi.W=function(t){Ds(this);let e=[];if("string"==typeof t)Fs(this,t)&&(e=e.concat(this.g.get(Vs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Xi.set=function(t,e){return Ds(this),this.i=null,Fs(this,t=Vs(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Xi.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},Xi.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),t.push(i)}}return this.i=t.join("&")};var js=10;function Us(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Hs(t){return t.h?1:t.g?t.g.size:0}function Ws(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function $s(t,e){t.g?t.g.add(e):t.h=e}function qs(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Gs(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return mo(t.i)}function Ks(){}function Qs(){this.g=new Ks}function Ys(t,e,n){const r=n||"";try{ys(t,(function(t,n){let i=t;io(t)&&(i=ma(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Xs(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}function Js(t){this.l=t.ac||null,this.j=t.jb||!1}function Zs(t,e){da.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=tl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bs.prototype.cancel=function(){if(this.i=Gs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},Ks.prototype.stringify=function(t){return eo.JSON.stringify(t,void 0)},Ks.prototype.parse=function(t){return eo.JSON.parse(t,void 0)},ho(Js,Ga),Js.prototype.g=function(){return new Zs(this.l,this.j)},Js.prototype.i=function(t){return function(){return t}}({}),ho(Zs,da);var tl=0;function el(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function nl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,rl(t)}function rl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Xi=Zs.prototype).open=function(t,e){if(this.readyState!=tl)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,rl(this)},Xi.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||eo).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Xi.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nl(this)),this.readyState=tl},Xi.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,rl(this)),this.g&&(this.readyState=3,rl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==eo.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;el(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},Xi.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?nl(this):rl(this),3==this.readyState&&el(this)}},Xi.Va=function(t){this.g&&(this.response=this.responseText=t,nl(this))},Xi.Ua=function(t){this.g&&(this.response=t,nl(this))},Xi.ga=function(){this.g&&nl(this)},Xi.setRequestHeader=function(t,e){this.v.append(t,e)},Xi.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Xi.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Zs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var il=eo.JSON.parse;function ol(t){da.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=al,this.K=this.L=!1}ho(ol,da);var al="",sl=/^https?$/i,ll=["POST","PUT"];function cl(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ul(t),dl(t)}function ul(t){t.D||(t.D=!0,fa(t,"complete"),fa(t,"error"))}function hl(t){if(t.h&&void 0!==to&&(!t.C[1]||4!=pl(t)||2!=t.aa()))if(t.v&&4==pl(t))Ca(t.Ha,0,t);else if(fa(t,"readystatechange"),4==pl(t)){t.h=!1;try{const s=t.aa();t:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.H).match(vs)[1]||null;if(!i&&eo.self&&eo.self.location){var o=eo.self.location.protocol;i=o.substr(0,o.length-1)}r=!sl.test(i?i.toLowerCase():"")}n=r}if(n)fa(t,"complete"),fa(t,"success");else{t.m=6;try{var a=2<pl(t)?t.g.statusText:""}catch(t){a=""}t.j=a+" ["+t.aa()+"]",ul(t)}}finally{dl(t)}}}function dl(t,e){if(t.g){fl(t);const n=t.g,r=t.C[0]?no:null;t.g=null,t.C=null,e||fa(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function fl(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(eo.clearTimeout(t.A),t.A=null)}function pl(t){return t.g?t.g.readyState:0}function ml(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case al:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function gl(t){let e="";return Go(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function yl(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=gl(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ks(t,e,n))}function vl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function bl(t){this.Ca=0,this.i=[],this.j=new Pa,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=vl("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=vl("baseRetryDelayMs",5e3,t),this.bb=vl("retryDelaySeedMs",1e4,t),this.$a=vl("forwardChannelMaxRetries",2,t),this.ta=vl("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new Bs(t&&t.concurrentRequestLimit),this.Fa=new Qs,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function wl(t){if(El(t),3==t.G){var e=t.U++,n=ws(t.F);ks(n,"SID",t.I),ks(n,"RID",e),ks(n,"TYPE","terminate"),Sl(t,n),(e=new es(t,t.j,e,void 0)).K=2,e.v=Ss(ws(n)),n=!1,eo.navigator&&eo.navigator.sendBeacon&&(n=eo.navigator.sendBeacon(e.v.toString(),"")),!n&&eo.Image&&((new Image).src=e.v,n=!0),n||(e.g=Fl(e.l,null),e.g.da(e.v)),e.F=Date.now(),hs(e)}Dl(t)}function xl(t){t.g&&(Nl(t),t.g.cancel(),t.g=null)}function El(t){xl(t),t.u&&(eo.clearTimeout(t.u),t.u=null),Ol(t),t.h.cancel(),t.m&&("number"==typeof t.m&&eo.clearTimeout(t.m),t.m=null)}function _l(t){Us(t.h)||t.m||(t.m=!0,xa(t.Ja,t),t.C=0)}function kl(t,e){var n;n=e?e.m:t.U++;const r=ws(t.F);ks(r,"SID",t.I),ks(r,"RID",n),ks(r,"AID",t.T),Sl(t,r),t.o&&t.s&&yl(r,t.o,t.s),n=new es(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=Tl(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),$s(t.h,n),as(n,r,e)}function Sl(t,e){t.ia&&Go(t.ia,(function(t,n){ks(e,n,t)})),t.l&&ys({},(function(t,n){ks(e,n,t)}))}function Tl(t,e,n){n=Math.min(t.i.length,n);var r=t.l?co(t.l.Ra,t.l,t):null;t:{var i=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let o=!0;for(let a=0;a<n;a++){let n=i[a].h;const s=i[a].g;if(n-=e,0>n)e=Math.max(0,i[a].h-100),o=!1;else try{Ys(s,t,"req"+n+"_")}catch(t){r&&r(s)}}if(o){r=t.join("&");break t}}}return t=t.i.splice(0,n),e.D=t,r}function Cl(t){t.g||t.u||(t.Z=1,xa(t.Ia,t),t.A=0)}function Il(t){return!(t.g||t.u||3<=t.A||(t.Z++,t.u=Wa(co(t.Ia,t),Ll(t,t.A)),t.A++,0))}function Nl(t){null!=t.B&&(eo.clearTimeout(t.B),t.B=null)}function Al(t){t.g=new es(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=ws(t.sa);ks(e,"RID","rpc"),ks(e,"SID",t.I),ks(e,"CI",t.L?"0":"1"),ks(e,"AID",t.T),ks(e,"TYPE","xmlhttp"),Sl(t,e),t.o&&t.s&&yl(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Ss(ws(e)),n.s=null,n.P=!0,ss(n,t)}function Ol(t){null!=t.v&&(eo.clearTimeout(t.v),t.v=null)}function Ml(t,e){var n=null;if(t.g==e){Ol(t),Nl(t),t.g=null;var r=2}else{if(!Ws(t.h,e))return;n=e.D,qs(t.h,e),r=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;fa(r=za(),new Ha(r,n)),_l(t)}else Cl(t);else if(3==(i=e.o)||0==i&&0<t.pa||!(1==r&&function(t,e){return!(Hs(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Za?0:t.$a)||(t.m=Wa(co(t.Ja,t,e),Ll(t,t.C)),t.C++,0)))}(t,e)||2==r&&Il(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Pl(t,5);break;case 4:Pl(t,10);break;case 3:Pl(t,6);break;default:Pl(t,2)}}function Ll(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Pl(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=co(t.kb,t);n||(n=new bs("//www.google.com/images/cleardot.gif"),eo.location&&"http"==eo.location.protocol||xs(n,"https"),Ss(n)),function(t,e){const n=new Pa;if(eo.Image){const r=new Image;r.onload=uo(Xs,n,r,"TestLoadImage: loaded",!0,e),r.onerror=uo(Xs,n,r,"TestLoadImage: error",!1,e),r.onabort=uo(Xs,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=uo(Xs,n,r,"TestLoadImage: timeout",!1,e),eo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ua(2);t.G=0,t.l&&t.l.va(e),Dl(t),El(t)}function Dl(t){if(t.G=0,t.la=[],t.l){const e=Gs(t.h);0==e.length&&0==t.i.length||(go(t.la,e),go(t.la,t.i),t.h.i.length=0,mo(t.i),t.i.length=0),t.l.ua()}}function Rl(t,e,n){var r=n instanceof bs?ws(n):new bs(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Es(r,r.m);else{var i=eo.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new bs(null,void 0);r&&xs(o,r),e&&(o.g=e),i&&Es(o,i),n&&(o.l=n),r=o}return n=t.D,e=t.za,n&&e&&ks(r,n,e),ks(r,"VER",t.ma),Sl(t,r),r}function Fl(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Da&&!t.ra?new ol(new Js({jb:!0})):new ol(t.ra)).Ka(t.H),e}function zl(){}function Vl(){if(Io&&!(10<=Number(Bo)))throw Error("Environmental error: no available transport.")}function Bl(t,e){da.call(this),this.g=new bl(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!bo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bo(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Hl(this)}function jl(t){Ja.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Ul(){Za.call(this),this.status=1}function Hl(t){this.g=t}(Xi=ol.prototype).Ka=function(t){this.L=t},Xi.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ya.g(),this.C=this.u?Ka(this.u):Ka(Ya),this.g.onreadystatechange=co(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(t){return void cl(this,t)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const t of r.keys())n.set(t,r.get(t))}r=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),i=eo.FormData&&t instanceof eo.FormData,!(0<=po(ll,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[t,e]of n)this.g.setRequestHeader(t,e);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fl(this),0<this.B&&((this.K=function(t){return Io&&Vo()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=co(this.qa,this)):this.A=Ca(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(t){cl(this,t)}},Xi.qa=function(){void 0!==to&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fa(this,"timeout"),this.abort(8))},Xi.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,fa(this,"complete"),fa(this,"abort"),dl(this))},Xi.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dl(this,!0)),ol.X.M.call(this)},Xi.Ha=function(){this.s||(this.F||this.v||this.l?hl(this):this.fb())},Xi.fb=function(){hl(this)},Xi.aa=function(){try{return 2<pl(this)?this.g.status:-1}catch(t){return-1}},Xi.fa=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},Xi.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),il(e)}},Xi.Ea=function(){return this.m},Xi.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Xi=bl.prototype).ma=8,Xi.G=1,Xi.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new es(this,this.j,t,void 0);let o=this.s;if(this.S&&(o?(o=Ko(o),Yo(o,this.S)):o=this.S),null!==this.o||this.N||(i.H=o,o=null),this.O)t:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=Tl(this,i,e),ks(n=ws(this.F),"RID",t),ks(n,"CVER",22),this.D&&ks(n,"X-HTTP-Session-Id",this.D),Sl(this,n),o&&(this.N?e="headers="+encodeURIComponent(String(gl(o)))+"&"+e:this.o&&yl(n,this.o,o)),$s(this.h,i),this.Ya&&ks(n,"TYPE","init"),this.O?(ks(n,"$req",e),ks(n,"SID","null"),i.Z=!0,as(i,n,null)):as(i,n,e),this.G=2}}else 3==this.G&&(t?kl(this,t):0==this.i.length||Us(this.h)||kl(this))},Xi.Ia=function(){if(this.u=null,Al(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Wa(co(this.eb,this),t)}},Xi.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ua(10),xl(this),Al(this))},Xi.cb=function(){null!=this.v&&(this.v=null,xl(this),Il(this),Ua(19))},Xi.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Ua(2)):(this.j.info("Failed to ping google.com"),Ua(1))},(Xi=zl.prototype).xa=function(){},Xi.wa=function(){},Xi.va=function(){},Xi.ua=function(){},Xi.Ra=function(){},Vl.prototype.g=function(t,e){return new Bl(t,e)},ho(Bl,da),Bl.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Ua(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=Rl(t,null,t.V),_l(t)},Bl.prototype.close=function(){wl(this.g)},Bl.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=ma(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.ab++,t)),3==e.G&&_l(e)},Bl.prototype.M=function(){this.g.l=null,delete this.j,wl(this.g),delete this.g,Bl.X.M.call(this)},ho(jl,Ja),ho(Ul,Za),ho(Hl,zl),Hl.prototype.xa=function(){fa(this.g,"a")},Hl.prototype.wa=function(t){fa(this.g,new jl(t))},Hl.prototype.va=function(t){fa(this.g,new Ul)},Hl.prototype.ua=function(){fa(this.g,"b")},Vl.prototype.createWebChannel=Vl.prototype.g,Bl.prototype.send=Bl.prototype.u,Bl.prototype.open=Bl.prototype.m,Bl.prototype.close=Bl.prototype.close,$a.NO_ERROR=0,$a.TIMEOUT=8,$a.HTTP_ERROR=6,qa.COMPLETE="complete",Qa.EventType=Xa,Xa.OPEN="a",Xa.CLOSE="b",Xa.ERROR="c",Xa.MESSAGE="d",da.prototype.listen=da.prototype.N,ol.prototype.listenOnce=ol.prototype.O,ol.prototype.getLastError=ol.prototype.Oa,ol.prototype.getLastErrorCode=ol.prototype.Ea,ol.prototype.getStatus=ol.prototype.aa,ol.prototype.getResponseJson=ol.prototype.Sa,ol.prototype.getResponseText=ol.prototype.fa,ol.prototype.send=ol.prototype.da,ol.prototype.setWithCredentials=ol.prototype.Ka;var Wl=Zi.createWebChannelTransport=function(){return new Vl},$l=Zi.getStatEventTarget=function(){return za()},ql=Zi.ErrorCode=$a,Gl=Zi.EventType=qa,Kl=Zi.Event=Ra,Ql=Zi.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Yl=Zi.FetchXmlHttpFactory=Js,Xl=Zi.WebChannel=Qa,Jl=Zi.XhrIo=ol;const Zl="@firebase/firestore";class tc{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}tc.UNAUTHENTICATED=new tc(null),tc.GOOGLE_CREDENTIALS=new tc("google-credentials-uid"),tc.FIRST_PARTY=new tc("first-party-uid"),tc.MOCK_USER=new tc("mock-user");let ec="9.17.1";const nc=new _e("@firebase/firestore");function rc(){return nc.logLevel}function ic(t,...e){if(nc.logLevel<=ye.DEBUG){const n=e.map(sc);nc.debug(`Firestore (${ec}): ${t}`,...n)}}function oc(t,...e){if(nc.logLevel<=ye.ERROR){const n=e.map(sc);nc.error(`Firestore (${ec}): ${t}`,...n)}}function ac(t,...e){if(nc.logLevel<=ye.WARN){const n=e.map(sc);nc.warn(`Firestore (${ec}): ${t}`,...n)}}function sc(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function lc(t="Unexpected state"){const e=`FIRESTORE (${ec}) INTERNAL ASSERTION FAILED: `+t;throw oc(e),new Error(e)}function cc(t,e){t||lc()}function uc(t,e){return t}const hc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dc extends ee{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fc{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class pc{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class mc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(tc.UNAUTHENTICATED)))}shutdown(){}}class gc{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class yc{constructor(t){this.t=t,this.currentUser=tc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new fc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new fc,t.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const e=i;t.enqueueRetryable((async()=>{await e.promise,await r(this.currentUser)}))},a=t=>{ic("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((t=>a(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?a(t):(ic("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new fc)}}),0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(ic("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(cc("string"==typeof e.accessToken),new pc(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return cc(null===t||"string"==typeof t),new tc(t)}}class vc{constructor(t,e,n,r){this.h=t,this.l=e,this.m=n,this.g=r,this.type="FirstParty",this.user=tc.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(cc(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class bc{constructor(t,e,n,r){this.h=t,this.l=e,this.m=n,this.g=r}getToken(){return Promise.resolve(new vc(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable((()=>e(tc.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wc{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xc{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const n=t=>{null!=t.error&&ic("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.A;return this.A=t.token,ic("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const r=t=>{ic("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.T.onInit((t=>r(t))),setTimeout((()=>{if(!this.appCheck){const t=this.T.getImmediate({optional:!0});t?r(t):ic("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(cc("string"==typeof t.token),this.A=t.token,new wc(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ec(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let e=0;e<t;e++)n[e]=Math.floor(256*Math.random());return n}class _c{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const r=Ec(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length))}return n}}function kc(t,e){return t<e?-1:t>e?1:0}function Sc(t,e,n){return t.length===e.length&&t.every(((t,r)=>n(t,e[r])))}class Tc{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new dc(hc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new dc(hc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new dc(hc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dc(hc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Tc.fromMillis(Date.now())}static fromDate(t){return Tc.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new Tc(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?kc(this.nanoseconds,t.nanoseconds):kc(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Cc{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Cc(t)}static min(){return new Cc(new Tc(0,0))}static max(){return new Cc(new Tc(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ic{constructor(t,e,n){void 0===e?e=0:e>t.length&&lc(),void 0===n?n=t.length-e:n>t.length-e&&lc(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Ic.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ic?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),i=e.get(r);if(n<i)return-1;if(n>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Nc extends Ic{construct(t,e,n){return new Nc(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new dc(hc.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((t=>t.length>0)))}return new Nc(e)}static emptyPath(){return new Nc([])}}const Ac=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Oc extends Ic{construct(t,e,n){return new Oc(t,e,n)}static isValidIdentifier(t){return Ac.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Oc.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Oc(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new dc(hc.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let o=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new dc(hc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new dc(hc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(o=!o,r++):"."!==e||o?(n+=e,r++):(i(),r++)}if(i(),o)throw new dc(hc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Oc(e)}static emptyPath(){return new Oc([])}}class Mc{constructor(t){this.path=t}static fromPath(t){return new Mc(Nc.fromString(t))}static fromName(t){return new Mc(Nc.fromString(t).popFirst(5))}static empty(){return new Mc(Nc.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Nc.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Nc.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Mc(new Nc(t.slice()))}}function Lc(t){return new Pc(t.readTime,t.key,-1)}class Pc{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new Pc(Cc.min(),Mc.empty(),-1)}static max(){return new Pc(Cc.max(),Mc.empty(),-1)}}function Dc(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Mc.comparator(t.documentKey,e.documentKey),0!==n?n:kc(t.largestBatchId,e.largestBatchId))}class Rc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Fc(t){if(t.code!==hc.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==t.message)throw t;ic("LocalStore","Unexpectedly lost primary lease")}class zc{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&lc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new zc(((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof zc?e:zc.resolve(e)}catch(t){return zc.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):zc.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):zc.reject(e)}static resolve(t){return new zc(((e,n)=>{e(t)}))}static reject(t){return new zc(((e,n)=>{n(t)}))}static waitFor(t){return new zc(((e,n)=>{let r=0,i=0,o=!1;t.forEach((t=>{++r,t.next((()=>{++i,o&&i===r&&e()}),(t=>n(t)))})),o=!0,i===r&&e()}))}static or(t){let e=zc.resolve(!1);for(const n of t)e=e.next((t=>t?zc.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,r)=>{n.push(e.call(this,t,r))})),this.waitFor(n)}static mapArray(t,e){return new zc(((n,r)=>{const i=t.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;e(t[l]).next((t=>{o[l]=t,++a,a===i&&n(o)}),(t=>r(t)))}}))}static doWhile(t,e){return new zc(((n,r)=>{const i=()=>{!0===t()?e().next((()=>{i()}),r):n()};i()}))}}function Vc(t){return"IndexedDbTransactionError"===t.name}class Bc{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ut(t),this.ct=t=>e.writeSequenceNumber(t))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}Bc.at=-1;class jc{constructor(t,e,n,r,i,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s}}class Uc{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Uc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Uc&&t.projectId===this.projectId&&t.database===this.database}}function Hc(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $c(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qc(t){return null==t}function Gc(t){return 0===t&&1/t==-1/0}class Kc{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Kc(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new Kc(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kc(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Kc.EMPTY_BYTE_STRING=new Kc("");const Qc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yc(t){if(cc(!!t),"string"==typeof t){let e=0;const n=Qc.exec(t);if(cc(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xc(t.seconds),nanos:Xc(t.nanos)}}function Xc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Jc(t){return"string"==typeof t?Kc.fromBase64String(t):Kc.fromUint8Array(t)}function Zc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function tu(t){const e=t.mapValue.fields.__previous_value__;return Zc(e)?tu(e):e}function eu(t){const e=Yc(t.mapValue.fields.__local_write_time__.timestampValue);return new Tc(e.seconds,e.nanos)}const nu={fields:{__type__:{stringValue:"__max__"}}};function ru(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zc(t)?4:yu(t)?9007199254740991:10:lc()}function iu(t,e){if(t===e)return!0;const n=ru(t);if(n!==ru(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eu(t).isEqual(eu(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=Yc(t.timestampValue),r=Yc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Jc(t.bytesValue).isEqual(Jc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Xc(t.geoPointValue.latitude)===Xc(e.geoPointValue.latitude)&&Xc(t.geoPointValue.longitude)===Xc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Xc(t.integerValue)===Xc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=Xc(t.doubleValue),r=Xc(e.doubleValue);return n===r?Gc(n)===Gc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Sc(t.arrayValue.values||[],e.arrayValue.values||[],iu);case 10:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Hc(n)!==Hc(r))return!1;for(const t in n)if(n.hasOwnProperty(t)&&(void 0===r[t]||!iu(n[t],r[t])))return!1;return!0}(t,e);default:return lc()}}function ou(t,e){return void 0!==(t.values||[]).find((t=>iu(t,e)))}function au(t,e){if(t===e)return 0;const n=ru(t),r=ru(e);if(n!==r)return kc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return kc(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=Xc(t.integerValue||t.doubleValue),r=Xc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return su(t.timestampValue,e.timestampValue);case 4:return su(eu(t),eu(e));case 5:return kc(t.stringValue,e.stringValue);case 6:return function(t,e){const n=Jc(t),r=Jc(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let t=0;t<n.length&&t<r.length;t++){const e=kc(n[t],r[t]);if(0!==e)return e}return kc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=kc(Xc(t.latitude),Xc(e.latitude));return 0!==n?n:kc(Xc(t.longitude),Xc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],r=e.values||[];for(let t=0;t<n.length&&t<r.length;++t){const e=au(n[t],r[t]);if(e)return e}return kc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===nu&&e===nu)return 0;if(t===nu)return 1;if(e===nu)return-1;const n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let t=0;t<r.length&&t<o.length;++t){const e=kc(r[t],o[t]);if(0!==e)return e;const a=au(n[r[t]],i[o[t]]);if(0!==a)return a}return kc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw lc()}}function su(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return kc(t,e);const n=Yc(t),r=Yc(e),i=kc(n.seconds,r.seconds);return 0!==i?i:kc(n.nanos,r.nanos)}function lu(t){return cu(t)}function cu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=Yc(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Jc(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Mc.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=cu(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+=`${i}:${cu(t.fields[i])}`;return n+"}"}(t.mapValue):lc();var e,n}function uu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hu(t){return!!t&&"integerValue"in t}function du(t){return!!t&&"arrayValue"in t}function fu(t){return!!t&&"nullValue"in t}function pu(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mu(t){return!!t&&"mapValue"in t}function gu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wc(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=gu(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function yu(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class vu{constructor(t,e){this.position=t,this.inclusive=e}}function bu(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(r=o.field.isKeyField()?Mc.comparator(Mc.fromName(a.referenceValue),n.key):au(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function wu(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!iu(t.position[n],e.position[n]))return!1;return!0}class xu{}class Eu extends xu{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new Nu(t,e,n):"array-contains"===e?new Lu(t,n):"in"===e?new Pu(t,n):"not-in"===e?new Du(t,n):"array-contains-any"===e?new Ru(t,n):new Eu(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new Au(t,n):new Ou(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(au(e,this.value)):null!==e&&ru(this.value)===ru(e)&&this.matchesComparison(au(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return lc()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _u extends xu{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new _u(t,e)}matches(t){return ku(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt((t=>t.isInequality()));return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function ku(t){return"and"===t.op}function Su(t){return function(t){for(const e of t.filters)if(e instanceof _u)return!1;return!0}(t)&&ku(t)}function Tu(t){if(t instanceof Eu)return t.field.canonicalString()+t.op.toString()+lu(t.value);if(Su(t))return t.filters.map((t=>Tu(t))).join(",");{const e=t.filters.map((t=>Tu(t))).join(",");return`${t.op}(${e})`}}function Cu(t,e){return t instanceof Eu?function(t,e){return e instanceof Eu&&t.op===e.op&&t.field.isEqual(e.field)&&iu(t.value,e.value)}(t,e):t instanceof _u?function(t,e){return e instanceof _u&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,n,r)=>t&&Cu(n,e.filters[r])),!0)}(t,e):void lc()}function Iu(t){return t instanceof Eu?function(t){return`${t.field.canonicalString()} ${t.op} ${lu(t.value)}`}(t):t instanceof _u?function(t){return t.op.toString()+" {"+t.getFilters().map(Iu).join(" ,")+"}"}(t):"Filter"}class Nu extends Eu{constructor(t,e,n){super(t,e,n),this.key=Mc.fromName(n.referenceValue)}matches(t){const e=Mc.comparator(t.key,this.key);return this.matchesComparison(e)}}class Au extends Eu{constructor(t,e){super(t,"in",e),this.keys=Mu(0,e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class Ou extends Eu{constructor(t,e){super(t,"not-in",e),this.keys=Mu(0,e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Mu(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>Mc.fromName(t.referenceValue)))}class Lu extends Eu{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return du(e)&&ou(e.arrayValue,this.value)}}class Pu extends Eu{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&ou(this.value.arrayValue,e)}}class Du extends Eu{constructor(t,e){super(t,"not-in",e)}matches(t){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!ou(this.value.arrayValue,e)}}class Ru extends Eu{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!du(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>ou(this.value.arrayValue,t)))}}class Fu{constructor(t,e="asc"){this.field=t,this.dir=e}}function zu(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Vu{constructor(t,e){this.comparator=t,this.root=e||ju.EMPTY}insert(t,e){return new Vu(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ju.BLACK,null,null))}remove(t){return new Vu(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ju.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Bu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Bu(this.root,t,this.comparator,!0)}}class Bu{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ju{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:ju.RED,this.left=null!=r?r:ju.EMPTY,this.right=null!=i?i:ju.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new ju(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ju.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return ju.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ju.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ju.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw lc();if(this.right.isRed())throw lc();const t=this.left.check();if(t!==this.right.check())throw lc();return t+(this.isRed()?0:1)}}ju.EMPTY=null,ju.RED=!0,ju.BLACK=!1,ju.EMPTY=new class{constructor(){this.size=0}get key(){throw lc()}get value(){throw lc()}get color(){throw lc()}get left(){throw lc()}get right(){throw lc()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ju(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Uu{constructor(t){this.comparator=t,this.data=new Vu(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Hu(this.data.getIterator())}getIteratorFrom(t){return new Hu(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof Uu))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Uu(this.comparator);return e.data=t,e}}class Hu{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Wu{constructor(t){this.fields=t,t.sort(Oc.comparator)}static empty(){return new Wu([])}unionWith(t){let e=new Uu(Oc.comparator);for(const t of this.fields)e=e.add(t);for(const n of t)e=e.add(n);return new Wu(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Sc(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class $u{constructor(t){this.value=t}static empty(){return new $u({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!mu(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=gu(e)}setAll(t){let e=Oc.emptyPath(),n={},r=[];t.forEach(((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=gu(t):r.push(i.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());mu(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return iu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];mu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){Wc(e,((e,n)=>t[e]=n));for(const e of n)delete t[e]}clone(){return new $u(gu(this.value))}}function qu(t){const e=[];return Wc(t.fields,((t,n)=>{const r=new Oc([t]);if(mu(n)){const t=qu(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)})),new Wu(e)}class Gu{constructor(t,e,n,r,i,o,a){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Gu(t,0,Cc.min(),Cc.min(),Cc.min(),$u.empty(),0)}static newFoundDocument(t,e,n,r){return new Gu(t,1,e,Cc.min(),n,r,0)}static newNoDocument(t,e){return new Gu(t,2,e,Cc.min(),Cc.min(),$u.empty(),0)}static newUnknownDocument(t,e){return new Gu(t,3,e,Cc.min(),Cc.min(),$u.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Cc.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$u.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$u.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Cc.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Gu&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Gu(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ku{constructor(t,e=null,n=[],r=[],i=null,o=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ft=null}}function Qu(t,e=null,n=[],r=[],i=null,o=null,a=null){return new Ku(t,e,n,r,i,o,a)}function Yu(t){const e=uc(t);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>Tu(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),qc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>lu(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>lu(t))).join(",")),e.ft=t}return e.ft}function Xu(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zu(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Cu(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wu(t.startAt,e.startAt)&&wu(t.endAt,e.endAt)}function Ju(t){return Mc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Zu{constructor(t,e=null,n=[],r=[],i=null,o="F",a=null,s=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.dt=null,this._t=null,this.startAt,this.endAt}}function th(t){return new Zu(t)}function eh(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function nh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function rh(t){for(const e of t.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function ih(t){return null!==t.collectionGroup}function oh(t){const e=uc(t);if(null===e.dt){e.dt=[];const t=rh(e),n=nh(e);if(null!==t&&null===n)t.isKeyField()||e.dt.push(new Fu(t)),e.dt.push(new Fu(Oc.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.dt.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Fu(Oc.keyField(),t))}}}return e.dt}function ah(t){const e=uc(t);if(!e._t)if("F"===e.limitType)e._t=Qu(e.path,e.collectionGroup,oh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const n of oh(e)){const e="desc"===n.dir?"asc":"desc";t.push(new Fu(n.field,e))}const n=e.endAt?new vu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new vu(e.startAt.position,e.startAt.inclusive):null;e._t=Qu(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}return e._t}function sh(t,e){e.getFirstInequalityField(),rh(t);const n=t.filters.concat([e]);return new Zu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function lh(t,e,n){return new Zu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ch(t,e){return Xu(ah(t),ah(e))&&t.limitType===e.limitType}function uh(t){return`${Yu(ah(t))}|lt:${t.limitType}`}function hh(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>Iu(t))).join(", ")}]`),qc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>lu(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>lu(t))).join(",")),`Target(${e})`}(ah(t))}; limitType=${t.limitType})`}function dh(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Mc.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of oh(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const r=bu(t,e,n);return t.inclusive?r<=0:r<0}(t.startAt,oh(t),e)||t.endAt&&!function(t,e,n){const r=bu(t,e,n);return t.inclusive?r>=0:r>0}(t.endAt,oh(t),e))}(t,e)}function fh(t){return(e,n)=>{let r=!1;for(const i of oh(t)){const t=ph(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function ph(t,e,n){const r=t.field.isKeyField()?Mc.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?au(r,i):lc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return lc()}}function mh(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function gh(t){return{integerValue:""+t}}function yh(t,e){return function(t){return"number"==typeof t&&Number.isInteger(t)&&!Gc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?gh(e):mh(t,e)}class vh{constructor(){this._=void 0}}function bh(t,e,n){return t instanceof Eh?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof _h?kh(t,e):t instanceof Sh?Th(t,e):function(t,e){const n=xh(t,e),r=Ih(n)+Ih(t.gt);return hu(n)&&hu(t.gt)?gh(r):mh(t.yt,r)}(t,e)}function wh(t,e,n){return t instanceof _h?kh(t,e):t instanceof Sh?Th(t,e):n}function xh(t,e){return t instanceof Ch?hu(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}class Eh extends vh{}class _h extends vh{constructor(t){super(),this.elements=t}}function kh(t,e){const n=Nh(e);for(const e of t.elements)n.some((t=>iu(t,e)))||n.push(e);return{arrayValue:{values:n}}}class Sh extends vh{constructor(t){super(),this.elements=t}}function Th(t,e){let n=Nh(e);for(const e of t.elements)n=n.filter((t=>!iu(t,e)));return{arrayValue:{values:n}}}class Ch extends vh{constructor(t,e){super(),this.yt=t,this.gt=e}}function Ih(t){return Xc(t.integerValue||t.doubleValue)}function Nh(t){return du(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Ah{constructor(t,e){this.version=t,this.transformResults=e}}class Oh{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Oh}static exists(t){return new Oh(void 0,t)}static updateTime(t){return new Oh(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mh(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Lh{}function Ph(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Wh(t.key,Oh.none()):new Vh(t.key,t.data,Oh.none());{const n=t.data,r=$u.empty();let i=new Uu(Oc.comparator);for(let t of e.fields)if(!i.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?r.delete(t):r.set(t,e),i=i.add(t)}return new Bh(t.key,r,new Wu(i.toArray()),Oh.none())}}function Dh(t,e,n){t instanceof Vh?function(t,e,n){const r=t.value.clone(),i=Uh(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Bh?function(t,e,n){if(!Mh(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=Uh(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(jh(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Rh(t,e,n,r){return t instanceof Vh?function(t,e,n,r){if(!Mh(t.precondition,e))return n;const i=t.value.clone(),o=Hh(t.fieldTransforms,r,e);return i.setAll(o),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bh?function(t,e,n,r){if(!Mh(t.precondition,e))return n;const i=Hh(t.fieldTransforms,r,e),o=e.data;return o.setAll(jh(t)),o.setAll(i),e.convertToFoundDocument(e.version,o).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,r):function(t,e,n){return Mh(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function Fh(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=xh(r.transform,t||null);null!=i&&(null===n&&(n=$u.empty()),n.set(r.field,i))}return n||null}function zh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Sc(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof _h&&e instanceof _h||t instanceof Sh&&e instanceof Sh?Sc(t.elements,e.elements,iu):t instanceof Ch&&e instanceof Ch?iu(t.gt,e.gt):t instanceof Eh&&e instanceof Eh}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vh extends Lh{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Bh extends Lh{constructor(t,e,n,r,i=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function jh(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Uh(t,e,n){const r=new Map;cc(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,wh(a,s,n[i]))}return r}function Hh(t,e,n){const r=new Map;for(const i of t){const t=i.transform,o=n.data.field(i.field);r.set(i.field,bh(t,o,e))}return r}class Wh extends Lh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $h extends Lh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qh{constructor(t){this.count=t}}var Gh,Kh;function Qh(t){if(void 0===t)return oc("GRPC error has no .code"),hc.UNKNOWN;switch(t){case Gh.OK:return hc.OK;case Gh.CANCELLED:return hc.CANCELLED;case Gh.UNKNOWN:return hc.UNKNOWN;case Gh.DEADLINE_EXCEEDED:return hc.DEADLINE_EXCEEDED;case Gh.RESOURCE_EXHAUSTED:return hc.RESOURCE_EXHAUSTED;case Gh.INTERNAL:return hc.INTERNAL;case Gh.UNAVAILABLE:return hc.UNAVAILABLE;case Gh.UNAUTHENTICATED:return hc.UNAUTHENTICATED;case Gh.INVALID_ARGUMENT:return hc.INVALID_ARGUMENT;case Gh.NOT_FOUND:return hc.NOT_FOUND;case Gh.ALREADY_EXISTS:return hc.ALREADY_EXISTS;case Gh.PERMISSION_DENIED:return hc.PERMISSION_DENIED;case Gh.FAILED_PRECONDITION:return hc.FAILED_PRECONDITION;case Gh.ABORTED:return hc.ABORTED;case Gh.OUT_OF_RANGE:return hc.OUT_OF_RANGE;case Gh.UNIMPLEMENTED:return hc.UNIMPLEMENTED;case Gh.DATA_LOSS:return hc.DATA_LOSS;default:return lc()}}(Kh=Gh||(Gh={}))[Kh.OK=0]="OK",Kh[Kh.CANCELLED=1]="CANCELLED",Kh[Kh.UNKNOWN=2]="UNKNOWN",Kh[Kh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kh[Kh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kh[Kh.NOT_FOUND=5]="NOT_FOUND",Kh[Kh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kh[Kh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kh[Kh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kh[Kh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kh[Kh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kh[Kh.ABORTED=10]="ABORTED",Kh[Kh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kh[Kh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kh[Kh.INTERNAL=13]="INTERNAL",Kh[Kh.UNAVAILABLE=14]="UNAVAILABLE",Kh[Kh.DATA_LOSS=15]="DATA_LOSS";class Yh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[e,r]of n)if(this.equalsFn(e,t))return r}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],t))return void(r[n]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Wc(this.inner,((e,n)=>{for(const[e,r]of n)t(e,r)}))}isEmpty(){return $c(this.inner)}size(){return this.innerSize}}const Xh=new Vu(Mc.comparator);function Jh(){return Xh}const Zh=new Vu(Mc.comparator);function td(...t){let e=Zh;for(const n of t)e=e.insert(n.key,n);return e}function ed(t){let e=Zh;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function nd(){return id()}function rd(){return id()}function id(){return new Yh((t=>t.toString()),((t,e)=>t.isEqual(e)))}const od=new Vu(Mc.comparator),ad=new Uu(Mc.comparator);function sd(...t){let e=ad;for(const n of t)e=e.add(n);return e}const ld=new Uu(kc);function cd(){return ld}class ud{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const r=new Map;return r.set(t,hd.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new ud(Cc.min(),r,cd(),Jh(),sd())}}class hd{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new hd(n,e,sd(),sd(),sd())}}class dd{constructor(t,e,n,r){this.It=t,this.removedTargetIds=e,this.key=n,this.Tt=r}}class fd{constructor(t,e){this.targetId=t,this.Et=e}}class pd{constructor(t,e,n=Kc.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class md{constructor(){this.At=0,this.Rt=vd(),this.bt=Kc.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(t){t.approximateByteSize()>0&&(this.vt=!0,this.bt=t)}Ct(){let t=sd(),e=sd(),n=sd();return this.Rt.forEach(((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:lc()}})),new hd(this.bt,this.Pt,t,e,n)}xt(){this.vt=!1,this.Rt=vd()}Nt(t,e){this.vt=!0,this.Rt=this.Rt.insert(t,e)}kt(t){this.vt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class gd{constructor(t){this.$t=t,this.Bt=new Map,this.Lt=Jh(),this.qt=yd(),this.Ut=new Uu(kc)}Kt(t){for(const e of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(e,t.Tt):this.Qt(e,t.key,t.Tt);for(const e of t.removedTargetIds)this.Qt(e,t.key,t.Tt)}jt(t){this.forEachTarget(t,(e=>{const n=this.Wt(e);switch(t.state){case 0:this.zt(e)&&n.Dt(t.resumeToken);break;case 1:n.Mt(),n.Vt||n.xt(),n.Dt(t.resumeToken);break;case 2:n.Mt(),n.Vt||this.removeTarget(e);break;case 3:this.zt(e)&&(n.Ft(),n.Dt(t.resumeToken));break;case 4:this.zt(e)&&(this.Ht(e),n.Dt(t.resumeToken));break;default:lc()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Bt.forEach(((t,n)=>{this.zt(n)&&e(n)}))}Jt(t){const e=t.targetId,n=t.Et.count,r=this.Yt(e);if(r){const t=r.target;if(Ju(t))if(0===n){const n=new Mc(t.path);this.Qt(e,n,Gu.newNoDocument(n,Cc.min()))}else cc(1===n);else this.Xt(e)!==n&&(this.Ht(e),this.Ut=this.Ut.add(e))}}Zt(t){const e=new Map;this.Bt.forEach(((n,r)=>{const i=this.Yt(r);if(i){if(n.current&&Ju(i.target)){const e=new Mc(i.target.path);null!==this.Lt.get(e)||this.te(r,e)||this.Qt(r,e,Gu.newNoDocument(e,t))}n.St&&(e.set(r,n.Ct()),n.xt())}}));let n=sd();this.qt.forEach(((t,e)=>{let r=!0;e.forEachWhile((t=>{const e=this.Yt(t);return!e||2===e.purpose||(r=!1,!1)})),r&&(n=n.add(t))})),this.Lt.forEach(((e,n)=>n.setReadTime(t)));const r=new ud(t,e,this.Ut,this.Lt,n);return this.Lt=Jh(),this.qt=yd(),this.Ut=new Uu(kc),r}Gt(t,e){if(!this.zt(t))return;const n=this.te(t,e.key)?2:0;this.Wt(t).Nt(e.key,n),this.Lt=this.Lt.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ee(e.key).add(t))}Qt(t,e,n){if(!this.zt(t))return;const r=this.Wt(t);this.te(t,e)?r.Nt(e,1):r.kt(e),this.qt=this.qt.insert(e,this.ee(e).delete(t)),n&&(this.Lt=this.Lt.insert(e,n))}removeTarget(t){this.Bt.delete(t)}Xt(t){const e=this.Wt(t).Ct();return this.$t.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.Wt(t).Ot()}Wt(t){let e=this.Bt.get(t);return e||(e=new md,this.Bt.set(t,e)),e}ee(t){let e=this.qt.get(t);return e||(e=new Uu(kc),this.qt=this.qt.insert(t,e)),e}zt(t){const e=null!==this.Yt(t);return e||ic("WatchChangeAggregator","Detected inactive target",t),e}Yt(t){const e=this.Bt.get(t);return e&&e.Vt?null:this.$t.ne(t)}Ht(t){this.Bt.set(t,new md),this.$t.getRemoteKeysForTarget(t).forEach((e=>{this.Qt(t,e,null)}))}te(t,e){return this.$t.getRemoteKeysForTarget(t).has(e)}}function yd(){return new Vu(Mc.comparator)}function vd(){return new Vu(Mc.comparator)}const bd={asc:"ASCENDING",desc:"DESCENDING"},wd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xd={and:"AND",or:"OR"};class Ed{constructor(t,e){this.databaseId=t,this.wt=e}}function _d(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kd(t,e){return t.wt?e.toBase64():e.toUint8Array()}function Sd(t,e){return _d(t,e.toTimestamp())}function Td(t){return cc(!!t),Cc.fromTimestamp(function(t){const e=Yc(t);return new Tc(e.seconds,e.nanos)}(t))}function Cd(t,e){return function(t){return new Nc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Id(t){const e=Nc.fromString(t);return cc(qd(e)),e}function Nd(t,e){return Cd(t.databaseId,e.path)}function Ad(t,e){const n=Id(e);if(n.get(1)!==t.databaseId.projectId)throw new dc(hc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new dc(hc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Mc(Ld(n))}function Od(t,e){return Cd(t.databaseId,e)}function Md(t){return new Nc(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ld(t){return cc(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Pd(t,e,n){return{name:Nd(t,e),fields:n.value.mapValue.fields}}function Dd(t,e){return{documents:[Od(t,e.path)]}}function Rd(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Od(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Od(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(t){if(0!==t.length)return Wd(_u.create(t,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:Ud(t.field),direction:Vd(t.dir)}}(t)))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=function(t,e){return t.wt||qc(e)?e:{value:e}}(t,e.limit);var s;return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(s=e.startAt).inclusive,values:s.position}),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),n}function Fd(t){let e=function(t){const e=Id(t);return 4===e.length?Nc.emptyPath():Ld(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){cc(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let o=[];n.where&&(o=function(t){const e=zd(t);return e instanceof _u&&Su(e)?e.getFilters():[e]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((t=>function(t){return new Fu(Hd(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t))));let s=null;n.limit&&(s=function(t){let e;return e="object"==typeof t?t.value:t,qc(e)?null:e}(n.limit));let l=null;n.startAt&&(l=function(t){const e=!!t.before,n=t.values||[];return new vu(n,e)}(n.startAt));let c=null;return n.endAt&&(c=function(t){const e=!t.before,n=t.values||[];return new vu(n,e)}(n.endAt)),function(t,e,n,r,i,o,a,s){return new Zu(t,e,n,r,i,o,a,s)}(e,i,a,o,s,"F",l,c)}function zd(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Hd(t.unaryFilter.field);return Eu.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Hd(t.unaryFilter.field);return Eu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Hd(t.unaryFilter.field);return Eu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Hd(t.unaryFilter.field);return Eu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return lc()}}(t):void 0!==t.fieldFilter?function(t){return Eu.create(Hd(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lc()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return _u.create(t.compositeFilter.filters.map((t=>zd(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return lc()}}(t.compositeFilter.op))}(t):lc()}function Vd(t){return bd[t]}function Bd(t){return wd[t]}function jd(t){return xd[t]}function Ud(t){return{fieldPath:t.canonicalString()}}function Hd(t){return Oc.fromServerFormat(t.fieldPath)}function Wd(t){return t instanceof Eu?function(t){if("=="===t.op){if(pu(t.value))return{unaryFilter:{field:Ud(t.field),op:"IS_NAN"}};if(fu(t.value))return{unaryFilter:{field:Ud(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(pu(t.value))return{unaryFilter:{field:Ud(t.field),op:"IS_NOT_NAN"}};if(fu(t.value))return{unaryFilter:{field:Ud(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ud(t.field),op:Bd(t.op),value:t.value}}}(t):t instanceof _u?function(t){const e=t.getFilters().map((t=>Wd(t)));return 1===e.length?e[0]:{compositeFilter:{op:jd(t.op),filters:e}}}(t):lc()}function $d(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function qd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Gd{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let e=0;e<this.mutations.length;e++){const r=this.mutations[e];r.key.isEqual(t.key)&&Dh(r,t,n[e])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Rh(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Rh(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=rd();return this.mutations.forEach((r=>{const i=t.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=e.has(r.key)?null:a;const s=Ph(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(Cc.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),sd())}isEqual(t){return this.batchId===t.batchId&&Sc(this.mutations,t.mutations,((t,e)=>zh(t,e)))&&Sc(this.baseMutations,t.baseMutations,((t,e)=>zh(t,e)))}}class Kd{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){cc(t.mutations.length===n.length);let r=od;const i=t.mutations;for(let t=0;t<i.length;t++)r=r.insert(i[t].key,n[t].version);return new Kd(t,e,n,r)}}class Qd{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yd{constructor(t,e,n,r,i=Cc.min(),o=Cc.min(),a=Kc.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(t){return new Yd(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Yd(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Yd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class Xd{constructor(t){this.ie=t}}function Jd(t){const e=Fd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?lh(e,e.limit,"L"):e}class Zd{constructor(){}ue(t,e){this.ce(t,e),e.ae()}ce(t,e){if("nullValue"in t)this.he(e,5);else if("booleanValue"in t)this.he(e,10),e.le(t.booleanValue?1:0);else if("integerValue"in t)this.he(e,15),e.le(Xc(t.integerValue));else if("doubleValue"in t){const n=Xc(t.doubleValue);isNaN(n)?this.he(e,13):(this.he(e,15),Gc(n)?e.le(0):e.le(n))}else if("timestampValue"in t){const n=t.timestampValue;this.he(e,20),"string"==typeof n?e.fe(n):(e.fe(`${n.seconds||""}`),e.le(n.nanos||0))}else if("stringValue"in t)this.de(t.stringValue,e),this._e(e);else if("bytesValue"in t)this.he(e,30),e.we(Jc(t.bytesValue)),this._e(e);else if("referenceValue"in t)this.me(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.he(e,45),e.le(n.latitude||0),e.le(n.longitude||0)}else"mapValue"in t?yu(t)?this.he(e,Number.MAX_SAFE_INTEGER):(this.ge(t.mapValue,e),this._e(e)):"arrayValue"in t?(this.ye(t.arrayValue,e),this._e(e)):lc()}de(t,e){this.he(e,25),this.pe(t,e)}pe(t,e){e.fe(t)}ge(t,e){const n=t.fields||{};this.he(e,55);for(const t of Object.keys(n))this.de(t,e),this.ce(n[t],e)}ye(t,e){const n=t.values||[];this.he(e,50);for(const t of n)this.ce(t,e)}me(t,e){this.he(e,37),Mc.fromName(t).path.forEach((t=>{this.he(e,60),this.pe(t,e)}))}he(t,e){t.le(e)}_e(t){t.le(2)}}Zd.Ie=new Zd;class tf{constructor(){this.Je=new ef}addToCollectionParentIndex(t,e){return this.Je.add(e),zc.resolve()}getCollectionParents(t,e){return zc.resolve(this.Je.getEntries(e))}addFieldIndex(t,e){return zc.resolve()}deleteFieldIndex(t,e){return zc.resolve()}getDocumentsMatchingTarget(t,e){return zc.resolve(null)}getIndexType(t,e){return zc.resolve(0)}getFieldIndexes(t,e){return zc.resolve([])}getNextCollectionGroupToUpdate(t){return zc.resolve(null)}getMinOffset(t,e){return zc.resolve(Pc.min())}getMinOffsetFromCollectionGroup(t,e){return zc.resolve(Pc.min())}updateCollectionGroup(t,e,n){return zc.resolve()}updateIndexEntries(t,e){return zc.resolve()}}class ef{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Uu(Nc.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new Uu(Nc.comparator)).toArray()}}new Uint8Array(0);class nf{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new nf(t,nf.DEFAULT_COLLECTION_PERCENTILE,nf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}nf.DEFAULT_COLLECTION_PERCENTILE=10,nf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nf.DEFAULT=new nf(41943040,nf.DEFAULT_COLLECTION_PERCENTILE,nf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nf.DISABLED=new nf(-1,0,0);class rf{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new rf(0)}static vn(){return new rf(-1)}}class of{constructor(){this.changes=new Yh((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Gu.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?zc.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class af{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class sf{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(n=r,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==n&&Rh(n.mutation,t,Wu.empty(),Tc.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,sd()).next((()=>e))))}getLocalViewOfDocuments(t,e,n=sd()){const r=nd();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,n).next((t=>{let e=td();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=nd();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,sd())))}populateOverlays(t,e,n){const r=[];return n.forEach((t=>{e.has(t)||r.push(t)})),this.documentOverlayCache.getOverlays(t,r).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,r){let i=Jh();const o=id(),a=id();return e.forEach(((t,e)=>{const a=n.get(e.key);r.has(e.key)&&(void 0===a||a.mutation instanceof Bh)?i=i.insert(e.key,e):void 0!==a?(o.set(e.key,a.mutation.getFieldMask()),Rh(a.mutation,e,a.mutation.getFieldMask(),Tc.now())):o.set(e.key,Wu.empty())})),this.recalculateAndSaveOverlays(t,i).next((t=>(t.forEach(((t,e)=>o.set(t,e))),e.forEach(((t,e)=>{var n;return a.set(t,new af(e,null!==(n=o.get(t))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(t,e){const n=id();let r=new Vu(((t,e)=>t-e)),i=sd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const i of t)i.keys().forEach((t=>{const o=e.get(t);if(null===o)return;let a=n.get(t)||Wu.empty();a=i.applyToLocalView(o,a),n.set(t,a);const s=(r.get(i.batchId)||sd()).add(t);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=rd();l.forEach((t=>{if(!i.has(t)){const r=Ph(e.get(t),n.get(t));null!==r&&c.set(t,r),i=i.add(t)}})),o.push(this.documentOverlayCache.saveOverlays(t,s,c))}return zc.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n){return function(t){return Mc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):ih(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n)}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-i.size):zc.resolve(nd());let a=-1,s=i;return o.next((e=>zc.forEach(e,((e,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(e)?zc.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{s=s.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,i))).next((()=>this.computeViews(t,s,e,sd()))).next((t=>({batchId:a,changes:ed(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Mc(e)).next((t=>{let e=td();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n){const r=e.collectionGroup;let i=td();return this.indexManager.getCollectionParents(t,r).next((o=>zc.forEach(o,(o=>{const a=function(t,e){return new Zu(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(r));return this.getDocumentsMatchingCollectionQuery(t,a,n).next((t=>{t.forEach(((t,e)=>{i=i.insert(t,e)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(t,e,n){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,r)))).next((t=>{r.forEach(((e,n)=>{const r=n.getKey();null===t.get(r)&&(t=t.insert(r,Gu.newInvalidDocument(r)))}));let n=td();return t.forEach(((t,i)=>{const o=r.get(t);void 0!==o&&Rh(o.mutation,i,Wu.empty(),Tc.now()),dh(e,i)&&(n=n.insert(t,i))})),n}))}}class lf{constructor(t){this.yt=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return zc.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var n;return this.Zn.set(e.id,{id:(n=e).id,version:n.version,createTime:Td(n.createTime)}),zc.resolve()}getNamedQuery(t,e){return zc.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,function(t){return{name:t.name,query:Jd(t.bundledQuery),readTime:Td(t.readTime)}}(e)),zc.resolve()}}class cf{constructor(){this.overlays=new Vu(Mc.comparator),this.es=new Map}getOverlay(t,e){return zc.resolve(this.overlays.get(e))}getOverlays(t,e){const n=nd();return zc.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,r)=>{this.oe(t,e,r)})),zc.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.es.get(n);return void 0!==r&&(r.forEach((t=>this.overlays=this.overlays.remove(t))),this.es.delete(n)),zc.resolve()}getOverlaysForCollection(t,e,n){const r=nd(),i=e.length+1,o=new Mc(e.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const t=a.getNext().value,o=t.getKey();if(!e.isPrefixOf(o.path))break;o.path.length===i&&t.largestBatchId>n&&r.set(t.getKey(),t)}return zc.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let i=new Vu(((t,e)=>t-e));const o=this.overlays.getIterator();for(;o.hasNext();){const t=o.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=i.get(t.largestBatchId);null===e&&(e=nd(),i=i.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const a=nd(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((t,e)=>a.set(t,e))),!(a.size()>=r)););return zc.resolve(a)}oe(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const t=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new Qd(e,n));let i=this.es.get(e);void 0===i&&(i=sd(),this.es.set(e,i)),this.es.set(e,i.add(n.key))}}class uf{constructor(){this.ns=new Uu(hf.ss),this.rs=new Uu(hf.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const n=new hf(t,e);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}us(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.cs(new hf(t,e))}hs(t,e){t.forEach((t=>this.removeReference(t,e)))}ls(t){const e=new Mc(new Nc([])),n=new hf(e,t),r=new hf(e,t+1),i=[];return this.rs.forEachInRange([n,r],(t=>{this.cs(t),i.push(t.key)})),i}fs(){this.ns.forEach((t=>this.cs(t)))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new Mc(new Nc([])),n=new hf(e,t),r=new hf(e,t+1);let i=sd();return this.rs.forEachInRange([n,r],(t=>{i=i.add(t.key)})),i}containsKey(t){const e=new hf(t,0),n=this.ns.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class hf{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return Mc.comparator(t.key,e.key)||kc(t._s,e._s)}static os(t,e){return kc(t._s,e._s)||Mc.comparator(t.key,e.key)}}class df{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new Uu(hf.ss)}checkEmpty(t){return zc.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Gd(i,e,n,r);this.mutationQueue.push(o);for(const e of r)this.gs=this.gs.add(new hf(e.key,i)),this.indexManager.addToCollectionParentIndex(t,e.key.path.popLast());return zc.resolve(o)}lookupMutationBatch(t,e){return zc.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this.ps(n),i=r<0?0:r;return zc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return zc.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return zc.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new hf(e,0),r=new hf(e,Number.POSITIVE_INFINITY),i=[];return this.gs.forEachInRange([n,r],(t=>{const e=this.ys(t._s);i.push(e)})),zc.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Uu(kc);return e.forEach((t=>{const e=new hf(t,0),r=new hf(t,Number.POSITIVE_INFINITY);this.gs.forEachInRange([e,r],(t=>{n=n.add(t._s)}))})),zc.resolve(this.Is(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;Mc.isDocumentKey(i)||(i=i.child(""));const o=new hf(new Mc(i),0);let a=new Uu(kc);return this.gs.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t._s)),!0)}),o),zc.resolve(this.Is(a))}Is(t){const e=[];return t.forEach((t=>{const n=this.ys(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){cc(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let n=this.gs;return zc.forEach(e.mutations,(r=>{const i=new hf(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.gs=n}))}An(t){}containsKey(t,e){const n=new hf(e,0),r=this.gs.firstAfterOrEqual(n);return zc.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,zc.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class ff{constructor(t){this.Es=t,this.docs=new Vu(Mc.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),i=r?r.size:0,o=this.Es(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return zc.resolve(n?n.document.mutableCopy():Gu.newInvalidDocument(e))}getEntries(t,e){let n=Jh();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():Gu.newInvalidDocument(t))})),zc.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let i=Jh();const o=e.path,a=new Mc(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:t,value:{document:a}}=s.getNext();if(!o.isPrefixOf(t.path))break;t.path.length>o.length+1||Dc(Lc(a),n)<=0||(r.has(a.key)||dh(e,a))&&(i=i.insert(a.key,a.mutableCopy()))}return zc.resolve(i)}getAllFromCollectionGroup(t,e,n,r){lc()}As(t,e){return zc.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new pf(this)}getSize(t){return zc.resolve(this.size)}}class pf extends of{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(n)})),zc.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class mf{constructor(t){this.persistence=t,this.Rs=new Yh((t=>Yu(t)),Xu),this.lastRemoteSnapshotVersion=Cc.min(),this.highestTargetId=0,this.bs=0,this.Ps=new uf,this.targetCount=0,this.vs=rf.Pn()}forEachTarget(t,e){return this.Rs.forEach(((t,n)=>e(n))),zc.resolve()}getLastRemoteSnapshotVersion(t){return zc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return zc.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),zc.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.bs&&(this.bs=e),zc.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new rf(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,zc.resolve()}updateTargetData(t,e){return this.Dn(e),zc.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,zc.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.Rs.forEach(((o,a)=>{a.sequenceNumber<=e&&null===n.get(a.targetId)&&(this.Rs.delete(o),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)})),zc.waitFor(i).next((()=>r))}getTargetCount(t){return zc.resolve(this.targetCount)}getTargetData(t,e){const n=this.Rs.get(e)||null;return zc.resolve(n)}addMatchingKeys(t,e,n){return this.Ps.us(e,n),zc.resolve()}removeMatchingKeys(t,e,n){this.Ps.hs(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((e=>{i.push(r.markPotentiallyOrphaned(t,e))})),zc.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),zc.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Ps.ds(e);return zc.resolve(n)}containsKey(t,e){return zc.resolve(this.Ps.containsKey(e))}}class gf{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new Bc(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new mf(this),this.indexManager=new tf,this.remoteDocumentCache=function(t){return new ff(t)}((t=>this.referenceDelegate.xs(t))),this.yt=new Xd(e),this.Ns=new lf(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new cf,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Vs[t.toKey()];return n||(n=new df(e,this.referenceDelegate),this.Vs[t.toKey()]=n),n}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,n){ic("MemoryPersistence","Starting transaction:",t);const r=new yf(this.Ss.next());return this.referenceDelegate.ks(),n(r).next((t=>this.referenceDelegate.Os(r).next((()=>t)))).toPromise().then((t=>(r.raiseOnCommittedEvent(),t)))}Ms(t,e){return zc.or(Object.values(this.Vs).map((n=>()=>n.containsKey(t,e))))}}class yf extends Rc{constructor(t){super(),this.currentSequenceNumber=t}}class vf{constructor(t){this.persistence=t,this.Fs=new uf,this.$s=null}static Bs(t){return new vf(t)}get Ls(){if(this.$s)return this.$s;throw lc()}addReference(t,e,n){return this.Fs.addReference(n,e),this.Ls.delete(n.toString()),zc.resolve()}removeReference(t,e,n){return this.Fs.removeReference(n,e),this.Ls.add(n.toString()),zc.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),zc.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach((t=>this.Ls.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.Ls.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zc.forEach(this.Ls,(n=>{const r=Mc.fromPath(n);return this.qs(t,r).next((t=>{t||e.removeEntry(r,Cc.min())}))})).next((()=>(this.$s=null,e.apply(t))))}updateLimboDocument(t,e){return this.qs(t,e).next((t=>{t?this.Ls.delete(e.toString()):this.Ls.add(e.toString())}))}xs(t){return 0}qs(t,e){return zc.or([()=>zc.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}class bf{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.Si=n,this.Di=r}static Ci(t,e){let n=sd(),r=sd();for(const t of e.docChanges)switch(t.type){case 0:n=n.add(t.doc.key);break;case 1:r=r.add(t.doc.key)}return new bf(t,e.fromCache,n,r)}}class wf{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,n,r){return this.ki(t,e).next((i=>i||this.Oi(t,e,r,n))).next((n=>n||this.Mi(t,e)))}ki(t,e){if(eh(e))return zc.resolve(null);let n=ah(e);return this.indexManager.getIndexType(t,n).next((r=>0===r?null:(null!==e.limit&&1===r&&(e=lh(e,null,"F"),n=ah(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((r=>{const i=sd(...r);return this.Ni.getDocuments(t,i).next((r=>this.indexManager.getMinOffset(t,n).next((n=>{const o=this.Fi(e,r);return this.$i(e,o,i,n.readTime)?this.ki(t,lh(e,null,"F")):this.Bi(t,o,e,n)}))))})))))}Oi(t,e,n,r){return eh(e)||r.isEqual(Cc.min())?this.Mi(t,e):this.Ni.getDocuments(t,n).next((i=>{const o=this.Fi(e,i);return this.$i(e,o,n,r)?this.Mi(t,e):(rc()<=ye.DEBUG&&ic("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hh(e)),this.Bi(t,o,e,function(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Cc.fromTimestamp(1e9===r?new Tc(n+1,0):new Tc(n,r));return new Pc(i,Mc.empty(),e)}(r,-1)))}))}Fi(t,e){let n=new Uu(fh(t));return e.forEach(((e,r)=>{dh(t,r)&&(n=n.add(r))})),n}$i(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const i="F"===t.limitType?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Mi(t,e){return rc()<=ye.DEBUG&&ic("QueryEngine","Using full collection scan to execute query:",hh(e)),this.Ni.getDocumentsMatchingQuery(t,e,Pc.min())}Bi(t,e,n,r){return this.Ni.getDocumentsMatchingQuery(t,n,r).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}class xf{constructor(t,e,n,r){this.persistence=t,this.Li=e,this.yt=r,this.qi=new Vu(kc),this.Ui=new Yh((t=>Yu(t)),Xu),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(n)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sf(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.qi)))}}async function Ef(t,e){const n=uc(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let r;return n.mutationQueue.getAllMutationBatches(t).next((i=>(r=i,n.Qi(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const i=[],o=[];let a=sd();for(const t of r){i.push(t.batchId);for(const e of t.mutations)a=a.add(e.key)}for(const t of e){o.push(t.batchId);for(const e of t.mutations)a=a.add(e.key)}return n.localDocuments.getDocuments(t,a).next((t=>({ji:t,removedBatchIds:i,addedBatchIds:o})))}))}))}function _f(t){const e=uc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Cs.getLastRemoteSnapshotVersion(t)))}function kf(t,e){const n=uc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}async function Sf(t,e,n){const r=uc(t),i=r.qi.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(t=>r.persistence.referenceDelegate.removeTarget(t,i)))}catch(t){if(!Vc(t))throw t;ic("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}function Tf(t,e,n){const r=uc(t);let i=Cc.min(),o=sd();return r.persistence.runTransaction("Execute query","readonly",(t=>function(t,e,n){const r=uc(t),i=r.Ui.get(n);return void 0!==i?zc.resolve(r.qi.get(i)):r.Cs.getTargetData(e,n)}(r,t,ah(e)).next((e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(t,e.targetId).next((t=>{o=t}))})).next((()=>r.Li.getDocumentsMatchingQuery(t,e,n?i:Cc.min(),n?o:sd()))).next((t=>(function(t,e,n){let r=t.Ki.get(e)||Cc.min();n.forEach(((t,e)=>{e.readTime.compareTo(r)>0&&(r=e.readTime)})),t.Ki.set(e,r)}(r,function(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),t),{documents:t,Hi:o})))))}class Cf{constructor(){this.activeTargetIds=cd()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class If{constructor(){this.Lr=new Cf,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.Lr.er(t),this.qr[t]||"not-current"}updateQueryState(t,e,n){this.qr[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new Cf,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Nf{Ur(t){}shutdown(){}}class Af{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ic("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){ic("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Of={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mf{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class Lf extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.oo=e+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,n,r,i){const o=this.ho(t,e);ic("RestConnection","Sending: ",o,n);const a={};return this.lo(a,r,i),this.fo(t,o,a,n).then((t=>(ic("RestConnection","Received: ",t),t)),(e=>{throw ac("RestConnection",`${t} failed with error: `,e,"url: ",o,"request:",n),e}))}_o(t,e,n,r,i,o){return this.ao(t,e,n,r,i)}lo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+ec,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}ho(t,e){const n=Of[t];return`${this.oo}/v1/${e}:${n}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,n,r){return new Promise(((i,o)=>{const a=new Jl;a.setWithCredentials(!0),a.listenOnce(Gl.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case ql.NO_ERROR:const e=a.getResponseJson();ic("Connection","XHR received:",JSON.stringify(e)),i(e);break;case ql.TIMEOUT:ic("Connection",'RPC "'+t+'" timed out'),o(new dc(hc.DEADLINE_EXCEEDED,"Request time out"));break;case ql.HTTP_ERROR:const n=a.getStatus();if(ic("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(hc).indexOf(e)>=0?e:hc.UNKNOWN}(e.status);o(new dc(t,e.message))}else o(new dc(hc.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new dc(hc.UNAVAILABLE,"Connection failed."));break;default:lc()}}finally{ic("Connection",'RPC "'+t+'" completed.')}}));const s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))}wo(t,e,n){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=Wl(),o=$l(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Yl({})),this.lo(a.initMessageHeaders,e,n),a.encodeInitMessageHeaders=!0;const s=r.join("");ic("Connection","Creating WebChannel: "+s,a);const l=i.createWebChannel(s,a);let c=!1,u=!1;const h=new Mf({Hr:t=>{u?ic("Connection","Not sending because WebChannel is closed:",t):(c||(ic("Connection","Opening WebChannel transport."),l.open(),c=!0),ic("Connection","WebChannel sending:",t),l.send(t))},Jr:()=>l.close()}),d=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return d(l,Xl.EventType.OPEN,(()=>{u||ic("Connection","WebChannel transport opened.")})),d(l,Xl.EventType.CLOSE,(()=>{u||(u=!0,ic("Connection","WebChannel transport closed"),h.io())})),d(l,Xl.EventType.ERROR,(t=>{u||(u=!0,ac("Connection","WebChannel transport errored:",t),h.io(new dc(hc.UNAVAILABLE,"The operation could not be completed")))})),d(l,Xl.EventType.MESSAGE,(t=>{var e;if(!u){const n=t.data[0];cc(!!n);const r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){ic("Connection","WebChannel received error:",i);const t=i.status;let e=function(t){const e=Gh[t];if(void 0!==e)return Qh(e)}(t),n=i.message;void 0===e&&(e=hc.INTERNAL,n="Unknown error status: "+t+" with message "+i.message),u=!0,h.io(new dc(e,n)),l.close()}else ic("Connection","WebChannel received:",n),h.ro(n)}})),d(o,Kl.STAT_EVENT,(t=>{t.stat===Ql.PROXY?ic("Connection","Detected buffering proxy"):t.stat===Ql.NOPROXY&&ic("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.so()}),0),h}}function Pf(){return"undefined"!=typeof document?document:null}function Df(t){return new Ed(t,!0)}class Rf{constructor(t,e,n=1e3,r=1.5,i=6e4){this.Hs=t,this.timerId=e,this.mo=n,this.yo=r,this.po=i,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),n=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-n);r>0&&ic("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,(()=>(this.Eo=Date.now(),t()))),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Ff{constructor(t,e,n,r,i,o,a,s){this.Hs=t,this.vo=n,this.Vo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Rf(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(()=>this.$o())))}Bo(t){this.Lo(),this.stream.send(t)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(t,e){this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():e&&e.code===hc.RESOURCE_EXHAUSTED?(oc(e.toString()),oc("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):e&&e.code===hc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zr(e)}Uo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([t,n])=>{this.So===e&&this.Go(t,n)}),(e=>{t((()=>{const t=new dc(hc.UNKNOWN,"Fetching auth token failed: "+e.message);return this.Qo(t)}))}))}Go(t,e){const n=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr((()=>{n((()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,(()=>(this.ko()&&(this.state=3),Promise.resolve()))),this.listener.Yr())))})),this.stream.Zr((t=>{n((()=>this.Qo(t)))})),this.stream.onMessage((t=>{n((()=>this.onMessage(t)))}))}Oo(){this.state=5,this.xo.Ro((async()=>{this.state=0,this.start()}))}Qo(t){return ic("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget((()=>this.So===t?e():(ic("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zf extends Ff{constructor(t,e,n,r,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,o),this.yt=i}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:lc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.wt?(cc(void 0===e||"string"==typeof e),Kc.fromBase64String(e||"")):(cc(void 0===e||e instanceof Uint8Array),Kc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(t){const e=void 0===t.code?hc.UNKNOWN:Qh(t.code);return new dc(e,t.message||"")}(a);n=new pd(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ad(t,r.document.name),o=Td(r.document.updateTime),a=r.document.createTime?Td(r.document.createTime):Cc.min(),s=new $u({mapValue:{fields:r.document.fields}}),l=Gu.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new dd(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ad(t,r.document),o=r.readTime?Td(r.readTime):Cc.min(),a=Gu.newNoDocument(i,o),s=r.removedTargetIds||[];n=new dd([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ad(t,r.document),o=r.removedTargetIds||[];n=new dd([],o,i,null)}else{if(!("filter"in e))return lc();{e.filter;const t=e.filter;t.targetId;const r=t.count||0,i=new qh(r),o=t.targetId;n=new fd(o,i)}}return n}(this.yt,t),n=function(t){if(!("targetChange"in t))return Cc.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?Cc.min():e.readTime?Td(e.readTime):Cc.min()}(t);return this.listener.Wo(e,n)}zo(t){const e={};e.database=Md(this.yt),e.addTarget=function(t,e){let n;const r=e.target;return n=Ju(r)?{documents:Dd(t,r)}:{query:Rd(t,r)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=kd(t,e.resumeToken):e.snapshotVersion.compareTo(Cc.min())>0&&(n.readTime=_d(t,e.snapshotVersion.toTimestamp())),n}(this.yt,t);const n=function(t,e){const n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lc()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,t);n&&(e.labels=n),this.Bo(e)}Ho(t){const e={};e.database=Md(this.yt),e.removeTarget=t,this.Bo(e)}}class Vf extends Ff{constructor(t,e,n,r,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,o),this.yt=i,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(cc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function(t,e){return t&&t.length>0?(cc(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?Td(t.updateTime):Td(e);return n.isEqual(Cc.min())&&(n=Td(e)),new Ah(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=Td(t.commitTime);return this.listener.Zo(n,e)}return cc(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=Md(this.yt),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>function(t,e){let n;if(e instanceof Vh)n={update:Pd(t,e.key,e.value)};else if(e instanceof Wh)n={delete:Nd(t,e.key)};else if(e instanceof Bh)n={update:Pd(t,e.key,e.data),updateMask:$d(e.fieldMask)};else{if(!(e instanceof $h))return lc();n={verify:Nd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof Eh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof _h)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Sh)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ch)return{fieldPath:e.field.canonicalString(),increment:n.gt};throw lc()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Sd(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:lc()}(t,e.precondition)),n}(this.yt,t)))};this.Bo(e)}}class Bf extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.yt=r,this.nu=!1}su(){if(this.nu)throw new dc(hc.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,n){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.connection.ao(t,e,n,r,i))).catch((t=>{throw"FirebaseError"===t.name?(t.code===hc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new dc(hc.UNKNOWN,t.toString())}))}_o(t,e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection._o(t,e,n,i,o,r))).catch((t=>{throw"FirebaseError"===t.name?(t.code===hc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new dc(hc.UNKNOWN,t.toString())}))}terminate(){this.nu=!0}}class jf{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve()))))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(oc(e),this.ou=!1):ic("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Uf{constructor(t,e,n,r,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=i,this.mu.Ur((t=>{n.enqueueAndForget((async()=>{Xf(this)&&(ic("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=uc(t);e._u.add(4),await Wf(e),e.gu.set("Unknown"),e._u.delete(4),await Hf(e)}(this))}))})),this.gu=new jf(n,r)}}async function Hf(t){if(Xf(t))for(const e of t.wu)await e(!0)}async function Wf(t){for(const e of t.wu)await e(!1)}function $f(t,e){const n=uc(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),Yf(n)?Qf(n):pp(n).ko()&&Gf(n,e))}function qf(t,e){const n=uc(t),r=pp(n);n.du.delete(e),r.ko()&&Kf(n,e),0===n.du.size&&(r.ko()?r.Fo():Xf(n)&&n.gu.set("Unknown"))}function Gf(t,e){t.yu.Ot(e.targetId),pp(t).zo(e)}function Kf(t,e){t.yu.Ot(e),pp(t).Ho(e)}function Qf(t){t.yu=new gd({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),pp(t).start(),t.gu.uu()}function Yf(t){return Xf(t)&&!pp(t).No()&&t.du.size>0}function Xf(t){return 0===uc(t)._u.size}function Jf(t){t.yu=void 0}async function Zf(t){t.du.forEach(((e,n)=>{Gf(t,e)}))}async function tp(t,e){Jf(t),Yf(t)?(t.gu.hu(e),Qf(t)):t.gu.set("Unknown")}async function ep(t,e,n){if(t.gu.set("Online"),e instanceof pd&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.du.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.du.delete(r),t.yu.removeTarget(r))}(t,e)}catch(n){ic("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await np(t,n)}else if(e instanceof dd?t.yu.Kt(e):e instanceof fd?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(Cc.min()))try{const e=await _f(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.yu.Zt(e);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.du.get(r);i&&t.du.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((e=>{const n=t.du.get(e);if(!n)return;t.du.set(e,n.withResumeToken(Kc.EMPTY_BYTE_STRING,n.snapshotVersion)),Kf(t,e);const r=new Yd(n.target,e,1,n.sequenceNumber);Gf(t,r)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){ic("RemoteStore","Failed to raise snapshot:",e),await np(t,e)}}async function np(t,e,n){if(!Vc(e))throw e;t._u.add(1),await Wf(t),t.gu.set("Offline"),n||(n=()=>_f(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ic("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await Hf(t)}))}function rp(t,e){return e().catch((n=>np(t,n,e)))}async function ip(t){const e=uc(t),n=mp(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;op(e);)try{const t=await kf(e.localStore,r);if(null===t){0===e.fu.length&&n.Fo();break}r=t.batchId,ap(e,t)}catch(t){await np(e,t)}sp(e)&&lp(e)}function op(t){return Xf(t)&&t.fu.length<10}function ap(t,e){t.fu.push(e);const n=mp(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function sp(t){return Xf(t)&&!mp(t).No()&&t.fu.length>0}function lp(t){mp(t).start()}async function cp(t){mp(t).eu()}async function up(t){const e=mp(t);for(const n of t.fu)e.Xo(n.mutations)}async function hp(t,e,n){const r=t.fu.shift(),i=Kd.from(r,e,n);await rp(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await ip(t)}async function dp(t,e){e&&mp(t).Yo&&await async function(t,e){if(function(t){switch(t){default:return lc();case hc.CANCELLED:case hc.UNKNOWN:case hc.DEADLINE_EXCEEDED:case hc.RESOURCE_EXHAUSTED:case hc.INTERNAL:case hc.UNAVAILABLE:case hc.UNAUTHENTICATED:return!1;case hc.INVALID_ARGUMENT:case hc.NOT_FOUND:case hc.ALREADY_EXISTS:case hc.PERMISSION_DENIED:case hc.FAILED_PRECONDITION:case hc.ABORTED:case hc.OUT_OF_RANGE:case hc.UNIMPLEMENTED:case hc.DATA_LOSS:return!0}}(n=e.code)&&n!==hc.ABORTED){const n=t.fu.shift();mp(t).Mo(),await rp(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await ip(t)}var n}(t,e),sp(t)&&lp(t)}async function fp(t,e){const n=uc(t);n.asyncQueue.verifyOperationInProgress(),ic("RemoteStore","RemoteStore received new credentials");const r=Xf(n);n._u.add(3),await Wf(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await Hf(n)}function pp(t){return t.pu||(t.pu=function(t,e,n){const r=uc(t);return r.su(),new zf(e,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(t.datastore,t.asyncQueue,{Yr:Zf.bind(null,t),Zr:tp.bind(null,t),Wo:ep.bind(null,t)}),t.wu.push((async e=>{e?(t.pu.Mo(),Yf(t)?Qf(t):t.gu.set("Unknown")):(await t.pu.stop(),Jf(t))}))),t.pu}function mp(t){return t.Iu||(t.Iu=function(t,e,n){const r=uc(t);return r.su(),new Vf(e,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(t.datastore,t.asyncQueue,{Yr:cp.bind(null,t),Zr:dp.bind(null,t),tu:up.bind(null,t),Zo:hp.bind(null,t)}),t.wu.push((async e=>{e?(t.Iu.Mo(),await ip(t)):(await t.Iu.stop(),t.fu.length>0&&(ic("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))}))),t.Iu}class gp{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new fc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,n,r,i){const o=Date.now()+n,a=new gp(t,e,o,r,i);return a.start(n),a}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dc(hc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yp(t,e){if(oc("AsyncQueue",`${e}: ${t}`),Vc(t))return new dc(hc.UNAVAILABLE,`${e}: ${t}`);throw t}class vp{constructor(t){this.comparator=t?(e,n)=>t(e,n)||Mc.comparator(e.key,n.key):(t,e)=>Mc.comparator(t.key,e.key),this.keyedMap=td(),this.sortedSet=new Vu(this.comparator)}static emptySet(t){return new vp(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof vp))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new vp;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class bp{constructor(){this.Tu=new Vu(Mc.comparator)}track(t){const e=t.doc.key,n=this.Tu.get(e);n?0!==t.type&&3===n.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==n.type?this.Tu=this.Tu.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Tu=this.Tu.remove(e):1===t.type&&2===n.type?this.Tu=this.Tu.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):lc():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal(((e,n)=>{t.push(n)})),t}}class wp{constructor(t,e,n,r,i,o,a,s,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,r,i){const o=[];return e.forEach((t=>{o.push({type:0,doc:t})})),new wp(t,e,vp.emptySet(e),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ch(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t].type!==n[t].type||!e[t].doc.isEqual(n[t].doc))return!1;return!0}}class xp{constructor(){this.Au=void 0,this.listeners=[]}}class Ep{constructor(){this.queries=new Yh((t=>uh(t)),ch),this.onlineState="Unknown",this.Ru=new Set}}async function _p(t,e){const n=uc(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new xp),i)try{o.Au=await n.onListen(r)}catch(t){const n=yp(t,`Initialization of query '${hh(e.query)}' failed`);return void e.onError(n)}n.queries.set(r,o),o.listeners.push(e),e.bu(n.onlineState),o.Au&&e.Pu(o.Au)&&Cp(n)}async function kp(t,e){const n=uc(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const t=o.listeners.indexOf(e);t>=0&&(o.listeners.splice(t,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Sp(t,e){const n=uc(t);let r=!1;for(const t of e){const e=t.query,i=n.queries.get(e);if(i){for(const e of i.listeners)e.Pu(t)&&(r=!0);i.Au=t}}r&&Cp(n)}function Tp(t,e,n){const r=uc(t),i=r.queries.get(e);if(i)for(const t of i.listeners)t.onError(n);r.queries.delete(e)}function Cp(t){t.Ru.forEach((t=>{t.next()}))}class Ip{constructor(t,e,n){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=n||{}}Pu(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new wp(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){if(!t.fromCache)return!0;const n="Offline"!==e;return(!this.options.Nu||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){if(t.docChanges.length>0)return!0;const e=this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}xu(t){t=wp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}class Np{constructor(t){this.key=t}}class Ap{constructor(t){this.key=t}}class Op{constructor(t,e){this.query=t,this.qu=e,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=sd(),this.mutatedKeys=sd(),this.Gu=fh(t),this.Qu=new vp(this.Gu)}get ju(){return this.qu}Wu(t,e){const n=e?e.zu:new bp,r=e?e.Qu:this.Qu;let i=e?e.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((t,e)=>{const c=r.get(t),u=dh(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Hu(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.Gu(u,s)>0||l&&this.Gu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=d?i.add(t):i.delete(t)):(o=o.delete(t),i=i.delete(t)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const t="F"===this.query.limitType?o.last():o.first();o=o.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{Qu:o,zu:n,$i:a,mutatedKeys:i}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const i=t.zu.Eu();i.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lc()}};return n(t)-n(e)}(t.type,e.type)||this.Gu(t.doc,e.doc))),this.Ju(n);const o=e?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,s=a!==this.Uu;return this.Uu=a,0!==i.length||s?{snapshot:new wp(this.query,t.Qu,r,i,t.mutatedKeys,0===a,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new bp,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.qu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach((t=>this.qu=this.qu.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.qu=this.qu.delete(t))),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=sd(),this.Qu.forEach((t=>{this.Zu(t.key)&&(this.Ku=this.Ku.add(t.key))}));const e=[];return t.forEach((t=>{this.Ku.has(t)||e.push(new Ap(t))})),this.Ku.forEach((n=>{t.has(n)||e.push(new Np(n))})),e}tc(t){this.qu=t.Hi,this.Ku=sd();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return wp.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class Mp{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class Lp{constructor(t){this.key=t,this.nc=!1}}class Pp{constructor(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Yh((t=>uh(t)),ch),this.rc=new Map,this.oc=new Set,this.uc=new Vu(Mc.comparator),this.cc=new Map,this.ac=new uf,this.hc={},this.lc=new Map,this.fc=rf.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}async function Dp(t,e){const n=function(t){const e=uc(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xp.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vp.bind(null,e),e.sc.Wo=Sp.bind(null,e.eventManager),e.sc.wc=Tp.bind(null,e.eventManager),e}(t);let r,i;const o=n.ic.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.ec();else{const t=await function(t,e){const n=uc(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let r;return n.Cs.getTargetData(t,e).next((i=>i?(r=i,zc.resolve(r)):n.Cs.allocateTargetId(t).next((i=>(r=new Yd(e,i,0,t.currentSequenceNumber),n.Cs.addTargetData(t,r).next((()=>r)))))))})).then((t=>{const r=n.qi.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(t.targetId,t),n.Ui.set(e,t.targetId)),t}))}(n.localStore,ah(e));n.isPrimaryClient&&$f(n.remoteStore,t);const o=n.sharedClientState.addLocalQueryTarget(t.targetId);r=t.targetId,i=await async function(t,e,n,r,i){t._c=(e,n,r)=>async function(t,e,n,r){let i=e.view.Wu(n);i.$i&&(i=await Tf(t.localStore,e.query,!1).then((({documents:t})=>e.view.Wu(t,i))));const o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o);return qp(t,e.targetId,a.Xu),a.snapshot}(t,e,n,r);const o=await Tf(t.localStore,e,!0),a=new Op(e,o.Hi),s=a.Wu(o.documents),l=hd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=a.applyChanges(s,t.isPrimaryClient,l);qp(t,n,c.Xu);const u=new Mp(e,n,a);return t.ic.set(e,u),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),c.snapshot}(n,e,r,"current"===o,t.resumeToken)}return i}async function Rp(t,e){const n=uc(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter((t=>!ch(t,e)))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Sf(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),qf(n.remoteStore,r.targetId),Wp(n,r.targetId)})).catch(Fc)):(Wp(n,r.targetId),await Sf(n.localStore,r.targetId,!0))}async function Fp(t,e){const n=uc(t);try{const t=await function(t,e){const n=uc(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];e.targetChanges.forEach(((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Cs.removeMatchingKeys(t,o.removedDocuments,s).next((()=>n.Cs.addMatchingKeys(t,o.addedDocuments,s))));let c=l.withSequenceNumber(t.currentSequenceNumber);e.targetMismatches.has(s)?c=c.withResumeToken(Kc.EMPTY_BYTE_STRING,Cc.min()).withLastLimboFreeSnapshotVersion(Cc.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&a.push(n.Cs.updateTargetData(t,c))}));let s=Jh(),l=sd();if(e.documentUpdates.forEach((r=>{e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(function(t,e,n){let r=sd(),i=sd();return n.forEach((t=>r=r.add(t))),e.getEntries(t,r).next((t=>{let r=Jh();return n.forEach(((n,o)=>{const a=t.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Cc.min())?(e.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o),r=r.insert(n,o)):ic("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{Wi:r,zi:i}}))}(t,o,e.documentUpdates).next((t=>{s=t.Wi,l=t.zi}))),!r.isEqual(Cc.min())){const e=n.Cs.getLastRemoteSnapshotVersion(t).next((e=>n.Cs.setTargetsMetadata(t,t.currentSequenceNumber,r)));a.push(e)}return zc.waitFor(a).next((()=>o.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,s,l))).next((()=>s))})).then((t=>(n.qi=i,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const r=n.cc.get(e);r&&(cc(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.nc=!0:t.modifiedDocuments.size>0?cc(r.nc):t.removedDocuments.size>0&&(cc(r.nc),r.nc=!1))})),await Qp(n,t,e)}catch(t){await Fc(t)}}function zp(t,e,n){const r=uc(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.ic.forEach(((n,r)=>{const i=r.view.bu(e);i.snapshot&&t.push(i.snapshot)})),function(t,e){const n=uc(t);n.onlineState=e;let r=!1;n.queries.forEach(((t,n)=>{for(const t of n.listeners)t.bu(e)&&(r=!0)})),r&&Cp(n)}(r.eventManager,e),t.length&&r.sc.Wo(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Vp(t,e,n){const r=uc(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),o=i&&i.key;if(o){let t=new Vu(Mc.comparator);t=t.insert(o,Gu.newNoDocument(o,Cc.min()));const n=sd().add(o),i=new ud(Cc.min(),new Map,new Uu(kc),t,n);await Fp(r,i),r.uc=r.uc.remove(o),r.cc.delete(e),Kp(r)}else await Sf(r.localStore,e,!1).then((()=>Wp(r,e,n))).catch(Fc)}async function Bp(t,e){const n=uc(t),r=e.batch.batchId;try{const t=await function(t,e){const n=uc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const r=e.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,o=i.keys();let a=zc.resolve();return o.forEach((t=>{a=a.next((()=>r.getEntry(e,t))).next((e=>{const o=n.docVersions.get(t);cc(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),r.addEntry(e)))}))})),a.next((()=>t.mutationQueue.removeMutationBatch(e,i)))}(n,t,e,i).next((()=>i.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=sd();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(n.localStore,e);Hp(n,r,null),Up(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qp(n,t)}catch(t){await Fc(t)}}async function jp(t,e,n){const r=uc(t);try{const t=await function(t,e){const n=uc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let r;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(cc(null!==e),r=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,r))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(r.localStore,e);Hp(r,e,n),Up(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qp(r,t)}catch(n){await Fc(n)}}function Up(t,e){(t.lc.get(e)||[]).forEach((t=>{t.resolve()})),t.lc.delete(e)}function Hp(t,e,n){const r=uc(t);let i=r.hc[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Wp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach((e=>{t.ac.containsKey(e)||$p(t,e)}))}function $p(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);null!==n&&(qf(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),Kp(t))}function qp(t,e,n){for(const r of n)r instanceof Np?(t.ac.addReference(r.key,e),Gp(t,r)):r instanceof Ap?(ic("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||$p(t,r.key)):lc()}function Gp(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(ic("SyncEngine","New document in limbo: "+n),t.oc.add(r),Kp(t))}function Kp(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new Mc(Nc.fromString(e)),r=t.fc.next();t.cc.set(r,new Lp(n)),t.uc=t.uc.insert(n,r),$f(t.remoteStore,new Yd(ah(th(n.path)),r,2,Bc.at))}}async function Qp(t,e,n){const r=uc(t),i=[],o=[],a=[];r.ic.isEmpty()||(r.ic.forEach(((t,s)=>{a.push(r._c(s,e,n).then((t=>{if((t||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){i.push(t);const e=bf.Ci(s.targetId,t);o.push(e)}})))})),await Promise.all(a),r.sc.Wo(i),await async function(t,e){const n=uc(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>zc.forEach(e,(e=>zc.forEach(e.Si,(r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r))).next((()=>zc.forEach(e.Di,(r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))))))}catch(t){if(!Vc(t))throw t;ic("LocalStore","Failed to update sequence numbers: "+t)}for(const t of e){const e=t.targetId;if(!t.fromCache){const t=n.qi.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.qi=n.qi.insert(e,i)}}}(r.localStore,o))}async function Yp(t,e){const n=uc(t);if(!n.currentUser.isEqual(e)){ic("SyncEngine","User change. New user:",e.toKey());const t=await Ef(n.localStore,e);n.currentUser=e,function(t,e){t.lc.forEach((t=>{t.forEach((t=>{t.reject(new dc(hc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.lc.clear()}(n),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await Qp(n,t.ji)}}function Xp(t,e){const n=uc(t),r=n.cc.get(e);if(r&&r.nc)return sd().add(r.key);{let t=sd();const r=n.rc.get(e);if(!r)return t;for(const e of r){const r=n.ic.get(e);t=t.unionWith(r.view.ju)}return t}}function Jp(t){const e=uc(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jp.bind(null,e),e}class Zp{constructor(){this.synchronizeTabs=!1}async initialize(t){this.yt=Df(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),await this.persistence.start(),this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore)}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return function(t,e,n,r){return new xf(t,e,n,r)}(this.persistence,new wf,t.initialUser,this.yt)}yc(t){return new gf(vf.Bs,this.yt)}gc(t){return new If}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class tm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>zp(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yp.bind(null,this.syncEngine),await async function(t,e){const n=uc(t);e?(n._u.delete(2),await Hf(n)):e||(n._u.add(2),await Wf(n),n.gu.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Ep}createDatastore(t){const e=Df(t.databaseInfo.databaseId),n=(r=t.databaseInfo,new Lf(r));var r;return function(t,e,n,r){return new Bf(t,e,n,r)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=t=>zp(this.syncEngine,t,0),o=Af.C()?new Af:new Nf,new Uf(e,n,r,i,o);var e,n,r,i,o}createSyncEngine(t,e){return function(t,e,n,r,i,o,a){const s=new Pp(t,e,n,r,i,o);return a&&(s.dc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=uc(t);ic("RemoteStore","RemoteStore shutting down."),e._u.add(5),await Wf(e),e.mu.shutdown(),e.gu.set("Unknown")}(this.remoteStore)}}function em(t,e,n){if(!n)throw new dc(hc.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nm(t){if(!Mc.isDocumentKey(t))throw new dc(hc.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rm(t){if(Mc.isDocumentKey(t))throw new dc(hc.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function im(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":lc()}function om(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new dc(hc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=im(t);throw new dc(hc.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}const am=new Map;class sm{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new dc(hc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new dc(hc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(t,e,n,r){if(!0===e&&!0===r)throw new dc(hc.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lm{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new dc(hc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new dc(hc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sm(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new mc;switch(t.type){case"gapi":const e=t.client;return new bc(e,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new dc(hc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=am.get(t);e&&(ic("ComponentProvider","Removing Datastore"),am.delete(t),e.terminate())}(this),Promise.resolve()}}class cm{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hm(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new cm(this.firestore,t,this._key)}}class um{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new um(this.firestore,t,this._query)}}class hm extends um{constructor(t,e,n){super(t,e,th(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new cm(this.firestore,null,new Mc(t))}withConverter(t){return new hm(this.firestore,t,this._path)}}function dm(t,e,...n){if(t=he(t),em("collection","path",e),t instanceof lm){const r=Nc.fromString(e,...n);return rm(r),new hm(t,null,r)}{if(!(t instanceof cm||t instanceof hm))throw new dc(hc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Nc.fromString(e,...n));return rm(r),new hm(t.firestore,null,r)}}function fm(t,e,...n){if(t=he(t),1===arguments.length&&(e=_c.R()),em("doc","path",e),t instanceof lm){const r=Nc.fromString(e,...n);return nm(r),new cm(t,null,new Mc(r))}{if(!(t instanceof cm||t instanceof hm))throw new dc(hc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Nc.fromString(e,...n));return nm(r),new cm(t.firestore,t instanceof hm?t.converter:null,new Mc(r))}}class pm{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):oc("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}class mm{constructor(t,e,n,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=tc.UNAUTHENTICATED,this.clientId=_c.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{ic("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(ic("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new dc(hc.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=yp(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function gm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await async function(t){return t.offlineComponents||(ic("FirestoreClient","Using default OfflineComponentProvider"),await async function(t,e){t.asyncQueue.verifyOperationInProgress(),ic("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async t=>{r.isEqual(t)||(await Ef(e.localStore,t),r=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t.offlineComponents=e}(t,new Zp)),t.offlineComponents}(t);ic("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener((t=>fp(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>fp(e.remoteStore,n))),t.onlineComponents=e}async function ym(t){return t.onlineComponents||(ic("FirestoreClient","Using default OnlineComponentProvider"),await gm(t,new tm)),t.onlineComponents}async function vm(t){const e=await ym(t),n=e.eventManager;return n.onListen=Dp.bind(null,e.syncEngine),n.onUnlisten=Rp.bind(null,e.syncEngine),n}class bm{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Rf(this,"async_queue_retry"),this.Wc=()=>{const t=Pf();t&&ic("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const t=Pf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.qc){this.qc=!0,this.Qc=t||!1;const e=Pf();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.qc)return new Promise((()=>{}));const e=new fc;return this.Hc((()=>this.qc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Lc.push(t),this.Jc())))}async Jc(){if(0!==this.Lc.length){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(t){if(!Vc(t))throw t;ic("AsyncQueue","Operation failed with retryable error: "+t)}this.Lc.length>0&&this.xo.Ro((()=>this.Jc()))}}Hc(t){const e=this.Bc.then((()=>(this.Gc=!0,t().catch((t=>{this.Kc=t,this.Gc=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw oc("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Gc=!1,t))))));return this.Bc=e,e}enqueueAfterDelay(t,e,n){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const r=gp.createAndSchedule(this,t,e,n,(t=>this.Yc(t)));return this.Uc.push(r),r}zc(){this.Kc&&lc()}verifyOperationInProgress(){}async Xc(){let t;do{t=this.Bc,await t}while(t!==this.Bc)}Zc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then((()=>{this.Uc.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()}))}ea(t){this.jc.push(t)}Yc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function wm(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const t of["next","error","complete"])if(t in n&&"function"==typeof n[t])return!0;return!1}(t)}class xm extends lm{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new bm,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||_m(this),this._firestoreClient.terminate()}}function Em(t){return t._firestoreClient||_m(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function _m(t){var e;const n=t._freezeSettings(),r=function(t,e,n,r){return new jc(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new mm(t._authCredentials,t._appCheckCredentials,t._queue,r)}class km{constructor(t){this._byteString=t}static fromBase64String(t){try{return new km(Kc.fromBase64String(t))}catch(t){throw new dc(hc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new km(Kc.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Sm{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new dc(hc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Oc(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Tm{constructor(t){this._methodName=t}}class Cm{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new dc(hc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new dc(hc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return kc(this._lat,t._lat)||kc(this._long,t._long)}}const Im=/^__.*__$/;class Nm{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new Bh(t,this.data,this.fieldMask,e,this.fieldTransforms):new Vh(t,this.data,e,this.fieldTransforms)}}class Am{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Bh(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Om(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lc()}}class Mm{constructor(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.yt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.na(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new Mm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:n,oa:!1});return r.ua(t),r}ca(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:n,oa:!1});return r.na(),r}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return Wm(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(Om(this.sa)&&Im.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class Lm{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.yt=n||Df(t)}da(t,e,n,r=!1){return new Mm({sa:t,methodName:e,fa:n,path:Oc.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Pm(t){const e=t._freezeSettings(),n=Df(t._databaseId);return new Lm(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Dm(t,e,n,r,i,o={}){const a=t.da(o.merge||o.mergeFields?2:0,e,n,i);Bm("Data must be an object, but it was:",a,r);const s=zm(r,a);let l,c;if(o.merge)l=new Wu(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const t=[];for(const r of o.mergeFields){const i=jm(e,r,n);if(!a.contains(i))throw new dc(hc.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);$m(t,i)||t.push(i)}l=new Wu(t),c=a.fieldTransforms.filter((t=>l.covers(t.field)))}else l=null,c=a.fieldTransforms;return new Nm(new $u(s),l,c)}class Rm extends Tm{_toFieldTransform(t){if(2!==t.sa)throw 1===t.sa?t.ha(`${this._methodName}() can only appear at the top level of your update data`):t.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Rm}}function Fm(t,e){if(Vm(t=he(t)))return Bm("Unsupported field value:",e,t),zm(t,e);if(t instanceof Tm)return function(t,e){if(!Om(e.sa))throw e.ha(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.ha(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=Fm(i,e.aa(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=he(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return yh(e.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=Tc.fromDate(t);return{timestampValue:_d(e.yt,n)}}if(t instanceof Tc){const n=new Tc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:_d(e.yt,n)}}if(t instanceof Cm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof km)return{bytesValue:kd(e.yt,t._byteString)};if(t instanceof cm){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.ha(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Cd(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.ha(`Unsupported field value: ${im(t)}`)}(t,e)}function zm(t,e){const n={};return $c(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wc(t,((t,r)=>{const i=Fm(r,e.ra(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Vm(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Tc||t instanceof Cm||t instanceof km||t instanceof cm||t instanceof Tm)}function Bm(t,e,n){if(!Vm(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=im(n);throw"an object"===r?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function jm(t,e,n){if((e=he(e))instanceof Sm)return e._internalPath;if("string"==typeof e)return Hm(t,e);throw Wm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Um=new RegExp("[~\\*/\\[\\]]");function Hm(t,e,n){if(e.search(Um)>=0)throw Wm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sm(...e.split("."))._internalPath}catch(r){throw Wm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wm(t,e,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new dc(hc.INVALID_ARGUMENT,s+t+l)}function $m(t,e){return t.some((t=>t.isEqual(e)))}class qm{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new cm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Gm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Km("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Gm extends qm{data(){return super.data()}}function Km(t,e){return"string"==typeof e?Hm(t,e):e instanceof Sm?e._internalPath:e._delegate._internalPath}class Qm{}class Ym extends Qm{}function Xm(t,e,...n){let r=[];e instanceof Qm&&r.push(e),r=r.concat(n),function(t){const e=t.filter((t=>t instanceof tg)).length,n=t.filter((t=>t instanceof Jm)).length;if(e>1||e>0&&n>0)throw new dc(hc.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const e of r)t=e._apply(t);return t}class Jm extends Ym{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new Jm(t,e,n)}_apply(t){const e=this._parse(t);return rg(t._query,e),new um(t.firestore,t.converter,sh(t._query,e))}_parse(t){const e=Pm(t.firestore),n=function(t,e,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new dc(hc.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){ng(a,o);const e=[];for(const n of a)e.push(eg(r,t,n));s={arrayValue:{values:e}}}else s=eg(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ng(a,o),s=function(t,e,n,r=!1){return Fm(n,t.da(r?4:3,e))}(n,"where",a,"in"===o||"not-in"===o);return Eu.create(i,o,s)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value);return n}}function Zm(t,e,n){const r=e,i=Km("where",t);return Jm._create(i,r,n)}class tg extends Qm{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new tg(t,e)}_parse(t){const e=this._queryConstraints.map((e=>e._parse(t))).filter((t=>t.getFilters().length>0));return 1===e.length?e[0]:_u.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const r=e.getFlattenedFilters();for(const t of r)rg(n,t),n=sh(n,t)}(t._query,e),new um(t.firestore,t.converter,sh(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function eg(t,e,n){if("string"==typeof(n=he(n))){if(""===n)throw new dc(hc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ih(e)&&-1!==n.indexOf("/"))throw new dc(hc.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Nc.fromString(n));if(!Mc.isDocumentKey(r))throw new dc(hc.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uu(t,new Mc(r))}if(n instanceof cm)return uu(t,n._key);throw new dc(hc.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${im(n)}.`)}function ng(t,e){if(!Array.isArray(t)||0===t.length)throw new dc(hc.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new dc(hc.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function rg(t,e){if(e.isInequality()){const n=rh(t),r=e.field;if(null!==n&&!n.isEqual(r))throw new dc(hc.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=nh(t);null!==i&&function(t,e,n){if(!n.isEqual(e))throw new dc(hc.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,r,i)}const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new dc(hc.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new dc(hc.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ig{convertValue(t,e="none"){switch(ru(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xc(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Jc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw lc()}}convertObject(t,e){const n={};return Wc(t.fields,((t,r)=>{n[t]=this.convertValue(r,e)})),n}convertGeoPoint(t){return new Cm(Xc(t.latitude),Xc(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=tu(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(eu(t));default:return null}}convertTimestamp(t){const e=Yc(t);return new Tc(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Nc.fromString(t);cc(qd(n));const r=new Uc(n.get(1),n.get(3)),i=new Mc(n.popFirst(5));return r.isEqual(e)||oc(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}function og(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ag{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class sg extends qm{constructor(t,e,n,r,i,o){super(t,e,n,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new lg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(Km("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class lg extends sg{data(t={}){return super.data(t)}}class cg{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new ag(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new lg(this._firestore,this._userDataWriter,n.key,n,new ag(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new dc(hc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>{const r=new lg(t._firestore,t._userDataWriter,n.doc.key,n.doc,new ag(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:e++}}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const r=new lg(t._firestore,t._userDataWriter,e.doc.key,e.doc,new ag(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,o=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),o=n.indexOf(e.doc.key)),{type:ug(e.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ug(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lc()}}function hg(t){t=om(t,cm);const e=om(t.firestore,xm);return function(t,e,n={}){const r=new fc;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const o=new pm({next:o=>{e.enqueueAndForget((()=>kp(t,a)));const s=o.docs.has(n);!s&&o.fromCache?i.reject(new dc(hc.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new dc(hc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:t=>i.reject(t)}),a=new Ip(th(n.path),o,{includeMetadataChanges:!0,Nu:!0});return _p(t,a)}(await vm(t),t.asyncQueue,e,n,r))),r.promise}(Em(e),t._key).then((n=>bg(e,t,n)))}class dg extends ig{constructor(t){super(),this.firestore=t}convertBytes(t){return new km(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new cm(this.firestore,null,e)}}function fg(t,e,n){t=om(t,cm);const r=om(t.firestore,xm),i=og(t.converter,e,n);return vg(r,[Dm(Pm(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Oh.none())])}function pg(t,e,n,...r){t=om(t,cm);const i=om(t.firestore,xm),o=Pm(i);let a;return a="string"==typeof(e=he(e))||e instanceof Sm?function(t,e,n,r,i,o){const a=t.da(1,e,n),s=[jm(e,r,n)],l=[i];if(o.length%2!=0)throw new dc(hc.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let t=0;t<o.length;t+=2)s.push(jm(e,o[t])),l.push(o[t+1]);const c=[],u=$u.empty();for(let t=s.length-1;t>=0;--t)if(!$m(c,s[t])){const e=s[t];let n=l[t];n=he(n);const r=a.ca(e);if(n instanceof Rm)c.push(e);else{const t=Fm(n,r);null!=t&&(c.push(e),u.set(e,t))}}const h=new Wu(c);return new Am(u,h,a.fieldTransforms)}(o,"updateDoc",t._key,e,n,r):function(t,e,n,r){const i=t.da(1,e,n);Bm("Data must be an object, but it was:",i,r);const o=[],a=$u.empty();Wc(r,((t,r)=>{const s=Hm(e,t,n);r=he(r);const l=i.ca(s);if(r instanceof Rm)o.push(s);else{const t=Fm(r,l);null!=t&&(o.push(s),a.set(s,t))}}));const s=new Wu(o);return new Am(a,s,i.fieldTransforms)}(o,"updateDoc",t._key,e),vg(i,[a.toMutation(t._key,Oh.exists(!0))])}function mg(t){return vg(om(t.firestore,xm),[new Wh(t._key,Oh.none())])}function gg(t,e){const n=om(t.firestore,xm),r=fm(t),i=og(t.converter,e);return vg(n,[Dm(Pm(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Oh.exists(!1))]).then((()=>r))}function yg(t,...e){var n,r,i;t=he(t);let o={includeMetadataChanges:!1},a=0;"object"!=typeof e[a]||wm(e[a])||(o=e[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges};if(wm(e[a])){const t=e[a];e[a]=null===(n=t.next)||void 0===n?void 0:n.bind(t),e[a+1]=null===(r=t.error)||void 0===r?void 0:r.bind(t),e[a+2]=null===(i=t.complete)||void 0===i?void 0:i.bind(t)}let l,c,u;if(t instanceof cm)c=om(t.firestore,xm),u=th(t._key.path),l={next:n=>{e[a]&&e[a](bg(c,t,n))},error:e[a+1],complete:e[a+2]};else{const n=om(t,um);c=om(n.firestore,xm),u=n._query;const r=new dg(c);l={next:t=>{e[a]&&e[a](new cg(c,r,n,t))},error:e[a+1],complete:e[a+2]},function(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new dc(hc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(t,e,n,r){const i=new pm(r),o=new Ip(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>_p(await vm(t),o))),()=>{i.bc(),t.asyncQueue.enqueueAndForget((async()=>kp(await vm(t),o)))}}(Em(c),u,s,l)}function vg(t,e){return function(t,e){const n=new fc;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const r=Jp(t);try{const t=await function(t,e){const n=uc(t),r=Tc.now(),i=e.reduce(((t,e)=>t.add(e.key)),sd());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let s=Jh(),l=sd();return n.Gi.getEntries(t,i).next((t=>{s=t,s.forEach(((t,e)=>{e.isValidDocument()||(l=l.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,s))).next((i=>{o=i;const a=[];for(const t of e){const e=Fh(t,o.get(t.key).overlayedDocument);null!=e&&a.push(new Bh(t.key,e,qu(e.value.mapValue),Oh.exists(!0)))}return n.mutationQueue.addMutationBatch(t,r,a,e)})).next((e=>{a=e;const r=e.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(t,e.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:ed(o)})))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.hc[t.currentUser.toKey()];r||(r=new Vu(kc)),r=r.insert(e,n),t.hc[t.currentUser.toKey()]=r}(r,t.batchId,n),await Qp(r,t.changes),await ip(r.remoteStore)}catch(t){const e=yp(t,"Failed to persist write");n.reject(e)}}(await function(t){return ym(t).then((t=>t.syncEngine))}(t),e,n))),n.promise}(Em(t),e)}function bg(t,e,n){const r=n.docs.get(e._key),i=new dg(t);return new sg(t,i,e._key,r,new ag(n.hasPendingWrites,n.fromCache),e.converter)}!function(t,e=!0){!function(t){ec=t}(Ze),Qe(new de("firestore",((t,{instanceIdentifier:n,options:r})=>{const i=t.getProvider("app").getImmediate(),o=new xm(new yc(t.getProvider("auth-internal")),new xc(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new dc(hc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uc(t.options.projectId,e)}(i,n),i);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),nn(Zl,"3.8.3",t),nn(Zl,"3.8.3","esm2017")}();var wg=tn({apiKey:"AIzaSyCjT-MeZoVp8SmTmIBmpITGXSyJ2hYtEQ0",authDomain:"budget-tracker-tw.firebaseapp.com",projectId:"budget-tracker-tw",storageBucket:"budget-tracker-tw.appspot.com",messagingSenderId:"772054309755",appId:"1:772054309755:web:369400e801bf673ca2bbde"}),xg=Qi(wg),Eg=new Ar,_g=function(){(async function(t,e,n){const r=mr(t);!function(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&vn(t,"argument-error"),wn(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,Cr);const i=fi(r,void 0);return new wi(r,"signInViaPopup",e,i).executeNotNull()})(xg,Eg).then((function(t){console.log(t);var e=t.user.displayName,n=t.user.email,r=t.user.photoURL;localStorage.setItem("username",e),localStorage.setItem("email",n),localStorage.setItem("gender","gender"),localStorage.setItem("birthday","birthday"),localStorage.setItem("pic",r),window.location.href="/user"})).catch((function(t){console.log(t)}))},kg=function(t,e){const n="string"==typeof t?t:"(default)",r=Ye("object"==typeof t?t:en(),"firestore").getImmediate({identifier:n});if(!r._initialized){const t=(t=>{const e=Xt("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();t&&function(t,e,n,r={}){var i;const o=(t=om(t,lm))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&ac("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=tc.MOCK_USER;else{e=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Kt(JSON.stringify({alg:"none",type:"JWT"})),Kt(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new dc(hc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new tc(o)}t._authCredentials=new gc(new pc(e,n))}}(r,...t)}return r}(wg);function Sg(t){return Sg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(t)}function Tg(){Tg=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new S(i||[]);return r(a,"_invoke",{value:x(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h={};function d(){}function f(){}function p(){}var m={};l(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==e&&n.call(y,o)&&(m=y);var v=p.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,o,a,s){var l=u(t[r],t,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==Sg(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return i("throw",t,a,s)}))}s(l.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=u(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function T(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,l(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(w.prototype),l(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),l(v,s,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function Cg(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}const Ig=function(){var t=function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Cg(o,r,i,a,s,"next",t)}function s(t){Cg(o,r,i,a,s,"throw",t)}a(void 0)}))}}(Tg().mark((function t(){return Tg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.clear(),t.next=3,Hr(xg);case 3:window.location.href="/";case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return e.createElement("div",null,e.createElement("div",null,e.createElement("nav",{class:"navbar"},e.createElement("ul",{class:"navbar-nav"},e.createElement("li",{class:"logo"},e.createElement("label",{class:"nav-link"},e.createElement(ct,{to:"/",className:"link"},e.createElement("span",{class:"link-text"},e.createElement("span",{className:"username"},"MENU"))),e.createElement($t,{size:30,color:"#000"}))),e.createElement(ct,{to:"/user",className:"link"},e.createElement("label",{class:"nav-link"},e.createElement(Vt,{size:30}),e.createElement("span",{class:"link-text"},"USER"))),e.createElement(ct,{to:"/keeper",className:"link"},e.createElement("label",{class:"nav-link"},e.createElement(Bt,{size:30}),e.createElement("span",{class:"link-text"},"KEEPER"))),e.createElement(ct,{to:"/tracker",className:"link"},e.createElement("label",{class:"nav-link"},e.createElement(Wt,{size:30}),e.createElement("span",{class:"link-text"},"TRACKER"))),e.createElement(ct,{to:"/chart",className:"link"},e.createElement("label",{class:"nav-link"},e.createElement(jt,{size:30}),e.createElement("span",{class:"link-text"},"CHART"))),e.createElement("div",{className:"link",onClick:t},e.createElement("label",{class:"nav-link"},e.createElement(Ht,{size:30}),e.createElement("span",{class:"link-text"},"LOGOUT")))))))};var Ng=i(7),Ag={};function Og(t){return Ft({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"}}]})(t)}function Mg(t){return Ft({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"}}]})(t)}function Lg(t){return Lg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(t)}function Pg(){Pg=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new S(i||[]);return r(a,"_invoke",{value:x(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h={};function d(){}function f(){}function p(){}var m={};l(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==e&&n.call(y,o)&&(m=y);var v=p.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,o,a,s){var l=u(t[r],t,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==Lg(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return i("throw",t,a,s)}))}s(l.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=u(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function T(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,l(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(w.prototype),l(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),l(v,s,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function Dg(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function Rg(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Dg(o,r,i,a,s,"next",t)}function s(t){Dg(o,r,i,a,s,"throw",t)}a(void 0)}))}}function Fg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fg(Object(n),!0).forEach((function(e){Vg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Vg(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Lg(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Lg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Lg(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bg(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return jg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jg(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Ag.styleTagTransform=It(),Ag.setAttributes=kt(),Ag.insert=Et().bind(null,"head"),Ag.domAPI=wt(),Ag.insertStyleElement=Tt(),vt()(Ng.Z,Ag),Ng.Z&&Ng.Z.locals&&Ng.Z.locals;const Ug=function(){var t=mt(),n=t.showForm,r=t.setShowForm,i=(t.showEditForm,t.setShowEditForm),o=(t.expenses,t.setExpenses),a=t.amount,s=t.setAmount,l=t.description,c=t.setDescription,u=t.category,h=t.setCategory,d=t.date,f=t.setDate,p=(t.totalIncome,t.setTotalIncome),m=(t.totalExpense,t.setTotalExpense),g=(t.costFood,t.setCostFood),y=function(t){var e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getDate().toString().padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(r)},v=(0,e.useState)((function(){var t=new Date(d),e=new Date(t.getFullYear(),t.getMonth(),1);return y(e)})),b=Bg(v,2),w=b[0],x=b[1],E=(0,e.useState)((function(){var t=new Date(d),e=new Date(t.getFullYear(),t.getMonth()+1,0);return y(e)})),_=Bg(E,2),k=_[0],S=_[1];(0,e.useEffect)((function(){console.log(w,k),localStorage.setItem("firstDay",w),localStorage.setItem("lastDay",k),localStorage.getItem("firstDay"),yg(Xm(dm(kg,"keeper"),Zm("uid","==",localStorage.getItem("uid")),Zm("date",">=",localStorage.getItem("firstDay")),Zm("date","<=",localStorage.getItem("lastDay"))),(function(t){o(t.docs.map((function(t){return zg(zg({},t.data()),{},{id:t.id})})))})),f(d)}),[localStorage.getItem("uid"),d,w,k]),(0,e.useEffect)((function(){var t=localStorage.getItem("firstDay"),e=localStorage.getItem("uid");if(t&&e){var n=fm(kg,"total",t+e),r={totalExpense:0,totalIncome:0,costFood:0,costTraffic:0,costPlay:0,costOther:0,costApparel:0,costHousing:0,costEducate:0,costSavings:0,earnSalary:0,earnStock:0,earnGift:0,earnOther:0};hg(n).then((function(t){t.exists()?(console.log("Document exists with data:",t.data()),m(t.data().totalExpense),p(t.data().totalIncome),g(t.data().costFood)):fg(n,r).then((function(){return console.log("Document created successfully!")})).catch((function(t){return console.error("Error creating document: ",t)}))})).catch((function(t){console.error("Error getting document:",t)}))}}),[localStorage.getItem("uid"),d,w,k]);var T=function(){var t=Rg(Pg().mark((function t(e){var n,r,i;return Pg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Date(d),r=new Date(n.getFullYear(),n.getMonth(),1),i=new Date(n.getFullYear(),n.getMonth()+1,0),x(y(r)),S(y(i)),localStorage.setItem("firstDay",r),localStorage.setItem("lastDay",i),t.abrupt("return",f(e.target.value));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Rg(Pg().mark((function t(e){var n,i,o,f,p,m;return Pg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),a&&!isNaN(a)&&""!==a){t.next=4;break}return alert("請輸入金額"),t.abrupt("return");case 4:if(u.subType){t.next=7;break}return alert("請選擇類別"),t.abrupt("return");case 7:if("支出"!==u.type||"飲食"===u.subType||"交通"===u.subType||"娛樂"===u.subType||"其他"===u.subType||"治裝"===u.subType||"居住"===u.subType||"教育"===u.subType||"儲蓄"===u.subType){t.next=10;break}return alert("請選擇類別"),t.abrupt("return");case 10:if("收入"!==u.type||"薪資"===u.subType||"獲利"===u.subType||"禮物"===u.subType||"其他"===u.subType){t.next=13;break}return alert("請選擇類別"),t.abrupt("return");case 13:return n=dm(kg,"keeper"),i={uid:localStorage.getItem("uid"),date:d,category:u.type,subCategory:u.subType,amount:parseInt(a),memo:l},t.next=17,gg(n,i);case 17:o=d.split("-")[0],f=d.split("-")[1],p=new Date(o,f-1,1),m=new Date(o,f,0),s(""),c(""),h({type:"支出",subType:""}),r(!1),x(y(p)),S(y(m));case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I=function(){var t=Rg(Pg().mark((function t(){return Pg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i(!1),r(!n),f((new Date).toISOString().substring(0,10)),h({type:"支出",subType:""}),s(""),c("");case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),N=d.substring(0,7);return e.createElement("div",null,e.createElement("div",{className:"keeperContainer"},e.createElement("div",null),e.createElement("div",{className:"kb"},e.createElement("span",{className:"kmonth"},e.createElement(Og,{className:"preMonth",size:30,onClick:function(){var t=new Date(d);t.setMonth(t.getMonth()-1);var e=new Date(t.getFullYear(),t.getMonth(),1),n=new Date(t.getFullYear(),t.getMonth()+1,0);return f(y(t)),x(y(e)),S(y(n)),y(e),y(n)}})," ",N," ",e.createElement(Mg,{className:"nextMonth",size:30,onClick:function(){var t=new Date(d);t.setMonth(t.getMonth()+1);var e=new Date(t.getFullYear(),t.getMonth(),1),n=new Date(t.getFullYear(),t.getMonth()+1,0);return f(y(t)),x(y(e)),S(y(n)),y(e),y(n)}})),e.createElement("button",{className:"kbtn",onClick:I},"新增一筆"),n&&e.createElement("div",null,e.createElement("div",{className:"kform"},e.createElement("button",{className:"closeWindow",onClick:function(){return r(!1)}},"X"),e.createElement("form",{onSubmit:C},e.createElement("input",{className:"formDate",type:"date",value:d,min:"2020-01-01",onChange:T}),e.createElement("br",null),e.createElement("select",{className:"formCat",value:u.type,onChange:function(t){return h({type:t.target.value,subType:u.subType})}},e.createElement("option",{value:"支出"},"支出"),e.createElement("option",{value:"收入"},"收入")),"支出"===u.type&&e.createElement("select",{className:"formSub",value:u.subType,onChange:function(t){return h({type:u.type,subType:t.target.value})}},e.createElement("option",{value:""},"選擇類別"),e.createElement("option",{className:"formOp",value:"飲食"},"飲食"),e.createElement("option",{className:"formOp",value:"治裝"},"治裝"),e.createElement("option",{className:"formOp",value:"居住"},"居住"),e.createElement("option",{className:"formOp",value:"交通"},"交通"),e.createElement("option",{className:"formOp",value:"教育"},"教育"),e.createElement("option",{className:"formOp",value:"娛樂"},"娛樂"),e.createElement("option",{className:"formOp",value:"儲蓄"},"儲蓄"),e.createElement("option",{className:"formOp",value:"其他"},"其他")),"收入"===u.type&&e.createElement("select",{className:"formSub",value:u.subType,onChange:function(t){return h({type:u.type,subType:t.target.value})}},e.createElement("option",{value:""},"選擇類別"),e.createElement("option",{className:"formOp",value:"薪資"},"薪資"),e.createElement("option",{className:"formOp",value:"獲利"},"獲利"),e.createElement("option",{className:"formOp",value:"禮物"},"禮物"),e.createElement("option",{className:"formOp",value:"其他"},"其他")),e.createElement("br",null),e.createElement("input",{className:"formNum",type:"text",value:a,placeholder:"金額",minLength:1,maxLength:8,onChange:function(t){return s(t.target.value)},required:!0}),e.createElement("textarea",{className:"formMemo",type:"text",placeholder:"備註(0-10字)",maxLength:10,value:l,onChange:function(t){return c(t.target.value)}}),e.createElement("button",{className:"formBtn",type:"submit"},"新增"))),e.createElement("div",{className:"formbkg"}))),e.createElement("div",null)))};function Hg(t){return Ft({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M544 192h-16L419.22 56.02A64.025 64.025 0 0 0 369.24 32H155.33c-26.17 0-49.7 15.93-59.42 40.23L48 194.26C20.44 201.4 0 226.21 0 256v112c0 8.84 7.16 16 16 16h48c0 53.02 42.98 96 96 96s96-42.98 96-96h128c0 53.02 42.98 96 96 96s96-42.98 96-96h48c8.84 0 16-7.16 16-16v-80c0-53.02-42.98-96-96-96zM160 432c-26.47 0-48-21.53-48-48s21.53-48 48-48 48 21.53 48 48-21.53 48-48 48zm72-240H116.93l38.4-96H232v96zm48 0V96h89.24l76.8 96H280zm200 240c-26.47 0-48-21.53-48-48s21.53-48 48-48 48 21.53 48 48-21.53 48-48 48z"}}]})(t)}function Wg(t){return Ft({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"}}]})(t)}function $g(t){return Ft({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"}}]})(t)}function qg(t){return Ft({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"}}]})(t)}function Gg(t){return Ft({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 224h-29.5c-8.8-20-21.6-37.7-37.4-52.5L512 96h-32c-29.4 0-55.4 13.5-73 34.3-7.6-1.1-15.1-2.3-23-2.3H256c-77.4 0-141.9 55-156.8 128H56c-14.8 0-26.5-13.5-23.5-28.8C34.7 215.8 45.4 208 57 208h1c3.3 0 6-2.7 6-6v-20c0-3.3-2.7-6-6-6-28.5 0-53.9 20.4-57.5 48.6C-3.9 258.8 22.7 288 56 288h40c0 52.2 25.4 98.1 64 127.3V496c0 8.8 7.2 16 16 16h64c8.8 0 16-7.2 16-16v-48h128v48c0 8.8 7.2 16 16 16h64c8.8 0 16-7.2 16-16v-80.7c11.8-8.9 22.3-19.4 31.3-31.3H560c8.8 0 16-7.2 16-16V240c0-8.8-7.2-16-16-16zm-128 64c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM256 96h128c5.4 0 10.7.4 15.9.8 0-.3.1-.5.1-.8 0-53-43-96-96-96s-96 43-96 96c0 2.1.5 4.1.6 6.2 15.2-3.9 31-6.2 47.4-6.2z"}}]})(t)}function Kg(t){return Ft({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"}}]})(t)}function Qg(t){return Qg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(t)}function Yg(){Yg=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new S(i||[]);return r(a,"_invoke",{value:x(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h={};function d(){}function f(){}function p(){}var m={};l(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==e&&n.call(y,o)&&(m=y);var v=p.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,o,a,s){var l=u(t[r],t,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==Qg(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return i("throw",t,a,s)}))}s(l.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=u(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function T(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,l(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(w.prototype),l(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),l(v,s,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function Xg(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function Jg(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Xg(o,r,i,a,s,"next",t)}function s(t){Xg(o,r,i,a,s,"throw",t)}a(void 0)}))}}function Zg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const ty=function(){var t=mt(),n=(t.user,t.setUser),r=(t.showForm,t.setShowForm),i=t.showEditForm,o=t.setShowEditForm,a=t.expenses,s=(t.setExpenses,t.amount),l=t.setAmount,c=t.description,u=t.setDescription,h=t.category,d=t.setCategory,f=t.date,p=t.setDate,m=t.totalIncome,g=t.setTotalIncome,y=t.totalExpense,v=t.setTotalExpense,b=t.costFood,w=t.setCostFood,x=t.costTraffic,E=t.setCostTraffic,_=t.costPlay,k=t.setCostPlay,S=t.costOther,T=t.setCostOther,C=t.costApparel,I=t.setCostApparel,N=t.costHousing,A=t.setCostHousing,O=t.costEducate,M=t.setCostEducate,L=t.costSavings,P=t.setCostSavings,D=t.earnSalary,R=t.setEarnSalary,F=t.earnStock,z=t.setEarnStock,V=t.earnGift,B=t.setEarnGift,j=t.earnOther,U=t.setEarnOther;(0,e.useEffect)((function(){var t=Ur(xg,(function(t){n(t),t?localStorage.setItem("uid",t.uid):window.location.href="/"}));return function(){return t()}}),[]);var H=localStorage.getItem("firstDay"),W=localStorage.getItem("lastDay"),$=function(t,e){yg(Xm(dm(kg,"keeper"),Zm("uid","==",localStorage.getItem("uid")),Zm("category","==","支出"),Zm("subCategory","==",t),Zm("date",">=",H),Zm("date","<=",W)),(function(n){var r=n.docs.reduce((function(t,e){return t+e.data().amount}),0);localStorage.setItem("cost".concat(t),r),e(r)}))},q=function(t,e){yg(Xm(dm(kg,"keeper"),Zm("uid","==",localStorage.getItem("uid")),Zm("category","==","收入"),Zm("subCategory","==",t),Zm("date",">=",H),Zm("date","<=",W)),(function(n){var r=n.docs.reduce((function(t,e){return t+e.data().amount}),0);localStorage.setItem("earn".concat(t),r),e(r)}))};(0,e.useEffect)((function(){$("飲食",w),$("交通",E),$("娛樂",k),$("其他",T),$("治裝",I),$("居住",A),$("教育",M),$("儲蓄",P)}),[H,W,b,x,_,S,C,N,O,L,localStorage.getItem("uid")]),(0,e.useEffect)((function(){q("薪資",R),q("獲利",z),q("禮物",B),q("其他",U)}),[H,W,D,F,V,j,localStorage.getItem("uid")]),(0,e.useEffect)((function(){yg(Xm(dm(kg,"keeper"),Zm("uid","==",localStorage.getItem("uid")),Zm("category","==","支出"),Zm("date",">=",H),Zm("date","<=",W)),(function(t){var e=t.docs.reduce((function(t,e){return t+e.data().amount}),0);localStorage.setItem("totalExpense",e),v(e)})),yg(Xm(dm(kg,"keeper"),Zm("uid","==",localStorage.getItem("uid")),Zm("category","==","收入"),Zm("date",">=",H),Zm("date","<=",W)),(function(t){var e=t.docs.reduce((function(t,e){return t+e.data().amount}),0);localStorage.setItem("totalIncome",e),g(e)}))}),[H,W,y,m,localStorage.getItem("uid")]),(0,e.useEffect)((function(){var t=localStorage.getItem("firstDay")+localStorage.getItem("uid"),e=fm(kg,"total",t),n=parseInt(localStorage.getItem("totalExpense")),r=parseInt(localStorage.getItem("totalIncome")),i=parseInt(localStorage.getItem("cost飲食")),o=parseInt(localStorage.getItem("cost交通")),a=parseInt(localStorage.getItem("cost娛樂")),s=parseInt(localStorage.getItem("cost其他")),l=parseInt(localStorage.getItem("cost治裝")),c=parseInt(localStorage.getItem("cost居住")),u=parseInt(localStorage.getItem("cost教育")),h=parseInt(localStorage.getItem("cost儲蓄")),d=parseInt(localStorage.getItem("earn獲利")),f=parseInt(localStorage.getItem("earn禮物")),p=parseInt(localStorage.getItem("earn其他"));pg(e,{totalExpense:n,totalIncome:r,costFood:i,costTraffic:o,costPlay:a,costOther:s,costApparel:l,costHousing:c,costEducate:u,costSavings:h,earnSalary:D,earnStock:d,earnGift:f,earnOther:p})}),[H,W,b,x,_,S,C,N,O,L,localStorage.getItem("uid"),y,m]);var G,K,Q=(G=(0,e.useState)(""),K=2,function(t){if(Array.isArray(t))return t}(G)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(G,K)||function(t,e){if(t){if("string"==typeof t)return Zg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zg(t,e):void 0}}(G,K)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),Y=Q[0],X=Q[1],J=function(){var t=Jg(Yg().mark((function t(e,n,a,s,c,h){return Yg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(!1),X(e),o(!i),p(n),d({type:a,subType:s}),l(c),u(h);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r,i,o,a){return t.apply(this,arguments)}}(),Z=function(){var t=Jg(Yg().mark((function t(e){var n,r;return Yg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),console.log(Y),s&&!isNaN(s)&&""!==s){t.next=5;break}return alert("請輸入金額"),t.abrupt("return");case 5:if(h.subType){t.next=8;break}return alert("請選擇類別"),t.abrupt("return");case 8:if("支出"!==h.type||"飲食"===h.subType||"交通"===h.subType||"娛樂"===h.subType||"其他"===h.subType||"治裝"===h.subType||"居住"===h.subType||"教育"===h.subType||"儲蓄"===h.subType){t.next=11;break}return alert("請選擇類別"),t.abrupt("return");case 11:if("收入"!==h.type||"薪資"===h.subType||"獲利"===h.subType||"禮物"===h.subType||"其他"===h.subType){t.next=14;break}return alert("請選擇類別"),t.abrupt("return");case 14:return n=fm(kg,"keeper",Y),r={uid:localStorage.getItem("uid"),date:f,category:h.type,subCategory:h.subType,amount:parseInt(s),memo:c},t.next=18,fg(n,r);case 18:o(!1),d({type:"支出",subType:""}),l(""),u("");case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),tt=function(){var t=Jg(Yg().mark((function t(e){var n;return Yg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=fm(kg,"keeper",e),t.next=3,mg(n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return e.createElement("div",null,e.createElement(Ig,null),e.createElement(Ug,null),e.createElement("div",{className:"receiptContainer"},e.createElement("div",null),e.createElement("div",null,e.createElement("div",{className:"klist"},e.createElement("div",{className:"tab"}),e.createElement("div",{className:"receipt"},e.createElement("div",{className:"paper"},e.createElement("div",{className:"title"},"Account Book"),e.createElement("br",null),e.createElement("br",null),e.createElement("div",{className:"category"},e.createElement("span",null,"日期"),e.createElement("span",null,"項目"),e.createElement("span",null,"類別"),e.createElement("span",null,"金額"),e.createElement("span",null,"備註"),e.createElement("span",null),e.createElement("span",null)),e.createElement("div",{className:"table"},e.createElement("div",null,a.map((function(t){return e.createElement("li",{key:t.id,className:"lilist"},e.createElement("div",{className:"list"},e.createElement("div",{className:"date"}," ",t.date.split("-")[2]),e.createElement("div",null,t.category),e.createElement("div",null,t.subCategory),e.createElement("div",null,"$",t.amount),e.createElement("div",{className:"description"},t.memo," "),e.createElement("div",null,e.createElement(qg,{size:25,color:"#698269",className:"listEdit",onClick:function(){return J(t.id,t.date,t.category,t.subCategory,t.amount,t.memo)}},i?"hi":"hello")),e.createElement("div",null,e.createElement(Kg,{className:"listDelete",size:25,color:"#AA5656",onClick:function(){return tt(t.id)}}))))}))),e.createElement("div",{className:"tnbtn"},e.createElement(ct,{to:"/tracker"},e.createElement("input",{className:"",type:"button",value:"Track Now"})))),e.createElement("div",{className:"sign center"},e.createElement("span",{className:"barcode"},"202303210513"),e.createElement("br",null),e.createElement("div",{className:"thankyou"},"A penny saved is a penny earned")))))),e.createElement("div",null)),i&&e.createElement("div",null,e.createElement("div",{className:"form"},e.createElement("button",{className:"closeWindow",onClick:function(){return o(!1)}},"X"),e.createElement("form",{onSubmit:Z},e.createElement("input",{className:"formDate",type:"date",min:"2020-01-01",value:f,onChange:function(t){return p(t.target.value)}}),e.createElement("br",null),e.createElement("select",{className:"formCat",value:h.type,onChange:function(t){return d({type:t.target.value,subType:h.subType})}},e.createElement("option",{value:"支出"},"支出"),e.createElement("option",{value:"收入"},"收入")),"支出"===h.type&&e.createElement("select",{className:"formSub",value:h.subType,onChange:function(t){return d({type:h.type,subType:t.target.value})}},e.createElement("option",{value:""},"選擇類別"),e.createElement("option",{className:"formOp",value:"飲食"},"飲食"),e.createElement("option",{className:"formOp",value:"治裝"},"治裝"),e.createElement("option",{className:"formOp",value:"居住"},"居住"),e.createElement("option",{className:"formOp",value:"交通"},"交通"),e.createElement("option",{className:"formOp",value:"教育"},"教育"),e.createElement("option",{className:"formOp",value:"娛樂"},"娛樂"),e.createElement("option",{className:"formOp",value:"儲蓄"},"儲蓄"),e.createElement("option",{className:"formOp",value:"其他"},"其他")),"收入"===h.type&&e.createElement("select",{className:"formSub",value:h.subType,onChange:function(t){return d({type:h.type,subType:t.target.value})}},e.createElement("option",{value:""},"選擇類別"),e.createElement("option",{className:"formOp",value:"薪資"},"薪資"),e.createElement("option",{className:"formOp",value:"獲利"},"獲利"),e.createElement("option",{className:"formOp",value:"其他"},"其他")),e.createElement("br",null),e.createElement("input",{className:"formNum",type:"text",value:s,placeholder:"金額",minLength:1,maxLength:8,onChange:function(t){return l(t.target.value)},required:!0}),e.createElement("textarea",{className:"formMemo",type:"text",value:c,placeholder:"備註(0-10字)",maxLength:10,onChange:function(t){return u(t.target.value)}}),e.createElement("button",{className:"formBtn2",type:"submit"},"更新"))),e.createElement("div",{className:"formbkg"})))};var ey=i(976),ny={};ny.styleTagTransform=It(),ny.setAttributes=kt(),ny.insert=Et().bind(null,"head"),ny.domAPI=wt(),ny.insertStyleElement=Tt(),vt()(ey.Z,ny),ey.Z&&ey.Z.locals&&ey.Z.locals;var ry=i(591),iy={};function oy(t){return Ft({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M483.13 245.38C461.92 149.49 430 98.31 382.65 84.33A107.13 107.13 0 00352 80c-13.71 0-25.65 3.34-38.28 6.88C298.5 91.15 281.21 96 256 96s-42.51-4.84-57.76-9.11C185.6 83.34 173.67 80 160 80a115.74 115.74 0 00-31.73 4.32c-47.1 13.92-79 65.08-100.52 161C4.61 348.54 16 413.71 59.69 428.83a56.62 56.62 0 0018.64 3.22c29.93 0 53.93-24.93 70.33-45.34 18.53-23.1 40.22-34.82 107.34-34.82 59.95 0 84.76 8.13 106.19 34.82 13.47 16.78 26.2 28.52 38.9 35.91 16.89 9.82 33.77 12 50.16 6.37 25.82-8.81 40.62-32.1 44-69.24 2.57-28.48-1.39-65.89-12.12-114.37zM208 240h-32v32a16 16 0 01-32 0v-32h-32a16 16 0 010-32h32v-32a16 16 0 0132 0v32h32a16 16 0 010 32zm84 4a20 20 0 1120-20 20 20 0 01-20 20zm44 44a20 20 0 1120-19.95A20 20 0 01336 288zm0-88a20 20 0 1120-20 20 20 0 01-20 20zm44 44a20 20 0 1120-20 20 20 0 01-20 20z"}}]})(t)}function ay(t){return Ft({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M261.56 101.28a8 8 0 00-11.06 0L66.4 277.15a8 8 0 00-2.47 5.79L63.9 448a32 32 0 0032 32H192a16 16 0 0016-16V328a8 8 0 018-8h80a8 8 0 018 8v136a16 16 0 0016 16h96.06a32 32 0 0032-32V282.94a8 8 0 00-2.47-5.79z"}},{tag:"path",attr:{d:"M490.91 244.15l-74.8-71.56V64a16 16 0 00-16-16h-48a16 16 0 00-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0043 267.56L250.5 69.28a8 8 0 0111.06 0l207.52 198.28a16 16 0 0022.59-.44c6.14-6.36 5.63-16.86-.76-22.97z"}}]})(t)}function sy(t){return Ft({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18.06 22.99h1.66c.84 0 1.53-.64 1.63-1.46L23 5.05h-5V1h-1.97v4.05h-4.97l.3 2.34c1.71.47 3.31 1.32 4.27 2.26 1.44 1.42 2.43 2.89 2.43 5.29v8.05zM1 21.99V21h15.03v.99c0 .55-.45 1-1.01 1H2.01c-.56 0-1.01-.45-1.01-1zm15.03-7c0-8-15.03-8-15.03 0h15.03zM1.02 17h15v2h-15z"}}]})(t)}function ly(t){return Ft({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM5.92 19H5v-.92l9.06-9.06.92.92L5.92 19zM20.71 5.63l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83a.996.996 0 000-1.41z"}}]})(t)}function cy(t){return Ft({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M133.3 33.41L77.89 47.25 34.6 148.3l33.29 22.2 27.46-54.9 17.05 4.9-15.07 150.1H245.2l9.2-87.9.9-8.1h4.5l-5.4-54.1 17.1-4.9 27.4 54.9 33.3-22.2-43.3-101.05-55.4-13.84c-5.5 3.87-12.2 6.21-19.5 7.95-9.4 2.21-20 3.24-30.6 3.24-10.6 0-21.2-1.03-30.6-3.24-7.3-1.74-14-4.07-19.5-7.95zM271.5 192.6l-1.5 14h178.8l-1.5-14zm-3.4 32l-26.7 254h62.7l46.5-216.9h17.6l46.5 216.9h62.7l-26.7-254z"}}]})(t)}function uy(t){return Ft({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"}},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"}}]})(t)}function hy(t){return hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hy(t)}function dy(){dy=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new S(i||[]);return r(a,"_invoke",{value:x(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h={};function d(){}function f(){}function p(){}var m={};l(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==e&&n.call(y,o)&&(m=y);var v=p.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,o,a,s){var l=u(t[r],t,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==hy(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return i("throw",t,a,s)}))}s(l.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=u(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function T(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,l(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(w.prototype),l(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),l(v,s,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function fy(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function py(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){fy(o,r,i,a,s,"next",t)}function s(t){fy(o,r,i,a,s,"throw",t)}a(void 0)}))}}function my(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return gy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gy(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gy(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}iy.styleTagTransform=It(),iy.setAttributes=kt(),iy.insert=Et().bind(null,"head"),iy.domAPI=wt(),iy.insertStyleElement=Tt(),vt()(ry.Z,iy),ry.Z&&ry.Z.locals&&ry.Z.locals;const yy=function(){var t=mt(),n=(t.user,t.setUser),r=t.date,i=(t.setDate,t.food),o=t.setFood,a=t.traffic,s=t.setTraffic,l=t.play,c=t.setPlay,u=t.other,h=t.setOther,d=t.costFood,f=(t.setCostFood,t.costTraffic),p=(t.setCostTraffic,t.costPlay),m=(t.setCostPlay,t.costOther),g=(t.setCostOther,t.costApparel),y=(t.setCostApparel,t.costHousing),v=(t.setCostHousing,t.costEducate),b=(t.setCostEducate,t.costSavings),w=(t.setCostSavings,t.apparel),x=t.setApparel,E=t.housing,_=t.setHousing,k=t.educate,S=t.setEducate,T=t.savings,C=t.setSavings,I=my((0,e.useState)(!1),2),N=I[0],A=I[1],O=my((0,e.useState)(!1),2),M=O[0],L=O[1],P=my((0,e.useState)(!1),2),D=P[0],R=P[1],F=my((0,e.useState)(!1),2),z=F[0],V=F[1],B=my((0,e.useState)(!1),2),j=B[0],U=B[1],H=my((0,e.useState)(!1),2),W=H[0],$=H[1],q=my((0,e.useState)(!1),2),G=q[0],K=q[1],Q=my((0,e.useState)(!1),2),Y=Q[0],X=Q[1];(0,e.useEffect)((function(){var t=Ur(xg,(function(t){n(t),t||(window.location.href="/")}));return function(){return t()}}),[]),(0,e.useEffect)((function(){var t=localStorage.getItem("firstDay"),e=localStorage.getItem("uid");if(t&&e){var n=fm(kg,"budget",t+e),r={food:0,traffic:0,play:0,other:0,apparel:0,housing:0,educate:0,savings:0};hg(n).then((function(t){t.exists()?(o(t.data().food),s(t.data().traffic),c(t.data().play),h(t.data().other),x(t.data().apparel),_(t.data().housing),S(t.data().educate),C(t.data().savings)):fg(n,r).then((function(){return console.log("Document created successfully!")})).catch((function(t){return console.error("Error creating document: ",t)}))})).catch((function(t){console.error("Error getting document:",t)}))}}),[]);var J=function(){var t=py(dy().mark((function t(){var e,n,r;return dy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i&&!isNaN(i)&&""!==i){t.next=3;break}return alert("請輸入預算"),t.abrupt("return");case 3:return e=localStorage.getItem("firstDay")+localStorage.getItem("uid"),n=fm(kg,"budget",e),r={food:parseInt(i)},t.next=8,pg(n,r);case 8:A(null);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Z=function(){var t=py(dy().mark((function t(){var e,n,r;return dy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a&&!isNaN(a)&&""!==a){t.next=3;break}return alert("請輸入預算"),t.abrupt("return");case 3:return e=localStorage.getItem("firstDay")+localStorage.getItem("uid"),n=fm(kg,"budget",e),r={traffic:parseInt(a)},t.next=8,pg(n,r);case 8:L(null);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),tt=function(){var t=py(dy().mark((function t(){var e,n,r;return dy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u&&!isNaN(u)&&""!==u){t.next=3;break}return alert("請輸入預算"),t.abrupt("return");case 3:return e=localStorage.getItem("firstDay")+localStorage.getItem("uid"),n=fm(kg,"budget",e),r={other:parseInt(u)},t.next=8,pg(n,r);case 8:V(null);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),et=function(){var t=py(dy().mark((function t(){var e,n,r;return dy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l&&!isNaN(l)&&""!==l){t.next=3;break}return alert("請輸入預算"),t.abrupt("return");case 3:return e=localStorage.getItem("firstDay")+localStorage.getItem("uid"),n=fm(kg,"budget",e),r={play:parseInt(l)},t.next=8,pg(n,r);case 8:R(null);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),nt=function(){var t=py(dy().mark((function t(){var e,n,r;return dy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w&&!isNaN(w)&&""!==w){t.next=3;break}return alert("請輸入預算"),t.abrupt("return");case 3:return e=localStorage.getItem("firstDay")+localStorage.getItem("uid"),n=fm(kg,"budget",e),r={apparel:parseInt(w)},t.next=8,pg(n,r);case 8:U(null);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),rt=function(){var t=py(dy().mark((function t(){var e,n,r;return dy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(E&&!isNaN(E)&&""!==E){t.next=3;break}return alert("請輸入預算"),t.abrupt("return");case 3:return e=localStorage.getItem("firstDay")+localStorage.getItem("uid"),n=fm(kg,"budget",e),r={housing:parseInt(E)},t.next=8,pg(n,r);case 8:$(null);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),it=function(){var t=py(dy().mark((function t(){var e,n,r;return dy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(k&&!isNaN(k)&&""!==k){t.next=3;break}return alert("請輸入預算"),t.abrupt("return");case 3:return e=localStorage.getItem("firstDay")+localStorage.getItem("uid"),n=fm(kg,"budget",e),r={educate:parseInt(k)},t.next=8,pg(n,r);case 8:K(null);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ot=function(){var t=py(dy().mark((function t(){var e,n,r;return dy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(T&&!isNaN(T)&&""!==T){t.next=3;break}return alert("請輸入預算"),t.abrupt("return");case 3:return e=localStorage.getItem("firstDay")+localStorage.getItem("uid"),n=fm(kg,"budget",e),r={savings:parseInt(T)},t.next=8,pg(n,r);case 8:X(null);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),at=localStorage.getItem("cost飲食"),st=localStorage.getItem("cost交通"),lt=localStorage.getItem("cost娛樂"),ct=localStorage.getItem("cost其他"),ut=localStorage.getItem("cost治裝"),ht=localStorage.getItem("cost居住"),dt=localStorage.getItem("cost教育"),ft=localStorage.getItem("cost儲蓄"),pt=(localStorage.getItem("firstDay")||r).substring(0,7);return e.createElement("div",null,e.createElement(Ig,null),e.createElement("div",{className:"keeperContainer2"},e.createElement("div",null),e.createElement("div",{className:"kb"},e.createElement("span",{className:"kmonth2"}," ",pt," "),e.createElement("div",{className:"budget"},"待分配預算   ",localStorage.getItem("totalIncome")-i-a-l-u-w-E-k-T)),e.createElement("div",null)),e.createElement("div",{className:"trackerContainer"},e.createElement("div",null),e.createElement("div",{className:"tc"},e.createElement("div",{className:"trackerCard"},e.createElement("div",{className:"trackerPic"},e.createElement(sy,{className:"tpic",size:40}),e.createElement("br",null),e.createElement("span",{className:"trackerCategory"},"Food")),e.createElement("div",{className:"trackerMain"},e.createElement("div",{className:"trackerBudget"},e.createElement("div",null,e.createElement("div",{className:"tbn"},"預算"),e.createElement("div",{className:"tbm"},N?e.createElement(e.Fragment,null,e.createElement("input",{type:"text",className:"binput",value:i,minLength:1,maxLength:8,required:!0,onChange:function(t){return o(t.target.value)}}),e.createElement("button",{className:"tickicon",onClick:J},"✔")):e.createElement(e.Fragment,null,e.createElement("span",null,i),e.createElement(uy,{className:"editicon",size:20,onClick:function(){return A(!0)}})))),e.createElement("div",null,e.createElement("div",{className:"tbn"},"使用"),e.createElement("div",{className:"tbm"},d||at)),e.createElement("div",null,e.createElement("div",{className:"tbn"},"剩餘"),e.createElement("div",{className:"tbm"},i-(d||at)))),e.createElement("div",{className:"pBar"},e.createElement("div",{className:"progress-bar"},0!=i&&0!=(d||at)?e.createElement("span",{className:"progress-bar__inner",style:{width:(d||at)/i*100*3}},e.createElement("span",{className:"progress-bar__percent"},Math.round((d||at)/i*100),"%")):e.createElement("div",{className:"needMoreBar"},"need more data"))))),e.createElement("div",{className:"trackerCard"},e.createElement("div",{className:"trackerPic"},e.createElement(cy,{className:"tpic",size:45}),e.createElement("br",null),e.createElement("span",{className:"trackerCategory"},"Apparel")),e.createElement("div",{className:"trackerMain"},e.createElement("div",{className:"trackerBudget"},e.createElement("div",null,e.createElement("div",{className:"tbn"},"預算"),e.createElement("div",{className:"tbm"},j?e.createElement(e.Fragment,null,e.createElement("input",{type:"text",className:"binput",value:w,minLength:1,maxLength:8,required:!0,onChange:function(t){return x(t.target.value)}}),e.createElement("button",{className:"tickicon",onClick:nt},"✔")):e.createElement(e.Fragment,null,e.createElement("span",null,w),e.createElement(uy,{className:"editicon",size:20,onClick:function(){return U(!0)}})))),e.createElement("div",null,e.createElement("div",{className:"tbn"},"使用"),e.createElement("div",{className:"tbm"},g||ut)),e.createElement("div",null,e.createElement("div",{className:"tbn"},"剩餘"),e.createElement("div",{className:"tbm"},w-(g||ut)))),e.createElement("div",{className:"pBar"},e.createElement("div",{className:"progress-bar"},0!=w&&0!=(g||ut)?e.createElement("span",{className:"progress-bar__inner",style:{width:(g||ut)/w*100*3}},e.createElement("span",{className:"progress-bar__percent"},Math.round((g||ut)/w*100),"%")):e.createElement("div",{className:"needMoreBar"},"need more data"))))),e.createElement("div",{className:"trackerCard"},e.createElement("div",{className:"trackerPic"},e.createElement(ay,{className:"tpic",size:35}),e.createElement("br",null),e.createElement("span",{className:"trackerCategory"},"Housing")),e.createElement("div",{className:"trackerMain"},e.createElement("div",{className:"trackerBudget"},e.createElement("div",null,e.createElement("div",{className:"tbn"},"預算"),e.createElement("div",{className:"tbm"},W?e.createElement(e.Fragment,null,e.createElement("input",{type:"text",className:"binput",value:E,minLength:1,maxLength:8,required:!0,onChange:function(t){return _(t.target.value)}}),e.createElement("button",{className:"tickicon",onClick:rt},"✔")):e.createElement(e.Fragment,null,e.createElement("span",null,E),e.createElement(uy,{className:"editicon",size:20,onClick:function(){return $(!0)}})))),e.createElement("div",null,e.createElement("div",{className:"tbn"},"使用"),e.createElement("div",{className:"tbm"},y||ht)),e.createElement("div",null,e.createElement("div",{className:"tbn"},"剩餘"),e.createElement("div",{className:"tbm"},E-(y||ht)))),e.createElement("div",{className:"pBar"},e.createElement("div",{className:"progress-bar"},0!=E&&y||0!=ht?e.createElement("span",{className:"progress-bar__inner",style:{width:(y||ht)/E*100*3}},e.createElement("span",{className:"progress-bar__percent"},Math.round((y||ht)/E*100),"%")):e.createElement("div",{className:"needMoreBar"},"need more data"))))),e.createElement("div",{className:"trackerCard"},e.createElement("div",{className:"trackerPic"},e.createElement(Hg,{className:"tpic",size:38}),e.createElement("br",null),e.createElement("span",{className:"trackerCategory"},"Traffic")),e.createElement("div",{className:"trackerMain"},e.createElement("div",{className:"trackerBudget"},e.createElement("div",null,e.createElement("div",{className:"tbn"},"預算"),e.createElement("div",{className:"tbm"},M?e.createElement(e.Fragment,null,e.createElement("input",{type:"text",className:"binput",minLength:1,maxLength:8,value:a,required:!0,onChange:function(t){return s(t.target.value)}}),e.createElement("button",{className:"tickicon",onClick:Z},"✔")):e.createElement(e.Fragment,null,e.createElement("span",null,a),e.createElement(uy,{className:"editicon",size:20,onClick:function(){return L(!0)}})))),e.createElement("div",null,e.createElement("div",{className:"tbn"},"使用"),e.createElement("div",{className:"tbm"},f||st)),e.createElement("div",null,e.createElement("div",{className:"tbn"},"剩餘"),e.createElement("div",{className:"tbm"},a-(f||st)))),e.createElement("div",{className:"pBar"},e.createElement("div",{className:"progress-bar"},0!=a&&0!=(f||st)?e.createElement("span",{className:"progress-bar__inner",style:{width:(f||st)/a*100*3}},e.createElement("span",{className:"progress-bar__percent"},Math.round((f||st)/a*100),"%")):e.createElement("div",{className:"needMoreBar"},"need more data"))))),e.createElement("div",{className:"trackerCard"},e.createElement("div",{className:"trackerPic"},e.createElement($g,{className:"tpic",size:40}),e.createElement("br",null),e.createElement("span",{className:"trackerCategory"},"Educate")),e.createElement("div",{className:"trackerMain"},e.createElement("div",{className:"trackerBudget"},e.createElement("div",null,e.createElement("div",{className:"tbn"},"預算"),e.createElement("div",{className:"tbm"},G?e.createElement(e.Fragment,null,e.createElement("input",{type:"text",className:"binput",value:k,minLength:1,maxLength:8,required:!0,onChange:function(t){return S(t.target.value)}}),e.createElement("button",{className:"tickicon",onClick:it},"✔")):e.createElement(e.Fragment,null,e.createElement("span",null,k),e.createElement(uy,{className:"editicon",size:20,onClick:function(){return K(!0)}})))),e.createElement("div",null,e.createElement("div",{className:"tbn"},"使用"),e.createElement("div",{className:"tbm"},v||dt)),e.createElement("div",null,e.createElement("div",{className:"tbn"},"剩餘"),e.createElement("div",{className:"tbm"},k-(v||dt)))),e.createElement("div",{className:"pBar"},e.createElement("div",{className:"progress-bar"},0!=k&&0!=(v||dt)?e.createElement("span",{className:"progress-bar__inner",style:{width:(v||dt)/k*100*3}},e.createElement("span",{className:"progress-bar__percent"},Math.round((v||dt)/k*100),"%")):e.createElement("div",{className:"needMoreBar"},"need more data"))))),e.createElement("div",{className:"trackerCard"},e.createElement("div",{className:"trackerPic"},e.createElement(oy,{className:"tpic",size:35}),e.createElement("br",null),e.createElement("span",{className:"trackerCategory"},"Fun")),e.createElement("div",{className:"trackerMain"},e.createElement("div",{className:"trackerBudget"},e.createElement("div",null,e.createElement("div",{className:"tbn"},"預算"),e.createElement("div",{className:"tbm"},D?e.createElement(e.Fragment,null,e.createElement("input",{type:"text",className:"binput",minLength:1,maxLength:8,value:l,required:!0,onChange:function(t){return c(t.target.value)}}),e.createElement("button",{className:"tickicon",onClick:et},"✔")):e.createElement(e.Fragment,null,e.createElement("span",null,l),e.createElement(uy,{className:"editicon",size:20,onClick:function(){return R(!0)}})))),e.createElement("div",null,e.createElement("div",{className:"tbn"},"使用"),e.createElement("div",{className:"tbm"},p||lt)),e.createElement("div",null,e.createElement("div",{className:"tbn"},"剩餘"),e.createElement("div",{className:"tbm"},l-(p||lt)))),e.createElement("div",{className:"pBar"},e.createElement("div",{className:"progress-bar"},0!=l&&0!=(p||lt)?e.createElement("span",{className:"progress-bar__inner",style:{width:(p||lt)/l*100*3}},e.createElement("span",{className:"progress-bar__percent"},Math.round((p||lt)/l*100),"%")):e.createElement("div",{className:"needMoreBar"},"need more data"))))),e.createElement("div",{className:"trackerCard"},e.createElement("div",{className:"trackerPic"},e.createElement(Gg,{className:"tpic",size:35}),e.createElement("br",null),e.createElement("span",{className:"trackerCategory"},"Savings")),e.createElement("div",{className:"trackerMain"},e.createElement("div",{className:"trackerBudget"},e.createElement("div",null,e.createElement("div",{className:"tbn"},"預算"),e.createElement("div",{className:"tbm"},Y?e.createElement(e.Fragment,null,e.createElement("input",{type:"text",className:"binput",value:T,minLength:1,maxLength:8,required:!0,onChange:function(t){return C(t.target.value)}}),e.createElement("button",{className:"tickicon",onClick:ot},"✔")):e.createElement(e.Fragment,null,e.createElement("span",null,T),e.createElement(uy,{className:"editicon",size:20,onClick:function(){return X(!0)}})))),e.createElement("div",null,e.createElement("div",{className:"tbn"},"使用"),e.createElement("div",{className:"tbm"},b||ft)),e.createElement("div",null,e.createElement("div",{className:"tbn"},"剩餘"),e.createElement("div",{className:"tbm"},T-(b||ft)))),e.createElement("div",{className:"pBar"},e.createElement("div",{className:"progress-bar"},0!=T&&0!=(b||ft)?e.createElement("span",{className:"progress-bar__inner",style:{width:(b||ft)/T*100*3}},e.createElement("span",{className:"progress-bar__percent"},Math.round((b||ft)/T*100),"%")):e.createElement("div",{className:"needMoreBar"},"need more data"))))),e.createElement("div",{className:"trackerCard"},e.createElement("div",{className:"trackerPic"},e.createElement(Wg,{className:"tpic",size:35}),e.createElement("br",null),e.createElement("span",{className:"trackerCategory"},"Other")),e.createElement("div",{className:"trackerMain"},e.createElement("div",{className:"trackerBudget"},e.createElement("div",null,e.createElement("div",{className:"tbn"},"預算"),e.createElement("div",{className:"tbm"},z?e.createElement(e.Fragment,null,e.createElement("input",{type:"text",className:"binput",minLength:1,maxLength:8,value:u,required:!0,onChange:function(t){return h(t.target.value)}}),e.createElement("button",{className:"tickicon",onClick:tt},"✔")):e.createElement(e.Fragment,null,e.createElement("span",null,u),e.createElement(uy,{className:"editicon",size:20,onClick:function(){return V(!0)}})))),e.createElement("div",null,e.createElement("div",{className:"tbn"},"使用"),e.createElement("div",{className:"tbm"},m||ct)),e.createElement("div",null,e.createElement("div",{className:"tbn"},"剩餘"),e.createElement("div",{className:"tbm"},u-(m||ct)))),e.createElement("div",{className:"pBar"},e.createElement("div",{className:"progress-bar"},0!=u&&0!=(m||ct)?e.createElement("span",{className:"progress-bar__inner",style:{width:(m||ct)/u*100*3}},e.createElement("span",{className:"progress-bar__percent"},Math.round((m||ct)/u*100),"%")):e.createElement("div",{className:"needMoreBar"},"need more data")))))),e.createElement("div",null)))};var vy=i(945),by={};function wy(t){return t+.5|0}by.styleTagTransform=It(),by.setAttributes=kt(),by.insert=Et().bind(null,"head"),by.domAPI=wt(),by.insertStyleElement=Tt(),vt()(vy.Z,by),vy.Z&&vy.Z.locals&&vy.Z.locals;const xy=(t,e,n)=>Math.max(Math.min(t,n),e);function Ey(t){return xy(wy(2.55*t),0,255)}function _y(t){return xy(wy(255*t),0,255)}function ky(t){return xy(wy(t/2.55)/100,0,1)}function Sy(t){return xy(wy(100*t),0,100)}const Ty={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Cy=[..."0123456789ABCDEF"],Iy=t=>Cy[15&t],Ny=t=>Cy[(240&t)>>4]+Cy[15&t],Ay=t=>(240&t)>>4==(15&t);const Oy=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function My(t,e,n){const r=e*Math.min(n,1-n),i=(e,i=(e+t/30)%12)=>n-r*Math.max(Math.min(i-3,9-i,1),-1);return[i(0),i(8),i(4)]}function Ly(t,e,n){const r=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function Py(t,e,n){const r=My(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function Dy(t){const e=t.r/255,n=t.g/255,r=t.b/255,i=Math.max(e,n,r),o=Math.min(e,n,r),a=(i+o)/2;let s,l,c;return i!==o&&(c=i-o,l=a>.5?c/(2-i-o):c/(i+o),s=function(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}(e,n,r,c,i),s=60*s+.5),[0|s,l||0,a]}function Ry(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(_y)}function Fy(t,e,n){return Ry(My,t,e,n)}function zy(t){return(t%360+360)%360}const Vy={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},By={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let jy;const Uy=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Hy=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,Wy=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function $y(t,e,n){if(t){let r=Dy(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,0===e?360:1)),r=Fy(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function qy(t,e){return t?Object.assign(e||{},t):t}function Gy(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=_y(t[3]))):(e=qy(t,{r:0,g:0,b:0,a:1})).a=_y(e.a),e}function Ky(t){return"r"===t.charAt(0)?function(t){const e=Uy.exec(t);let n,r,i,o=255;if(e){if(e[7]!==n){const t=+e[7];o=e[8]?Ey(t):xy(255*t,0,255)}return n=+e[1],r=+e[3],i=+e[5],n=255&(e[2]?Ey(n):xy(n,0,255)),r=255&(e[4]?Ey(r):xy(r,0,255)),i=255&(e[6]?Ey(i):xy(i,0,255)),{r:n,g:r,b:i,a:o}}}(t):function(t){const e=Oy.exec(t);let n,r=255;if(!e)return;e[5]!==n&&(r=e[6]?Ey(+e[5]):_y(+e[5]));const i=zy(+e[2]),o=+e[3]/100,a=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return Ry(Py,t,e,n)}(i,o,a):"hsv"===e[1]?function(t,e,n){return Ry(Ly,t,e,n)}(i,o,a):Fy(i,o,a),{r:n[0],g:n[1],b:n[2],a:r}}(t)}class Qy{constructor(t){if(t instanceof Qy)return t;const e=typeof t;let n;var r,i,o;"object"===e?n=Gy(t):"string"===e&&(o=(r=t).length,"#"===r[0]&&(4===o||5===o?i={r:255&17*Ty[r[1]],g:255&17*Ty[r[2]],b:255&17*Ty[r[3]],a:5===o?17*Ty[r[4]]:255}:7!==o&&9!==o||(i={r:Ty[r[1]]<<4|Ty[r[2]],g:Ty[r[3]]<<4|Ty[r[4]],b:Ty[r[5]]<<4|Ty[r[6]],a:9===o?Ty[r[7]]<<4|Ty[r[8]]:255})),n=i||function(t){jy||(jy=function(){const t={},e=Object.keys(By),n=Object.keys(Vy);let r,i,o,a,s;for(r=0;r<e.length;r++){for(a=s=e[r],i=0;i<n.length;i++)o=n[i],s=s.replace(o,Vy[o]);o=parseInt(By[a],16),t[s]=[o>>16&255,o>>8&255,255&o]}return t}(),jy.transparent=[0,0,0,0]);const e=jy[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}(t)||Ky(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=qy(this._rgb);return t&&(t.a=ky(t.a)),t}set rgb(t){this._rgb=Gy(t)}rgbString(){return this._valid?function(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ky(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}(this._rgb):void 0}hexString(){return this._valid?function(t){var e=(t=>Ay(t.r)&&Ay(t.g)&&Ay(t.b)&&Ay(t.a))(t)?Iy:Ny;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=Dy(t),n=e[0],r=Sy(e[1]),i=Sy(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${ky(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,r=t.rgb;let i;const o=e===i?.5:e,a=2*o-1,s=n.a-r.a,l=((a*s==-1?a:(a+s)/(1+a*s))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,n){const r=Wy(ky(t.r)),i=Wy(ky(t.g)),o=Wy(ky(t.b));return{r:_y(Hy(r+n*(Wy(ky(e.r))-r))),g:_y(Hy(i+n*(Wy(ky(e.g))-i))),b:_y(Hy(o+n*(Wy(ky(e.b))-o))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new Qy(this.rgb)}alpha(t){return this._rgb.a=_y(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=wy(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return $y(this._rgb,2,t),this}darken(t){return $y(this._rgb,2,-t),this}saturate(t){return $y(this._rgb,1,t),this}desaturate(t){return $y(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=Dy(t);n[0]=zy(n[0]+e),n=Fy(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function Yy(){}const Xy=(()=>{let t=0;return()=>t++})();function Jy(t){return null==t}function Zy(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function tv(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function ev(t){return("number"==typeof t||t instanceof Number)&&isFinite(+t)}function nv(t,e){return ev(t)?t:e}function rv(t,e){return void 0===t?e:t}const iv=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ov(t,e,n){if(t&&"function"==typeof t.call)return t.apply(n,e)}function av(t,e,n,r){let i,o,a;if(Zy(t))if(o=t.length,r)for(i=o-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<o;i++)e.call(n,t[i],i);else if(tv(t))for(a=Object.keys(t),o=a.length,i=0;i<o;i++)e.call(n,t[a[i]],a[i])}function sv(t,e){let n,r,i,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],o=e[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function lv(t){if(Zy(t))return t.map(lv);if(tv(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=lv(t[n[i]]);return e}return t}function cv(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function uv(t,e,n,r){if(!cv(t))return;const i=e[t],o=n[t];tv(i)&&tv(o)?hv(i,o,r):e[t]=lv(o)}function hv(t,e,n){const r=Zy(e)?e:[e],i=r.length;if(!tv(t))return t;const o=(n=n||{}).merger||uv;let a;for(let e=0;e<i;++e){if(a=r[e],!tv(a))continue;const i=Object.keys(a);for(let e=0,r=i.length;e<r;++e)o(i[e],t,a,n)}return t}function dv(t,e){return hv(t,e,{merger:fv})}function fv(t,e,n){if(!cv(t))return;const r=e[t],i=n[t];tv(r)&&tv(i)?dv(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=lv(i))}const pv={"":t=>t,x:t=>t.x,y:t=>t.y};function mv(t,e){const n=pv[e]||(pv[e]=function(t){const e=function(t){const e=t.split("."),n=[];let r="";for(const t of e)r+=t,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}(e));return n(t)}function gv(t){return t.charAt(0).toUpperCase()+t.slice(1)}const yv=t=>void 0!==t,vv=t=>"function"==typeof t,bv=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0},wv=Math.PI,xv=2*wv,Ev=xv+wv,_v=Number.POSITIVE_INFINITY,kv=wv/180,Sv=wv/2,Tv=wv/4,Cv=2*wv/3,Iv=Math.log10,Nv=Math.sign;function Av(t,e,n){return Math.abs(t-e)<n}function Ov(t){const e=Math.round(t);t=Av(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Iv(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Mv(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Lv(t,e,n){let r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Pv(t){return t*(wv/180)}function Dv(t){return t*(180/wv)}function Rv(t){if(!ev(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Fv(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*wv&&(o+=xv),{angle:o,distance:i}}function zv(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Vv(t,e){return(t-e+Ev)%xv-wv}function Bv(t){return(t%xv+xv)%xv}function jv(t,e,n,r){const i=Bv(t),o=Bv(e),a=Bv(n),s=Bv(o-i),l=Bv(a-i),c=Bv(i-o),u=Bv(i-a);return i===o||i===a||r&&o===a||s>l&&c<u}function Uv(t,e,n){return Math.max(e,Math.min(n,t))}function Hv(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Wv(t,e,n){n=n||(n=>t[n]<e);let r,i=t.length-1,o=0;for(;i-o>1;)r=o+i>>1,n(r)?o=r:i=r;return{lo:o,hi:i}}const $v=(t,e,n,r)=>Wv(t,n,r?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),qv=(t,e,n)=>Wv(t,n,(r=>t[r][e]>=n)),Gv=["push","pop","shift","splice","unshift"];function Kv(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);-1!==i&&r.splice(i,1),r.length>0||(Gv.forEach((e=>{delete t[e]})),delete t._chartjs)}function Qv(t){const e=new Set;let n,r;for(n=0,r=t.length;n<r;++n)e.add(t[n]);return e.size===r?t:Array.from(e)}const Yv="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function Xv(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,Yv.call(window,(()=>{r=!1,t.apply(e,n)})))}}const Jv=t=>"start"===t?"left":"end"===t?"right":"center",Zv=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;function tb(t,e,n){const r=e.length;let i=0,o=r;if(t._sorted){const{iScale:a,_parsed:s}=t,l=a.axis,{min:c,max:u,minDefined:h,maxDefined:d}=a.getUserBounds();h&&(i=Uv(Math.min($v(s,a.axis,c).lo,n?r:$v(e,l,a.getPixelForValue(c)).lo),0,r-1)),o=d?Uv(Math.max($v(s,a.axis,u,!0).hi+1,n?0:$v(e,l,a.getPixelForValue(u),!0).hi+1),i,r)-i:r-i}return{start:i,count:o}}function eb(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),o}const nb=t=>0===t||1===t,rb=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*xv/n),ib=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*xv/n)+1,ob={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*Sv),easeOutSine:t=>Math.sin(t*Sv),easeInOutSine:t=>-.5*(Math.cos(wv*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>nb(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>nb(t)?t:rb(t,.075,.3),easeOutElastic:t=>nb(t)?t:ib(t,.075,.3),easeInOutElastic(t){const e=.1125;return nb(t)?t:t<.5?.5*rb(2*t,e,.45):.5+.5*ib(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-ob.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*ob.easeInBounce(2*t):.5*ob.easeOutBounce(2*t-1)+.5};function ab(t){if(t&&"object"==typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function sb(t){return ab(t)?t:new Qy(t)}function lb(t){return ab(t)?t:new Qy(t).saturate(.5).darken(.1).hexString()}const cb=["x","y","borderWidth","radius","tension"],ub=["color","borderColor","backgroundColor"],hb=new Map;function db(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let r=hb.get(n);return r||(r=new Intl.NumberFormat(t,e),hb.set(n,r)),r}(e,n).format(t)}const fb={values:t=>Zy(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const r=this.chart.options.locale;let i,o=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(i="scientific"),o=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}(t,n)}const a=Iv(Math.abs(o)),s=Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),db(t,r,l)},logarithmic(t,e,n){if(0===t)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(Iv(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?fb.numeric.call(this,t,e,n):""}};var pb={formatters:fb};const mb=Object.create(null),gb=Object.create(null);function yb(t,e){if(!e)return t;const n=e.split(".");for(let e=0,r=n.length;e<r;++e){const r=n[e];t=t[r]||(t[r]=Object.create(null))}return t}function vb(t,e,n){return"string"==typeof e?hv(yb(t,e),n):hv(yb(t,""),e)}class bb{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>lb(e.backgroundColor),this.hoverBorderColor=(t,e)=>lb(e.borderColor),this.hoverColor=(t,e)=>lb(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return vb(this,t,e)}get(t){return yb(this,t)}describe(t,e){return vb(gb,t,e)}override(t,e){return vb(mb,t,e)}route(t,e,n,r){const i=yb(this,t),o=yb(this,n),a="_"+e;Object.defineProperties(i,{[a]:{value:i[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[a],e=o[r];return tv(t)?Object.assign({},e,t):rv(t,e)},set(t){this[a]=t}}})}apply(t){t.forEach((t=>t(this)))}}var wb=new bb({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:ub},numbers:{type:"number",properties:cb}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pb.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function xb(t,e,n,r,i){let o=e[i];return o||(o=e[i]=t.measureText(i).width,n.push(i)),o>r&&(r=o),r}function Eb(t,e,n,r){let i=(r=r||{}).data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},o=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let a=0;const s=n.length;let l,c,u,h,d;for(l=0;l<s;l++)if(h=n[l],null!=h&&!0!==Zy(h))a=xb(t,i,o,a,h);else if(Zy(h))for(c=0,u=h.length;c<u;c++)d=h[c],null==d||Zy(d)||(a=xb(t,i,o,a,d));t.restore();const f=o.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[o[l]];o.splice(0,f)}return a}function _b(t,e,n){const r=t.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function kb(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Sb(t,e,n,r){Tb(t,e,n,r,null)}function Tb(t,e,n,r,i){let o,a,s,l,c,u,h,d;const f=e.pointStyle,p=e.rotation,m=e.radius;let g=(p||0)*kv;if(f&&"object"==typeof f&&(o=f.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(n,r),t.rotate(g),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(m)||m<=0)){switch(t.beginPath(),f){default:i?t.ellipse(n,r,i/2,m,0,0,xv):t.arc(n,r,m,0,xv),t.closePath();break;case"triangle":u=i?i/2:m,t.moveTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=Cv,t.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=Cv,t.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),t.closePath();break;case"rectRounded":c=.516*m,l=m-c,a=Math.cos(g+Tv)*l,h=Math.cos(g+Tv)*(i?i/2-c:l),s=Math.sin(g+Tv)*l,d=Math.sin(g+Tv)*(i?i/2-c:l),t.arc(n-h,r-s,c,g-wv,g-Sv),t.arc(n+d,r-a,c,g-Sv,g),t.arc(n+h,r+s,c,g,g+Sv),t.arc(n-d,r+a,c,g+Sv,g+wv),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}g+=Tv;case"rectRot":h=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,s=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),t.moveTo(n-h,r-s),t.lineTo(n+d,r-a),t.lineTo(n+h,r+s),t.lineTo(n-d,r+a),t.closePath();break;case"crossRot":g+=Tv;case"cross":h=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,s=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),t.moveTo(n-h,r-s),t.lineTo(n+h,r+s),t.moveTo(n+d,r-a),t.lineTo(n-d,r+a);break;case"star":h=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,s=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),t.moveTo(n-h,r-s),t.lineTo(n+h,r+s),t.moveTo(n+d,r-a),t.lineTo(n-d,r+a),g+=Tv,h=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,s=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),t.moveTo(n-h,r-s),t.lineTo(n+h,r+s),t.moveTo(n+d,r-a),t.lineTo(n-d,r+a);break;case"line":a=i?i/2:Math.cos(g)*m,s=Math.sin(g)*m,t.moveTo(n-a,r-s),t.lineTo(n+a,r+s);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(g)*(i?i/2:m),r+Math.sin(g)*m);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function Cb(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Ib(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Nb(t){t.restore()}function Ab(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if("middle"===i){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else"after"===i!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Ob(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Mb(t,e,n,r,i,o={}){const a=Zy(e)?e:[e],s=o.strokeWidth>0&&""!==o.strokeColor;let l,c;for(t.save(),t.font=i.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Jy(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,o),l=0;l<a.length;++l)c=a[l],o.backdrop&&Pb(t,o.backdrop),s&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Jy(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(c,n,r,o.maxWidth)),t.fillText(c,n,r,o.maxWidth),Lb(t,n,r,c,o),r+=i.lineHeight;t.restore()}function Lb(t,e,n,r,i){if(i.strikethrough||i.underline){const o=t.measureText(r),a=e-o.actualBoundingBoxLeft,s=e+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,u),t.lineTo(s,u),t.stroke()}}function Pb(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Db(t,e){const{x:n,y:r,w:i,h:o,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,-Sv,wv,!0),t.lineTo(n,r+o-a.bottomLeft),t.arc(n+a.bottomLeft,r+o-a.bottomLeft,a.bottomLeft,wv,Sv,!0),t.lineTo(n+i-a.bottomRight,r+o),t.arc(n+i-a.bottomRight,r+o-a.bottomRight,a.bottomRight,Sv,0,!0),t.lineTo(n+i,r+a.topRight),t.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-Sv,!0),t.lineTo(n+a.topLeft,r)}const Rb=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Fb=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function zb(t,e){const n=(""+t).match(Rb);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}const Vb=t=>+t||0;function Bb(t,e){const n={},r=tv(e),i=r?Object.keys(e):e,o=tv(t)?r?n=>rv(t[n],t[e[n]]):e=>t[e]:()=>t;for(const t of i)n[t]=Vb(o(t));return n}function jb(t){return Bb(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ub(t){return Bb(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Hb(t){const e=jb(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Wb(t,e){t=t||{},e=e||wb.font;let n=rv(t.size,e.size);"string"==typeof n&&(n=parseInt(n,10));let r=rv(t.style,e.style);r&&!(""+r).match(Fb)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:rv(t.family,e.family),lineHeight:zb(rv(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:rv(t.weight,e.weight),string:""};return i.string=function(t){return!t||Jy(t.size)||Jy(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(i),i}function $b(t,e,n,r){let i,o,a,s=!0;for(i=0,o=t.length;i<o;++i)if(a=t[i],void 0!==a&&(void 0!==e&&"function"==typeof a&&(a=a(e),s=!1),void 0!==n&&Zy(a)&&(a=a[n%a.length],s=!1),void 0!==a))return r&&!s&&(r.cacheable=!1),a}function qb(t,e){return Object.assign(Object.create(t),e)}function Gb(t,e=[""],n=t,r,i=(()=>t[0])){yv(r)||(r=iw("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:r,_getTarget:i,override:i=>Gb([i,...t],e,n,r)};return new Proxy(o,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,r)=>Jb(n,r,(()=>function(t,e,n,r){let i;for(const o of e)if(i=iw(Yb(o,t),n),yv(i))return Xb(t,i)?nw(n,r,t,i):i}(r,e,t,n))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>ow(t).includes(e),ownKeys:t=>ow(t),set(t,e,n){const r=t._storage||(t._storage=i());return t[e]=r[e]=n,delete t._keys,!0}})}function Kb(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Qb(t,r),setContext:e=>Kb(t,e,n,r),override:i=>Kb(t.override(i),e,n,r)};return new Proxy(i,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>Jb(t,e,(()=>function(t,e,n){const{_proxy:r,_context:i,_subProxy:o,_descriptors:a}=t;let s=r[e];return vv(s)&&a.isScriptable(e)&&(s=function(t,e,n,r){const{_proxy:i,_context:o,_subProxy:a,_stack:s}=n;if(s.has(t))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+t);return s.add(t),e=e(o,a||r),s.delete(t),Xb(t,e)&&(e=nw(i._scopes,i,t,e)),e}(e,s,t,n)),Zy(s)&&s.length&&(s=function(t,e,n,r){const{_proxy:i,_context:o,_subProxy:a,_descriptors:s}=n;if(yv(o.index)&&r(t))e=e[o.index%e.length];else if(tv(e[0])){const n=e,r=i._scopes.filter((t=>t!==n));e=[];for(const l of n){const n=nw(r,i,t,l);e.push(Kb(n,o,a&&a[t],s))}}return e}(e,s,t,a.isIndexable)),Xb(e,s)&&(s=Kb(s,i,o&&o[e],a)),s}(t,e,n))),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,r)=>(t[n]=r,delete e[n],!0)})}function Qb(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:vv(n)?n:()=>n,isIndexable:vv(r)?r:()=>r}}const Yb=(t,e)=>t?t+gv(e):e,Xb=(t,e)=>tv(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Jb(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const r=n();return t[e]=r,r}function Zb(t,e,n){return vv(t)?t(e,n):t}const tw=(t,e)=>!0===t?e:"string"==typeof t?mv(e,t):void 0;function ew(t,e,n,r,i){for(const o of e){const e=tw(n,o);if(e){t.add(e);const o=Zb(e._fallback,n,i);if(yv(o)&&o!==n&&o!==r)return o}else if(!1===e&&yv(r)&&n!==r)return null}return!1}function nw(t,e,n,r){const i=e._rootScopes,o=Zb(e._fallback,n,r),a=[...t,...i],s=new Set;s.add(r);let l=rw(s,a,n,o||n,r);return null!==l&&(!yv(o)||o===n||(l=rw(s,a,o,l,r),null!==l))&&Gb(Array.from(s),[""],i,o,(()=>function(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return Zy(i)&&tv(n)?n:i||{}}(e,n,r)))}function rw(t,e,n,r,i){for(;n;)n=ew(t,e,n,r,i);return n}function iw(t,e){for(const n of e){if(!n)continue;const e=n[t];if(yv(e))return e}}function ow(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function aw(t,e,n,r){const{iScale:i}=t,{key:o="r"}=this._parsing,a=new Array(r);let s,l,c,u;for(s=0,l=r;s<l;++s)c=s+n,u=e[c],a[s]={r:i.parse(mv(u,o),c)};return a}const sw=Number.EPSILON||1e-14,lw=(t,e)=>e<t.length&&!t[e].skip&&t[e],cw=t=>"x"===t?"y":"x";function uw(t,e,n,r){const i=t.skip?e:t,o=e,a=n.skip?e:n,s=zv(o,i),l=zv(a,o);let c=s/(s+l),u=l/(s+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,d=r*u;return{previous:{x:o.x-h*(a.x-i.x),y:o.y-h*(a.y-i.y)},next:{x:o.x+d*(a.x-i.x),y:o.y+d*(a.y-i.y)}}}function hw(t,e,n){return Math.max(Math.min(t,n),e)}function dw(t,e,n,r,i){let o,a,s,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)!function(t,e="x"){const n=cw(e),r=t.length,i=Array(r).fill(0),o=Array(r);let a,s,l,c=lw(t,0);for(a=0;a<r;++a)if(s=l,l=c,c=lw(t,a+1),l){if(c){const t=c[e]-l[e];i[a]=0!==t?(c[n]-l[n])/t:0}o[a]=s?c?Nv(i[a-1])!==Nv(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}!function(t,e,n){const r=t.length;let i,o,a,s,l,c=lw(t,0);for(let u=0;u<r-1;++u)l=c,c=lw(t,u+1),l&&c&&(Av(e[u],0,sw)?n[u]=n[u+1]=0:(i=n[u]/e[u],o=n[u+1]/e[u],s=Math.pow(i,2)+Math.pow(o,2),s<=9||(a=3/Math.sqrt(s),n[u]=i*a*e[u],n[u+1]=o*a*e[u])))}(t,i,o),function(t,e,n="x"){const r=cw(n),i=t.length;let o,a,s,l=lw(t,0);for(let c=0;c<i;++c){if(a=s,s=l,l=lw(t,c+1),!s)continue;const i=s[n],u=s[r];a&&(o=(i-a[n])/3,s[`cp1${n}`]=i-o,s[`cp1${r}`]=u-o*e[c]),l&&(o=(l[n]-i)/3,s[`cp2${n}`]=i+o,s[`cp2${r}`]=u+o*e[c])}}(t,o,e)}(t,i);else{let n=r?t[t.length-1]:t[0];for(o=0,a=t.length;o<a;++o)s=t[o],l=uw(n,s,t[Math.min(o+1,a-(r?0:1))%a],e.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,n=s}e.capBezierPoints&&function(t,e){let n,r,i,o,a,s=Cb(t[0],e);for(n=0,r=t.length;n<r;++n)a=o,o=s,s=n<r-1&&Cb(t[n+1],e),o&&(i=t[n],a&&(i.cp1x=hw(i.cp1x,e.left,e.right),i.cp1y=hw(i.cp1y,e.top,e.bottom)),s&&(i.cp2x=hw(i.cp2x,e.left,e.right),i.cp2y=hw(i.cp2y,e.top,e.bottom)))}(t,n)}function fw(){return"undefined"!=typeof window&&"undefined"!=typeof document}function pw(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function mw(t,e,n){let r;return"string"==typeof t?(r=parseInt(t,10),-1!==t.indexOf("%")&&(r=r/100*e.parentNode[n])):r=t,r}const gw=t=>t.ownerDocument.defaultView.getComputedStyle(t,null),yw=["top","right","bottom","left"];function vw(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=yw[i];r[o]=parseFloat(t[e+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function bw(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=gw(n),o="border-box"===i.boxSizing,a=vw(i,"padding"),s=vw(i,"border","width"),{x:l,y:c,box:u}=function(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:o}=r;let a,s,l=!1;if(((t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot))(i,o,t.target))a=i,s=o;else{const t=e.getBoundingClientRect();a=r.clientX-t.left,s=r.clientY-t.top,l=!0}return{x:a,y:s,box:l}}(t,n),h=a.left+(u&&s.left),d=a.top+(u&&s.top);let{width:f,height:p}=e;return o&&(f-=a.width+s.width,p-=a.height+s.height),{x:Math.round((l-h)/f*n.width/r),y:Math.round((c-d)/p*n.height/r)}}const ww=t=>Math.round(10*t)/10;function xw(t,e,n){const r=e||1,i=Math.floor(t.height*r),o=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==r||a.height!==i||a.width!==o)&&(t.currentDevicePixelRatio=r,a.height=i,a.width=o,t.ctx.setTransform(r,0,0,r,0,0),!0)}const Ew=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(t){}return t}();function _w(t,e){const n=function(t,e){return gw(t).getPropertyValue(e)}(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function kw(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Sw(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:"middle"===r?n<.5?t.y:e.y:"after"===r?n<1?t.y:e.y:n>0?e.y:t.y}}function Tw(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},a=kw(t,i,n),s=kw(i,o,n),l=kw(o,e,n),c=kw(a,s,n),u=kw(s,l,n);return kw(c,u,n)}function Cw(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function Iw(t,e){let n,r;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function Nw(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Aw(t){return"angle"===t?{between:jv,compare:Vv,normalize:Bv}:{between:Hv,compare:(t,e)=>t-e,normalize:t=>t}}function Ow({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n==0,style:i}}function Mw(t,e,n){if(!n)return[t];const{property:r,start:i,end:o}=n,a=e.length,{compare:s,between:l,normalize:c}=Aw(r),{start:u,end:h,loop:d,style:f}=function(t,e,n){const{property:r,start:i,end:o}=n,{between:a,normalize:s}=Aw(r),l=e.length;let c,u,{start:h,end:d,loop:f}=t;if(f){for(h+=l,d+=l,c=0,u=l;c<u&&a(s(e[h%l][r]),i,o);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:f,style:t.style}}(t,e,n),p=[];let m,g,y,v=!1,b=null;for(let t=u,n=u;t<=h;++t)g=e[t%a],g.skip||(m=c(g[r]),m!==y&&(v=l(m,i,o),null===b&&(v||l(i,y,m)&&0!==s(i,y))&&(b=0===s(m,i)?t:n),null!==b&&(!v||0===s(o,m)||l(o,y,m))&&(p.push(Ow({start:b,end:t,loop:d,count:a,style:f})),b=null),n=t,y=m));return null!==b&&p.push(Ow({start:b,end:h,loop:d,count:a,style:f})),p}function Lw(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const o=Mw(r[i],t.points,e);o.length&&n.push(...o)}return n}function Pw(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Dw(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}class Rw{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,r){const i=e.listeners[r],o=e.duration;i.forEach((r=>r({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=Yv.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let o,a=i.length-1,s=!1;for(;a>=0;--a)o=i[a],o._active?(o._total>n.duration&&(n.duration=o._total),o.tick(t),s=!0):(i[a]=i[i.length-1],i.pop());s&&(r.draw(),this._notify(r,n,t,"progress")),i.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),e+=i.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Fw=new Rw;const zw="transparent",Vw={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const r=sb(t||zw),i=r.valid&&sb(e||zw);return i&&i.valid?i.mix(r,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class Bw{constructor(t,e,n,r){const i=e[n];r=$b([t.to,r,i,t.from]);const o=$b([t.from,i,r]);this._active=!0,this._fn=t.fn||Vw[t.type||typeof o],this._easing=ob[t.easing]||ob.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=$b([t.to,e,r,t.from]),this._from=$b([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,r=this._prop,i=this._from,o=this._loop,a=this._to;let s;if(this._active=i!==a&&(o||e<n),!this._active)return this._target[r]=a,void this._notify(!0);e<0?this._target[r]=i:(s=e/n%2,s=o&&s>1?2-s:s,s=this._easing(Math.min(1,Math.max(0,s))),this._target[r]=this._fn(i,a,s))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let t=0;t<n.length;t++)n[t][e]()}}class jw{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!tv(t))return;const e=Object.keys(wb.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach((r=>{const i=t[r];if(!tv(i))return;const o={};for(const t of e)o[t]=i[t];(Zy(i.properties)&&i.properties||[r]).forEach((t=>{t!==r&&n.has(t)||n.set(t,o)}))}))}_animateOptions(t,e){const n=e.options,r=function(t,e){if(!e)return;let n=t.options;if(n)return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n;t.options=e}(t,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(t,e){const n=[],r=Object.keys(e);for(let e=0;e<r.length;e++){const i=t[r[e]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),i}_createAnimations(t,e){const n=this._properties,r=[],i=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let s;for(s=o.length-1;s>=0;--s){const l=o[s];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(t,e));continue}const c=e[l];let u=i[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,a);continue}u.cancel()}h&&h.duration?(i[l]=u=new Bw(h,t,l,c),r.push(u)):t[l]=c}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(Fw.add(this._chart,n),!0):void 0}}function Uw(t,e){const n=t&&t.options||{},r=n.reverse,i=void 0===n.min?e:0,o=void 0===n.max?e:0;return{start:r?o:i,end:r?i:o}}function Hw(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,o;for(i=0,o=r.length;i<o;++i)n.push(r[i].index);return n}function Ww(t,e,n,r={}){const i=t.keys,o="single"===r.mode;let a,s,l,c;if(null!==e){for(a=0,s=i.length;a<s;++a){if(l=+i[a],l===n){if(r.all)continue;break}c=t.values[l],ev(c)&&(o||0===e||Nv(e)===Nv(c))&&(e+=c)}return e}}function $w(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function qw(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Gw(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const e=t[i.index];if(n&&e>0||!n&&e<0)return i.index}return null}function Kw(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:o,vScale:a,index:s}=r,l=o.axis,c=a.axis,u=function(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}(o,a,r),h=e.length;let d;for(let t=0;t<h;++t){const n=e[t],{[l]:o,[c]:h}=n;d=(n._stacks||(n._stacks={}))[c]=qw(i,u,o),d[s]=h,d._top=Gw(d,a,!0,r.type),d._bottom=Gw(d,a,!1,r.type),(d._visualValues||(d._visualValues={}))[s]=h}}function Qw(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function Yw(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[r]||void 0===e[r][n])return;delete e[r][n],void 0!==e[r]._visualValues&&void 0!==e[r]._visualValues[n]&&delete e[r]._visualValues[n]}}}const Xw=t=>"reset"===t||"none"===t,Jw=(t,e)=>e?t:Object.assign({},t);class Zw{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=$w(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Yw(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),r=(t,e,n,r)=>"x"===t?e:"r"===t?r:n,i=e.xAxisID=rv(n.xAxisID,Qw(t,"x")),o=e.yAxisID=rv(n.yAxisID,Qw(t,"y")),a=e.rAxisID=rv(n.rAxisID,Qw(t,"r")),s=e.indexAxis,l=e.iAxisID=r(s,i,o,a),c=e.vAxisID=r(s,o,i,a);e.xScale=this.getScaleForId(i),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Kv(this._data,this),t._stacked&&Yw(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(tv(e))this._data=function(t){const e=Object.keys(t),n=new Array(e.length);let r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r],n[r]={x:o,y:t[o]};return n}(e);else if(n!==e){if(n){Kv(n,this);const t=this._cachedMeta;Yw(t),t._parsed=[]}e&&Object.isExtensible(e)&&(this,(r=e)._chartjs?r._chartjs.listeners.push(this):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[this]}}),Gv.forEach((t=>{const e="_onData"+gv(t),n=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...t){const i=n.apply(this,t);return r._chartjs.listeners.forEach((n=>{"function"==typeof n[e]&&n[e](...t)})),i}})})))),this._syncList=[],this._data=e}var r}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=e._stacked;e._stacked=$w(e.vScale,e),e.stack!==n.stack&&(r=!0,Yw(e),e.stack=n.stack),this._resyncElements(t),(r||i!==e._stacked)&&Kw(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:o}=n,a=i.axis;let s,l,c,u=0===t&&e===r.length||n._sorted,h=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=Zy(r[t])?this.parseArrayData(n,r,t,e):tv(r[t])?this.parseObjectData(n,r,t,e):this.parsePrimitiveData(n,r,t,e);const i=()=>null===l[a]||h&&l[a]<h[a];for(s=0;s<e;++s)n._parsed[s+t]=l=c[s],u&&(i()&&(u=!1),h=l);n._sorted=u}o&&Kw(this,c)}parsePrimitiveData(t,e,n,r){const{iScale:i,vScale:o}=t,a=i.axis,s=o.axis,l=i.getLabels(),c=i===o,u=new Array(r);let h,d,f;for(h=0,d=r;h<d;++h)f=h+n,u[h]={[a]:c||i.parse(l[f],f),[s]:o.parse(e[f],f)};return u}parseArrayData(t,e,n,r){const{xScale:i,yScale:o}=t,a=new Array(r);let s,l,c,u;for(s=0,l=r;s<l;++s)c=s+n,u=e[c],a[s]={x:i.parse(u[0],c),y:o.parse(u[1],c)};return a}parseObjectData(t,e,n,r){const{xScale:i,yScale:o}=t,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,l=new Array(r);let c,u,h,d;for(c=0,u=r;c<u;++c)h=c+n,d=e[h],l[c]={x:i.parse(mv(d,a),h),y:o.parse(mv(d,s),h)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const r=this.chart,i=this._cachedMeta,o=e[t.axis];return Ww({keys:Hw(r,!0),values:e._stacks[t.axis]._visualValues},o,i.index,{mode:n})}updateRangeFromParsed(t,e,n,r){const i=n[e.axis];let o=null===i?NaN:i;const a=r&&n._stacks[e.axis];r&&a&&(r.values=a,o=Ww(r,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&t===n.iScale,o=r.length,a=this._getOtherScale(t),s=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Hw(n,!0),values:null})(e,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(a);let h,d;function f(){d=r[h];const e=d[a.axis];return!ev(d[t.axis])||c>e||u<e}for(h=0;h<o&&(f()||(this.updateRangeFromParsed(l,t,d,s),!i));++h);if(i)for(h=o-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,t,d,s);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r][t.axis],ev(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,r=e.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,r,i;return tv(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:!1===t}}(rv(this.options.clip,function(t,e,n){if(!1===n)return!1;const r=Uw(t,n),i=Uw(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,r=n.data||[],i=e.chartArea,o=[],a=this._drawStart||0,s=this._drawCount||r.length-a,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(t,i,a,s),c=a;c<a+s;++c){const e=r[c];e.hidden||(e.active&&l?o.push(e):e.draw(t,i))}for(c=0;c<o.length;++c)o[c].draw(t,i)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const r=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];i=e.$context||(e.$context=function(t,e,n){return qb(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),i.parsed=this.getParsed(t),i.raw=r.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=function(t,e){return qb(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!e,i.mode=n,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const r="active"===e,i=this._cachedDataOpts,o=t+"-"+e,a=i[o],s=this.enableOptionSharing&&yv(n);if(a)return Jw(a,s);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,t),u=r?[`${t}Hover`,"hover",t,""]:[t,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(wb.elements[t]),f=l.resolveNamedOptions(h,d,(()=>this.getContext(n,r,e)),u);return f.$shared&&(f.$shared=s,i[o]=Object.freeze(Jw(f,s))),f}_resolveAnimations(t,e,n){const r=this.chart,i=this._cachedDataOpts,o=`animation-${e}`,a=i[o];if(a)return a;let s;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,e),o=r.getOptionScopes(this.getDataset(),i);s=r.createResolver(o,this.getContext(t,n,e))}const l=new jw(r,s&&s.animations);return s&&s._cacheable&&(i[o]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Xw(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),r=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(e,i)||i!==r;return this.updateSharedOptions(i,e,n),{sharedOptions:i,includeOptions:o}}updateElement(t,e,n,r){Xw(r)?Object.assign(t,n):this._resolveAnimations(e,r).update(t,n)}updateSharedOptions(t,e,n){t&&!Xw(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,r){t.active=r;const i=this.getStyle(e,r);this._resolveAnimations(e,n,r).update(t,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[t,e,n]of this._syncList)this[t](e,n);this._syncList=[];const r=n.length,i=e.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,t):i<r&&this._removeElements(i,r-i)}_insertElements(t,e,n=!0){const r=this._cachedMeta,i=r.data,o=t+e;let a;const s=t=>{for(t.length+=e,a=t.length-1;a>=o;a--)t[a]=t[a-e]};for(s(i),a=t;a<o;++a)i[a]=new this.dataElementType;this._parsing&&s(r._parsed),this.parse(t,e),n&&this.updateElements(i,t,e,"reset")}updateElements(t,e,n,r){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(t,e);n._stacked&&Yw(n,r)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,r]=t;this[e](n,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function tx(t){const e=t.iScale,n=function(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let e=0,i=n.length;e<i;e++)r=r.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=Qv(r.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let r,i,o,a,s=e._length;const l=()=>{32767!==o&&-32768!==o&&(yv(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(r=0,i=n.length;r<i;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,i=e.ticks.length;r<i;++r)o=e.getPixelForTick(r),l();return s}function ex(t,e,n,r){return Zy(t)?function(t,e,n,r){const i=n.parse(t[0],r),o=n.parse(t[1],r),a=Math.min(i,o),s=Math.max(i,o);let l=a,c=s;Math.abs(a)>Math.abs(s)&&(l=s,c=a),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:o,min:a,max:s}}(t,e,n,r):e[n.axis]=n.parse(t,r),e}function nx(t,e,n,r){const i=t.iScale,o=t.vScale,a=i.getLabels(),s=i===o,l=[];let c,u,h,d;for(c=n,u=n+r;c<u;++c)d=e[c],h={},h[i.axis]=s||i.parse(a[c],c),l.push(ex(d,h,o,c));return l}function rx(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function ix(t,e,n,r){let i=e.borderSkipped;const o={};if(!i)return void(t.borderSkipped=o);if(!0===i)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:s,reverse:l,top:c,bottom:u}=function(t){let e,n,r,i,o;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",o="start"):(i="start",o="end"),{start:n,end:r,reverse:e,top:i,bottom:o}}(t);"middle"===i&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(o[ox(u,a,s,l)]=!0,i=c)),o[ox(i,a,s,l)]=!0,t.borderSkipped=o}function ox(t,e,n,r){var i,o,a;return r?(a=n,t=ax(t=(i=t)===(o=e)?a:i===a?o:i,n,e)):t=ax(t,e,n),t}function ax(t,e,n){return"start"===t?e:"end"===t?n:t}function sx(t,{inflateAmount:e},n){t.inflateAmount="auto"===e?1===n?.33:0:e}class lx extends Zw{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,n,r){return nx(t,e,n,r)}parseArrayData(t,e,n,r){return nx(t,e,n,r)}parseObjectData(t,e,n,r){const{iScale:i,vScale:o}=t,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,l="x"===i.axis?a:s,c="x"===o.axis?a:s,u=[];let h,d,f,p;for(h=n,d=n+r;h<d;++h)p=e[h],f={},f[i.axis]=i.parse(mv(p,l),h),u.push(ex(mv(p,c),f,o,h));return u}updateRangeFromParsed(t,e,n,r){super.updateRangeFromParsed(t,e,n,r);const i=n._custom;i&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:r}=e,i=this.getParsed(t),o=i._custom,a=rx(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,r){const i="reset"===r,{index:o,_cachedMeta:{vScale:a}}=this,s=a.getBasePixel(),l=a.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,r);for(let d=e;d<e+n;d++){const e=this.getParsed(d),n=i||Jy(e[a.axis])?{base:s,head:s}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(e._stacks||{})[a.axis],m={horizontal:l,base:n.base,enableBorderRadius:!p||rx(e._custom)||o===p._top||o===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};h&&(m.options=u||this.resolveDataElementOptions(d,t[d].active?"active":r));const g=m.options||t[d].options;ix(m,g,p,o),sx(m,g,c.ratio),this.updateElement(t[d],d,m,r)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),i=n.options.stacked,o=[],a=t=>{const n=t.controller.getParsed(e),r=n&&n[t.vScale.axis];if(Jy(r)||isNaN(r))return!0};for(const n of r)if((void 0===e||!a(n))&&((!1===i||-1===o.indexOf(n.stack)||void 0===i&&void 0===n.stack)&&o.push(n.stack),n.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const r=this._getStacks(t,n),i=void 0!==e?r.indexOf(e):-1;return-1===i?r.length-1:i}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,r=[];let i,o;for(i=0,o=e.data.length;i<o;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const a=t.barThickness;return{min:a||tx(e),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:r},options:{base:i,minBarLength:o}}=this,a=i||0,s=this.getParsed(t),l=s._custom,c=rx(l);let u,h,d=s[e.axis],f=0,p=n?this.applyStack(e,s,n):d;p!==d&&(f=p-d,p=d),c&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&Nv(d)!==Nv(l.barEnd)&&(f=0),f+=d);const m=Jy(i)||c?f:i;let g=e.getPixelForValue(m);if(u=this.chart.getDataVisibility(t)?e.getPixelForValue(f+p):g,h=u-g,Math.abs(h)<o){h=function(t,e,n){return 0!==t?Nv(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(h,e,a)*o,d===a&&(g-=h/2);const t=e.getPixelForDecimal(0),i=e.getPixelForDecimal(1),l=Math.min(t,i),f=Math.max(t,i);g=Math.max(Math.min(g,f),l),u=g+h,n&&!c&&(s._stacks[e.axis]._visualValues[r]=e.getValueForPixel(u)-e.getValueForPixel(g))}if(g===e.getPixelForValue(a)){const t=Nv(h)*e.getLineWidthForValue(a)/2;g+=t,h-=t}return{size:h,base:g,head:u,center:u+h/2}}_calculateBarIndexPixels(t,e){const n=e.scale,r=this.options,i=r.skipNull,o=rv(r.maxBarThickness,1/0);let a,s;if(e.grouped){const n=i?this._getStackCount(t):e.stackCount,l="flex"===r.barThickness?function(t,e,n,r){const i=e.pixels,o=i[t];let a=t>0?i[t-1]:null,s=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;null===a&&(a=o-(null===s?e.end-e.start:s-o)),null===s&&(s=o+o-a);const c=o-(o-Math.min(a,s))/2*l;return{chunk:Math.abs(s-a)/2*l/r,ratio:n.barPercentage,start:c}}(t,e,r,n):function(t,e,n,r){const i=n.barThickness;let o,a;return Jy(i)?(o=e.min*n.categoryPercentage,a=n.barPercentage):(o=i*r,a=1),{chunk:o/r,ratio:a,start:e.pixels[t]-o/2}}(t,e,r,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0);a=l.start+l.chunk*c+l.chunk/2,s=Math.min(o,l.chunk*l.ratio)}else a=n.getPixelForValue(this.getParsed(t)[n.axis],t),s=Math.min(o,e.min*e.ratio);return{base:a-s/2,head:a+s/2,center:a,size:s}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,r=n.length;let i=0;for(;i<r;++i)null!==this.getParsed(i)[e.axis]&&n[i].draw(this._ctx)}}class cx extends Zw{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:r}}=t.legend.options;return e.labels.map(((e,i)=>{const o=t.getDatasetMeta(0).controller.getStyle(i);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:r,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,o,a=t=>+n[t];if(tv(n[t])){const{key:t="value"}=this._parsing;a=e=>+mv(n[e],t)}for(i=t,o=t+e;i<o;++i)r._parsed[i]=a(i)}}_getRotation(){return Pv(this.options.rotation-90)}_getCircumference(){return Pv(this.options.circumference)}_getRotationExtents(){let t=xv,e=-xv;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),o=r._getCircumference();t=Math.min(t,i),e=Math.max(e,i+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,r=this._cachedMeta,i=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-o)/2,0),s=Math.min((c=a,"string"==typeof(l=this.options.cutout)&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:g}=function(t,e,n){let r=1,i=1,o=0,a=0;if(e<xv){const s=t,l=s+e,c=Math.cos(s),u=Math.sin(s),h=Math.cos(l),d=Math.sin(l),f=(t,e,r)=>jv(t,s,l,!0)?1:Math.max(e,e*n,r,r*n),p=(t,e,r)=>jv(t,s,l,!0)?-1:Math.min(e,e*n,r,r*n),m=f(0,c,h),g=f(Sv,u,d),y=p(wv,c,h),v=p(wv+Sv,u,d);r=(m-y)/2,i=(g-v)/2,o=-(m+y)/2,a=-(g+v)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:a}}(d,h,s),y=(n.width-o)/f,v=(n.height-o)/p,b=Math.max(Math.min(y,v)/2,0),w=iv(this.options.radius,b),x=(w-Math.max(w*s,0))/this._getVisibleDatasetWeightTotal();this.offsetX=m*w,this.offsetY=g*w,r.total=this.calculateTotal(),this.outerRadius=w-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*u,0),this.updateElements(i,0,i.length,t)}_circumference(t,e){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===r._parsed[t]||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*i/xv)}updateElements(t,e,n,r){const i="reset"===r,o=this.chart,a=o.chartArea,s=o.options.animation,l=(a.left+a.right)/2,c=(a.top+a.bottom)/2,u=i&&s.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(e,r);let m,g=this._getRotation();for(m=0;m<e;++m)g+=this._circumference(m,i);for(m=e;m<e+n;++m){const e=this._circumference(m,i),n=t[m],o={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+e,circumference:e,outerRadius:d,innerRadius:h};p&&(o.options=f||this.resolveDataElementOptions(m,n.active?"active":r)),g+=e,this.updateElement(n,m,o,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,r=0;for(n=0;n<e.length;n++){const i=t._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||e[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?xv*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=db(e._parsed[t],n.options.locale);return{label:r[t]||"",value:i}}getMaxBorderWidth(t){let e=0;const n=this.chart;let r,i,o,a,s;if(!t)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){o=n.getDatasetMeta(r),t=o.data,a=o.controller;break}if(!t)return 0;for(r=0,i=t.length;r<i;++r)s=a.resolveDataElementOptions(r),"inner"!==s.borderAlign&&(e=Math.max(e,s.borderWidth||0,s.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,r=t.length;n<r;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(rv(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class ux extends Zw{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:r}}=t.legend.options;return e.labels.map(((e,i)=>{const o=t.getDatasetMeta(0).controller.getStyle(i);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:r,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=db(e._parsed[t].r,n.options.locale);return{label:r[t]||"",value:i}}parseObjectData(t,e,n,r){return aw.bind(this)(t,e,n,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),i=Math.max(r/2,0),o=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=i-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,e,n,r){const i="reset"===r,o=this.chart,a=o.options.animation,s=this._cachedMeta.rScale,l=s.xCenter,c=s.yCenter,u=s.getIndexAngle(0)-.5*wv;let h,d=u;const f=360/this.countVisibleElements();for(h=0;h<e;++h)d+=this._computeAngle(h,r,f);for(h=e;h<e+n;h++){const e=t[h];let n=d,p=d+this._computeAngle(h,r,f),m=o.getDataVisibility(h)?s.getDistanceFromCenterForValue(this.getParsed(h).r):0;d=p,i&&(a.animateScale&&(m=0),a.animateRotate&&(n=p=u));const g={x:l,y:c,innerRadius:0,outerRadius:m,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(h,e.active?"active":r)};this.updateElement(e,h,g,r)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++})),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?Pv(this.resolveDataElementOptions(t,e).angle||n):0}}class hx extends cx{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}var dx=Object.freeze({__proto__:null,BarController:lx,BubbleController:class extends Zw{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,r){const i=super.parsePrimitiveData(t,e,n,r);for(let t=0;t<i.length;t++)i[t]._custom=this.resolveDataElementOptions(t+n).radius;return i}parseArrayData(t,e,n,r){const i=super.parseArrayData(t,e,n,r);for(let t=0;t<i.length;t++){const r=e[n+t];i[t]._custom=rv(r[2],this.resolveDataElementOptions(t+n).radius)}return i}parseObjectData(t,e,n,r){const i=super.parseObjectData(t,e,n,r);for(let t=0;t<i.length;t++){const r=e[n+t];i[t]._custom=rv(r&&r.r&&+r.r,this.resolveDataElementOptions(t+n).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=e,o=this.getParsed(t),a=r.getLabelForValue(o.x),s=i.getLabelForValue(o.y),l=o._custom;return{label:n[t]||"",value:"("+a+", "+s+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,r){const i="reset"===r,{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:s,includeOptions:l}=this._getSharedOptions(e,r),c=o.axis,u=a.axis;for(let h=e;h<e+n;h++){const e=t[h],n=!i&&this.getParsed(h),d={},f=d[c]=i?o.getPixelForDecimal(.5):o.getPixelForValue(n[c]),p=d[u]=i?a.getBasePixel():a.getPixelForValue(n[u]);d.skip=isNaN(f)||isNaN(p),l&&(d.options=s||this.resolveDataElementOptions(h,e.active?"active":r),i&&(d.options.radius=0)),this.updateElement(e,h,d,r)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return"active"!==e&&(r.radius=0),r.radius+=rv(n&&n._custom,i),r}},DoughnutController:cx,LineController:class extends Zw{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=e,o=this.chart._animationsDisabled;let{start:a,count:s}=tb(e,r,o);this._drawStart=a,this._drawCount=s,eb(e)&&(a=0,s=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:l},t),this.updateElements(r,a,s,t)}updateElements(t,e,n,r){const i="reset"===r,{iScale:o,vScale:a,_stacked:s,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(e,r),h=o.axis,d=a.axis,{spanGaps:f,segment:p}=this.options,m=Mv(f)?f:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||"none"===r,y=e+n,v=t.length;let b=e>0&&this.getParsed(e-1);for(let n=0;n<v;++n){const f=t[n],v=g?f:{};if(n<e||n>=y){v.skip=!0;continue}const w=this.getParsed(n),x=Jy(w[d]),E=v[h]=o.getPixelForValue(w[h],n),_=v[d]=i||x?a.getBasePixel():a.getPixelForValue(s?this.applyStack(a,w,s):w[d],n);v.skip=isNaN(E)||isNaN(_)||x,v.stop=n>0&&Math.abs(w[h]-b[h])>m,p&&(v.parsed=w,v.raw=l.data[n]),u&&(v.options=c||this.resolveDataElementOptions(n,f.active?"active":r)),g||this.updateElement(f,n,v,r),b=w}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}},PolarAreaController:ux,PieController:hx,RadarController:class extends Zw{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,r){return aw.bind(this)(t,e,n,r)}update(t){const e=this._cachedMeta,n=e.dataset,r=e.data||[],i=e.iScale.getLabels();if(n.points=r,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const o={_loop:!0,_fullLoop:i.length===r.length,options:e};this.updateElement(n,void 0,o,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,n,r){const i=this._cachedMeta.rScale,o="reset"===r;for(let a=e;a<e+n;a++){const e=t[a],n=this.resolveDataElementOptions(a,e.active?"active":r),s=i.getPointPositionForValue(a,this.getParsed(a).r),l=o?i.xCenter:s.x,c=o?i.yCenter:s.y,u={x:l,y:c,angle:s.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(e,a,u,r)}}},ScatterController:class extends Zw{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=e,o=this.getParsed(t),a=r.getLabelForValue(o.x),s=i.getLabelForValue(o.y);return{label:n[t]||"",value:"("+a+", "+s+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,r=this.chart._animationsDisabled;let{start:i,count:o}=tb(e,n,r);if(this._drawStart=i,this._drawCount=o,eb(e)&&(i=0,o=n.length),this.options.showLine){const{dataset:i,_dataset:o}=e;i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=n;const a=this.resolveDatasetElementOptions(t);a.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:a},t)}this.updateElements(n,i,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,r){const i="reset"===r,{iScale:o,vScale:a,_stacked:s,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(e,r),u=this.getSharedOptions(c),h=this.includeOptions(r,u),d=o.axis,f=a.axis,{spanGaps:p,segment:m}=this.options,g=Mv(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||"none"===r;let v=e>0&&this.getParsed(e-1);for(let c=e;c<e+n;++c){const e=t[c],n=this.getParsed(c),p=y?e:{},b=Jy(n[f]),w=p[d]=o.getPixelForValue(n[d],c),x=p[f]=i||b?a.getBasePixel():a.getPixelForValue(s?this.applyStack(a,n,s):n[f],c);p.skip=isNaN(w)||isNaN(x)||b,p.stop=c>0&&Math.abs(n[d]-v[d])>g,m&&(p.parsed=n,p.raw=l.data[c]),h&&(p.options=u||this.resolveDataElementOptions(c,e.active?"active":r)),y||this.updateElement(e,c,p,r),v=n}this.updateSharedOptions(u,r,c)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}const n=t.dataset,r=n.options&&n.options.borderWidth||0;if(!e.length)return r;const i=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,i,o)/2}}});function fx(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class px{static override(t){Object.assign(px.prototype,t)}constructor(t){this.options=t||{}}init(){}formats(){return fx()}parse(){return fx()}format(){return fx()}add(){return fx()}diff(){return fx()}startOf(){return fx()}endOf(){return fx()}}var mx=px;function gx(t,e,n,r){const{controller:i,data:o,_sorted:a}=t,s=i._cachedMeta.iScale;if(s&&e===s.axis&&"r"!==e&&a&&o.length){const t=s._reversePixels?qv:$v;if(!r)return t(o,e,n);if(i._sharedOptions){const r=o[0],i="function"==typeof r.getRange&&r.getRange(e);if(i){const r=t(o,e,n-i),a=t(o,e,n+i);return{lo:r.lo,hi:a.hi}}}}return{lo:0,hi:o.length-1}}function yx(t,e,n,r,i){const o=t.getSortedVisibleDatasetMetas(),a=n[e];for(let t=0,n=o.length;t<n;++t){const{index:n,data:s}=o[t],{lo:l,hi:c}=gx(o[t],e,a,i);for(let t=l;t<=c;++t){const e=s[t];e.skip||r(e,n,t)}}}function vx(t,e,n,r,i){const o=[];return i||t.isPointInArea(e)?(yx(t,n,e,(function(n,a,s){(i||Cb(n,t.chartArea,0))&&n.inRange(e.x,e.y,r)&&o.push({element:n,datasetIndex:a,index:s})}),!0),o):o}function bx(t,e,n,r,i,o){return o||t.isPointInArea(e)?"r"!==n||r?function(t,e,n,r,i,o){let a=[];const s=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,r){const i=e?Math.abs(t.x-r.x):0,o=n?Math.abs(t.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}(n);let l=Number.POSITIVE_INFINITY;return yx(t,n,e,(function(n,c,u){const h=n.inRange(e.x,e.y,i);if(r&&!h)return;const d=n.getCenterPoint(i);if(!o&&!t.isPointInArea(d)&&!h)return;const f=s(e,d);f<l?(a=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&a.push({element:n,datasetIndex:c,index:u})})),a}(t,e,n,r,i,o):function(t,e,n,r){let i=[];return yx(t,n,e,(function(t,n,o){const{startAngle:a,endAngle:s}=t.getProps(["startAngle","endAngle"],r),{angle:l}=Fv(t,{x:e.x,y:e.y});jv(l,a,s)&&i.push({element:t,datasetIndex:n,index:o})})),i}(t,e,n,i):[]}function wx(t,e,n,r,i){const o=[],a="x"===n?"inXRange":"inYRange";let s=!1;return yx(t,n,e,((t,r,l)=>{t[a](e[n],i)&&(o.push({element:t,datasetIndex:r,index:l}),s=s||t.inRange(e.x,e.y,i))})),r&&!s?[]:o}var xx={evaluateInteractionItems:yx,modes:{index(t,e,n,r){const i=bw(e,t),o=n.axis||"x",a=n.includeInvisible||!1,s=n.intersect?vx(t,i,o,r,a):bx(t,i,o,!1,r,a),l=[];return s.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=s[0].index,n=t.data[e];n&&!n.skip&&l.push({element:n,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,n,r){const i=bw(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;let s=n.intersect?vx(t,i,o,r,a):bx(t,i,o,!1,r,a);if(s.length>0){const e=s[0].datasetIndex,n=t.getDatasetMeta(e).data;s=[];for(let t=0;t<n.length;++t)s.push({element:n[t],datasetIndex:e,index:t})}return s},point:(t,e,n,r)=>vx(t,bw(e,t),n.axis||"xy",r,n.includeInvisible||!1),nearest(t,e,n,r){const i=bw(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;return bx(t,i,o,n.intersect,r,a)},x:(t,e,n,r)=>wx(t,bw(e,t),"x",n.intersect,r),y:(t,e,n,r)=>wx(t,bw(e,t),"y",n.intersect,r)}};const Ex=["left","top","right","bottom"];function _x(t,e){return t.filter((t=>t.pos===e))}function kx(t,e){return t.filter((t=>-1===Ex.indexOf(t.pos)&&t.box.axis===e))}function Sx(t,e){return t.sort(((t,n)=>{const r=e?n:t,i=e?t:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function Tx(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function Cx(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Ix(t,e,n,r){const{pos:i,box:o}=n,a=t.maxPadding;if(!tv(i)){n.size&&(t[i]-=n.size);const e=r[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?o.height:o.width),n.size=e.size/e.count,t[i]+=n.size}o.getPadding&&Cx(a,o.getPadding());const s=Math.max(0,e.outerWidth-Tx(a,t,"left","right")),l=Math.max(0,e.outerHeight-Tx(a,t,"top","bottom")),c=s!==t.w,u=l!==t.h;return t.w=s,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Nx(t,e){const n=e.maxPadding;return function(t){const r={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{r[t]=Math.max(e[t],n[t])})),r}(t?["left","right"]:["top","bottom"])}function Ax(t,e,n,r){const i=[];let o,a,s,l,c,u;for(o=0,a=t.length,c=0;o<a;++o){s=t[o],l=s.box,l.update(s.width||e.w,s.height||e.h,Nx(s.horizontal,e));const{same:a,other:h}=Ix(e,n,s,r);c|=a&&i.length,u=u||h,l.fullSize||i.push(s)}return c&&Ax(i,e,n,r)||u}function Ox(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function Mx(t,e,n,r){const i=n.padding;let{x:o,y:a}=e;for(const s of t){const t=s.box,l=r[s.stack]||{count:1,placed:0,weight:1},c=s.stackWeight/l.weight||1;if(s.horizontal){const r=e.w*c,o=l.size||t.height;yv(l.start)&&(a=l.start),t.fullSize?Ox(t,i.left,a,n.outerWidth-i.right-i.left,o):Ox(t,e.left+l.placed,a,r,o),l.start=a,l.placed+=r,a=t.bottom}else{const r=e.h*c,a=l.size||t.width;yv(l.start)&&(o=l.start),t.fullSize?Ox(t,o,i.top,a,n.outerHeight-i.bottom-i.top):Ox(t,o,e.top+l.placed,a,r),l.start=o,l.placed+=r,o=t.right}}e.x=o,e.y=a}var Lx={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Hb(t.options.layout.padding),o=Math.max(e-i.width,0),a=Math.max(n-i.height,0),s=function(t){const e=function(t){const e=[];let n,r,i,o,a,s;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],({position:o,options:{stack:a,stackWeight:s=1}}=i),e.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&o+a,stackWeight:s});return e}(t),n=Sx(e.filter((t=>t.box.fullSize)),!0),r=Sx(_x(e,"left"),!0),i=Sx(_x(e,"right")),o=Sx(_x(e,"top"),!0),a=Sx(_x(e,"bottom")),s=kx(e,"x"),l=kx(e,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(l).concat(a).concat(s),chartArea:_x(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:o.concat(a).concat(s)}}(t.boxes),l=s.vertical,c=s.horizontal;av(t.boxes,(t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()}));const u=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/u,hBoxMaxHeight:a/2}),d=Object.assign({},i);Cx(d,Hb(r));const f=Object.assign({maxPadding:d,w:o,h:a,x:i.left,y:i.top},i),p=function(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:r,stackWeight:i}=n;if(!t||!Ex.includes(r))continue;const o=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let o,a,s;for(o=0,a=t.length;o<a;++o){s=t[o];const{fullSize:a}=s.box,l=n[s.stack],c=l&&s.stackWeight/l.weight;s.horizontal?(s.width=c?c*r:a&&e.availableWidth,s.height=i):(s.width=r,s.height=c?c*i:a&&e.availableHeight)}return n}(l.concat(c),h);Ax(s.fullSize,f,h,p),Ax(l,f,h,p),Ax(c,f,h,p)&&Ax(l,f,h,p),function(t){const e=t.maxPadding;function n(n){const r=Math.max(e[n]-t[n],0);return t[n]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(f),Mx(s.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,Mx(s.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},av(s.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class Px{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}isAttached(t){return!0}updateConfig(t){}}class Dx extends Px{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Rx="$chartjs",Fx={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},zx=t=>null===t||""===t,Vx=!!Ew&&{passive:!0};function Bx(t,e,n){t.canvas.removeEventListener(e,n,Vx)}function jx(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Ux(t,e,n){const r=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||jx(n.addedNodes,r),e=e&&!jx(n.removedNodes,r);e&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function Hx(t,e,n){const r=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||jx(n.removedNodes,r),e=e&&!jx(n.addedNodes,r);e&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const Wx=new Map;let $x=0;function qx(){const t=window.devicePixelRatio;t!==$x&&($x=t,Wx.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function Gx(t,e,n){const r=t.canvas,i=r&&pw(r);if(!i)return;const o=Xv(((t,e)=>{const r=i.clientWidth;n(t,e),r<i.clientWidth&&n()}),window),a=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,r=e.contentRect.height;0===n&&0===r||o(n,r)}));return a.observe(i),function(t,e){Wx.size||window.addEventListener("resize",qx),Wx.set(t,e)}(t,o),a}function Kx(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){Wx.delete(t),Wx.size||window.removeEventListener("resize",qx)}(t)}function Qx(t,e,n){const r=t.canvas,i=Xv((e=>{null!==t.ctx&&n(function(t,e){const n=Fx[t.type]||t.type,{x:r,y:i}=bw(t,e);return{type:n,chart:e,native:t,x:void 0!==r?r:null,y:void 0!==i?i:null}}(e,t))}),t);return function(t,e,n){t.addEventListener(e,n,Vx)}(r,e,i),i}class Yx extends Px{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Rx]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",zx(i)){const e=_w(t,"width");void 0!==e&&(t.width=e)}if(zx(r))if(""===t.style.height)t.height=t.width/(e||2);else{const e=_w(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[Rx])return!1;const n=e[Rx].initial;["height","width"].forEach((t=>{const r=n[t];Jy(r)?e.removeAttribute(t):e.setAttribute(t,r)}));const r=n.style||{};return Object.keys(r).forEach((t=>{e.style[t]=r[t]})),e.width=e.width,delete e[Rx],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),i={attach:Ux,detach:Hx,resize:Gx}[e]||Qx;r[e]=i(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),r=n[e];r&&(({attach:Kx,detach:Kx,resize:Kx}[e]||Bx)(t,e,r),n[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,r){return function(t,e,n,r){const i=gw(t),o=vw(i,"margin"),a=mw(i.maxWidth,t,"clientWidth")||_v,s=mw(i.maxHeight,t,"clientHeight")||_v,l=function(t,e,n){let r,i;if(void 0===e||void 0===n){const o=pw(t);if(o){const t=o.getBoundingClientRect(),a=gw(o),s=vw(a,"border","width"),l=vw(a,"padding");e=t.width-l.width-s.width,n=t.height-l.height-s.height,r=mw(a.maxWidth,o,"clientWidth"),i=mw(a.maxHeight,o,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:r||_v,maxHeight:i||_v}}(t,e,n);let{width:c,height:u}=l;if("content-box"===i.boxSizing){const t=vw(i,"border","width"),e=vw(i,"padding");c-=e.width+t.width,u-=e.height+t.height}return c=Math.max(0,c-o.width),u=Math.max(0,r?c/r:u-o.height),c=ww(Math.min(c,a,l.maxWidth)),u=ww(Math.min(u,s,l.maxHeight)),c&&!u&&(u=ww(c/2)),(void 0!==e||void 0!==n)&&r&&l.height&&u>l.height&&(u=l.height,c=ww(Math.floor(u*r))),{width:c,height:u}}(t,e,n,r)}isAttached(t){const e=pw(t);return!(!e||!e.isConnected)}}class Xx{static defaults={};static defaultRoutes=void 0;active=!1;tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return Mv(this.x)&&Mv(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const r={};return t.forEach((t=>{r[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),r}}function Jx(t,e,n,r,i){const o=rv(r,0),a=Math.min(rv(i,t.length),t.length);let s,l,c,u=0;for(n=Math.ceil(n),i&&(s=i-r,n=s/Math.floor(s/n)),c=o;c<0;)u++,c=Math.round(o+u*n);for(l=Math.max(o,0);l<a;l++)l===c&&(e.push(t[l]),u++,c=Math.round(o+u*n))}const Zx=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n,tE=(t,e)=>Math.min(e||t,t);function eE(t,e){const n=[],r=t.length/e,i=t.length;let o=0;for(;o<i;o+=r)n.push(t[Math.floor(o)]);return n}function nE(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),o=t._startPixel,a=t._endPixel,s=1e-6;let l,c=t.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(c-o,a-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(i-1))/2,c+=i<e?l:-l,c<o-s||c>a+s)))return c}function rE(t){return t.drawTicks?t.tickLength:0}function iE(t,e){if(!t.display)return 0;const n=Wb(t.font,e),r=Hb(t.padding);return(Zy(t.text)?t.text.length:1)*n.lineHeight+r.height}function oE(t,e,n){let r=Jv(t);return(n&&"right"!==e||!n&&"right"===e)&&(r=(t=>"left"===t?"right":"right"===t?"left":t)(r)),r}class aE extends Xx{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:r}=this;return t=nv(t,Number.POSITIVE_INFINITY),e=nv(e,Number.NEGATIVE_INFINITY),n=nv(n,Number.POSITIVE_INFINITY),r=nv(r,Number.NEGATIVE_INFINITY),{min:nv(t,n),max:nv(e,r),minDefined:ev(t),maxDefined:ev(e)}}getMinMax(t){let e,{min:n,max:r,minDefined:i,maxDefined:o}=this.getUserBounds();if(i&&o)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let s=0,l=a.length;s<l;++s)e=a[s].controller.getMinMax(this,t),i||(n=Math.min(n,e.min)),o||(r=Math.max(r,e.max));return n=o&&n>r?r:n,r=i&&n>r?n:r,{min:nv(n,nv(r,n)),max:nv(r,nv(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ov(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:r,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:r,max:i}=t,o=iv(e,(i-r)/2),a=(t,e)=>n&&0===t?0:t+e;return{min:a(r,-Math.abs(o)),max:a(i,o)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const s=a<this.ticks.length;this._convertTicksToLabels(s?eE(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=function(t,e){const n=t.options.ticks,r=function(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}(t),i=Math.min(n.maxTicksLimit||r,r),o=n.major.enabled?function(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}(e):[],a=o.length,s=o[0],l=o[a-1],c=[];if(a>i)return function(t,e,n,r){let i,o=0,a=n[0];for(r=Math.ceil(r),i=0;i<t.length;i++)i===a&&(e.push(t[i]),o++,a=n[o*r])}(e,c,o,a/i),c;const u=function(t,e,n){const r=function(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}(t),i=e.length/n;if(!r)return Math.max(i,1);const o=function(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r==0&&(e.push(r),e.push(t/r));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}(r);for(let t=0,e=o.length-1;t<e;t++){const e=o[t];if(e>i)return e}return Math.max(i,1)}(o,e,i);if(a>0){let t,n;const r=a>1?Math.round((l-s)/(a-1)):null;for(Jx(e,c,u,Jy(r)?0:s-r,s),t=0,n=a-1;t<n;t++)Jx(e,c,u,o[t],o[t+1]);return Jx(e,c,u,l,Jy(r)?e.length:l+r),c}return Jx(e,c,u),c}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),s&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ov(this.options.afterUpdate,[this])}beforeSetDimensions(){ov(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ov(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ov(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ov(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,r,i;for(n=0,r=t.length;n<r;n++)i=t[n],i.label=ov(e.callback,[i.value,n,t],this)}afterTickToLabelConversion(){ov(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ov(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=tE(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,i=e.maxRotation;let o,a,s,l=r;if(!this._isVisible()||!e.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=Uv(this.chart.width-u,0,this.maxWidth);o=t.offset?this.maxWidth/n:d/(n-1),u+6>o&&(o=d/(n-(t.offset?.5:1)),a=this.maxHeight-rE(t.grid)-e.padding-iE(t.title,this.chart.options.font),s=Math.sqrt(u*u+h*h),l=Dv(Math.min(Math.asin(Uv((c.highest.height+6)/o,-1,1)),Math.asin(Uv(a/s,-1,1))-Math.asin(Uv(h/s,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){ov(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ov(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:r,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const o=iE(r,e.options.font);if(a?(t.width=this.maxWidth,t.height=rE(i)+o):(t.height=this.maxHeight,t.width=rE(i)+o),n.display&&this.ticks.length){const{first:e,last:r,widest:i,highest:o}=this._getLabelSizes(),s=2*n.padding,l=Pv(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(a){const e=n.mirror?0:u*i.width+c*o.height;t.height=Math.min(this.maxHeight,t.height+e+s)}else{const e=n.mirror?0:c*i.width+u*o.height;t.width=Math.min(this.maxWidth,t.width+e+s)}this._calculatePadding(e,r,u,c)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,r){const{ticks:{align:i,padding:o},position:a}=this.options,s=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;s?l?(u=r*t.width,h=n*e.height):(u=n*t.height,h=r*e.width):"start"===i?h=e.width:"end"===i?u=t.width:"inner"!==i&&(u=t.width/2,h=e.width/2),this.paddingLeft=Math.max((u-a+o)*this.width/(this.width-a),0),this.paddingRight=Math.max((h-c+o)*this.width/(this.width-c),0)}else{let n=e.height/2,r=t.height/2;"start"===i?(n=0,r=t.height):"end"===i&&(n=e.height,r=0),this.paddingTop=n+o,this.paddingBottom=r+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ov(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)Jy(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=eE(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:r,_longestTextCache:i}=this,o=[],a=[],s=Math.floor(e/tE(e,n));let l,c,u,h,d,f,p,m,g,y,v,b=0,w=0;for(l=0;l<e;l+=s){if(h=t[l].label,d=this._resolveTickFontOptions(l),r.font=f=d.string,p=i[f]=i[f]||{data:{},gc:[]},m=d.lineHeight,g=y=0,Jy(h)||Zy(h)){if(Zy(h))for(c=0,u=h.length;c<u;++c)v=h[c],Jy(v)||Zy(v)||(g=xb(r,p.data,p.gc,g,v),y+=m)}else g=xb(r,p.data,p.gc,g,h),y=m;o.push(g),a.push(y),b=Math.max(g,b),w=Math.max(y,w)}!function(t,e){av(t,(t=>{const n=t.gc,r=n.length/2;let i;if(r>e){for(i=0;i<r;++i)delete t.data[n[i]];n.splice(0,r)}}))}(i,e);const x=o.indexOf(b),E=a.indexOf(w),_=t=>({width:o[t]||0,height:a[t]||0});return{first:_(0),last:_(e-1),widest:_(x),highest:_(E),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Uv(this._alignToPixels?_b(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return qb(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=qb(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=Pv(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,a=i?i.widest.width+o:0,s=i?i.highest.height+o:0;return this.isHorizontal()?s*n>a*r?a/n:s/r:s*r<a*n?s/n:a/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,r=this.options,{grid:i,position:o,border:a}=r,s=i.offset,l=this.isHorizontal(),c=this.ticks.length+(s?1:0),u=rE(i),h=[],d=a.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,m=function(t){return _b(n,t,f)};let g,y,v,b,w,x,E,_,k,S,T,C;if("top"===o)g=m(this.bottom),x=this.bottom-u,_=g-p,S=m(t.top)+p,C=t.bottom;else if("bottom"===o)g=m(this.top),S=t.top,C=m(t.bottom)-p,x=g+p,_=this.top+u;else if("left"===o)g=m(this.right),w=this.right-u,E=g-p,k=m(t.left)+p,T=t.right;else if("right"===o)g=m(this.left),k=t.left,T=m(t.right)-p,w=g+p,E=this.left+u;else if("x"===e){if("center"===o)g=m((t.top+t.bottom)/2+.5);else if(tv(o)){const t=Object.keys(o)[0],e=o[t];g=m(this.chart.scales[t].getPixelForValue(e))}S=t.top,C=t.bottom,x=g+p,_=x+u}else if("y"===e){if("center"===o)g=m((t.left+t.right)/2);else if(tv(o)){const t=Object.keys(o)[0],e=o[t];g=m(this.chart.scales[t].getPixelForValue(e))}w=g-p,E=w-u,k=t.left,T=t.right}const I=rv(r.ticks.maxTicksLimit,c),N=Math.max(1,Math.ceil(c/I));for(y=0;y<c;y+=N){const t=this.getContext(y),e=i.setContext(t),r=a.setContext(t),o=e.lineWidth,c=e.color,u=r.dash||[],d=r.dashOffset,f=e.tickWidth,p=e.tickColor,m=e.tickBorderDash||[],g=e.tickBorderDashOffset;v=nE(this,y,s),void 0!==v&&(b=_b(n,v,o),l?w=E=k=T=b:x=_=S=C=b,h.push({tx1:w,ty1:x,tx2:E,ty2:_,x1:k,y1:S,x2:T,y2:C,width:o,color:c,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,h}_computeLabelItems(t){const e=this.axis,n=this.options,{position:r,ticks:i}=n,o=this.isHorizontal(),a=this.ticks,{align:s,crossAlign:l,padding:c,mirror:u}=i,h=rE(n.grid),d=h+c,f=u?-c:d,p=-Pv(this.labelRotation),m=[];let g,y,v,b,w,x,E,_,k,S,T,C,I="middle";if("top"===r)x=this.bottom-f,E=this._getXAxisLabelAlignment();else if("bottom"===r)x=this.top+f,E=this._getXAxisLabelAlignment();else if("left"===r){const t=this._getYAxisLabelAlignment(h);E=t.textAlign,w=t.x}else if("right"===r){const t=this._getYAxisLabelAlignment(h);E=t.textAlign,w=t.x}else if("x"===e){if("center"===r)x=(t.top+t.bottom)/2+d;else if(tv(r)){const t=Object.keys(r)[0],e=r[t];x=this.chart.scales[t].getPixelForValue(e)+d}E=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)w=(t.left+t.right)/2-d;else if(tv(r)){const t=Object.keys(r)[0],e=r[t];w=this.chart.scales[t].getPixelForValue(e)}E=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===s?I="top":"end"===s&&(I="bottom"));const N=this._getLabelSizes();for(g=0,y=a.length;g<y;++g){v=a[g],b=v.label;const t=i.setContext(this.getContext(g));_=this.getPixelForTick(g)+i.labelOffset,k=this._resolveTickFontOptions(g),S=k.lineHeight,T=Zy(b)?b.length:1;const e=T/2,n=t.color,s=t.textStrokeColor,c=t.textStrokeWidth;let h,d=E;if(o?(w=_,"inner"===E&&(d=g===y-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),C="top"===r?"near"===l||0!==p?-T*S+S/2:"center"===l?-N.highest.height/2-e*S+S:-N.highest.height+S/2:"near"===l||0!==p?S/2:"center"===l?N.highest.height/2-e*S:N.highest.height-T*S,u&&(C*=-1),0===p||t.showLabelBackdrop||(w+=S/2*Math.sin(p))):(x=_,C=(1-T)*S/2),t.showLabelBackdrop){const e=Hb(t.backdropPadding),n=N.heights[g],r=N.widths[g];let i=C-e.top,o=0-e.left;switch(I){case"middle":i-=n/2;break;case"bottom":i-=n}switch(E){case"center":o-=r/2;break;case"right":o-=r}h={left:o,top:i,width:r+e.width,height:n+e.height,color:t.backdropColor}}m.push({label:b,font:k,textOffset:C,options:{rotation:p,color:n,strokeColor:s,strokeWidth:c,textAlign:d,textBaseline:I,translation:[w,x],backdrop:h}})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Pv(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,o=t+i,a=this._getLabelSizes().widest.width;let s,l;return"left"===e?r?(l=this.right+i,"near"===n?s="left":"center"===n?(s="center",l+=a/2):(s="right",l+=a)):(l=this.right-o,"near"===n?s="right":"center"===n?(s="center",l-=a/2):(s="left",l=this.left)):"right"===e?r?(l=this.left+i,"near"===n?s="right":"center"===n?(s="center",l-=a/2):(s="left",l-=a)):(l=this.left+o,"near"===n?s="left":"center"===n?(s="center",l+=a/2):(s="right",l=this.right)):s="right",{textAlign:s,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:r,width:i,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,i,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex((e=>e.value===t));return n>=0?e.setContext(this.getContext(n)).lineWidth:0}drawGrid(t){const e=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const a=(t,e,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(i=0,o=r.length;i<o;++i){const t=r[i];e.drawOnChartArea&&a({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&a({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=_b(t,this.left,o)-o/2,c=_b(t,this.right,a)+a/2,u=h=s):(u=_b(t,this.top,o)-o/2,h=_b(t,this.bottom,a)+a/2,l=c=s),e.save(),e.lineWidth=i.width,e.strokeStyle=i.color,e.beginPath(),e.moveTo(l,u),e.lineTo(c,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&Ib(e,n);const r=this.getLabelItems(t);for(const t of r){const n=t.options,r=t.font;Mb(e,t.label,0,t.textOffset,r,n)}n&&Nb(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:r}}=this;if(!n.display)return;const i=Wb(n.font),o=Hb(n.padding),a=n.align;let s=i.lineHeight/2;"bottom"===e||"center"===e||tv(e)?(s+=o.bottom,Zy(n.text)&&(s+=i.lineHeight*(n.text.length-1))):s+=o.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(t,e,n,r){const{top:i,left:o,bottom:a,right:s,chart:l}=t,{chartArea:c,scales:u}=l;let h,d,f,p=0;const m=a-i,g=s-o;if(t.isHorizontal()){if(d=Zv(r,o,s),tv(n)){const t=Object.keys(n)[0],r=n[t];f=u[t].getPixelForValue(r)+m-e}else f="center"===n?(c.bottom+c.top)/2+m-e:Zx(t,n,e);h=s-o}else{if(tv(n)){const t=Object.keys(n)[0],r=n[t];d=u[t].getPixelForValue(r)-g+e}else d="center"===n?(c.left+c.right)/2-g+e:Zx(t,n,e);f=Zv(r,a,i),p="left"===n?-Sv:Sv}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,s,e,a);Mb(t,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:h,textAlign:oE(a,e,r),textBaseline:"middle",translation:[l,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=rv(t.grid&&t.grid.z,-1),r=rv(t.border&&t.border.z,0);return this._isVisible()&&this.draw===aE.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,o;for(i=0,o=e.length;i<o;++i){const o=e[i];o[n]!==this.id||t&&o.type!==t||r.push(o)}return r}_resolveTickFontOptions(t){return Wb(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class sE{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const r=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in r||(r[i]=t,function(t,e,n){const r=hv(Object.create(null),[n?wb.get(n):{},wb.get(e),t.defaults]);wb.set(e,r),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((n=>{const r=n.split("."),i=r.pop(),o=[t].concat(r).join("."),a=e[n].split("."),s=a.pop(),l=a.join(".");wb.route(o,i,l,s)}))}(e,t.defaultRoutes),t.descriptors&&wb.describe(e,t.descriptors)}(t,o,n),this.override&&wb.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in wb[r]&&(delete wb[r][n],this.override&&delete mb[n])}}class lE{constructor(){this.controllers=new sE(Zw,"datasets",!0),this.elements=new sE(Xx,"elements"),this.plugins=new sE(Object,"plugins"),this.scales=new sE(aE,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach((e=>{const r=n||this._getRegistryForType(e);n||r.isForType(e)||r===this.plugins&&e.id?this._exec(t,r,e):av(e,(e=>{const r=n||this._getRegistryForType(e);this._exec(t,r,e)}))}))}_exec(t,e,n){const r=gv(t);ov(n["before"+r],[],n),e[t](n),ov(n["after"+r],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+n+".");return r}}var cE=new lE;class uE{constructor(){this._init=[]}notify(t,e,n,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(i,t,e,n);return"afterDestroy"===e&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,n,r){r=r||{};for(const i of t){const t=i.plugin;if(!1===ov(t[n],[e,r,i.options],t)&&r.cancelable)return!1}return!0}invalidate(){Jy(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,r=rv(n.options&&n.options.plugins,{}),i=function(t){const e={},n=[],r=Object.keys(cE.plugins.items);for(let t=0;t<r.length;t++)n.push(cE.getPlugin(r[t]));const i=t.plugins||[];for(let t=0;t<i.length;t++){const r=i[t];-1===n.indexOf(r)&&(n.push(r),e[r.id]=!0)}return{plugins:n,localIds:e}}(n);return!1!==r||e?function(t,{plugins:e,localIds:n},r,i){const o=[],a=t.getContext();for(const s of e){const e=s.id,l=hE(r[e],i);null!==l&&o.push({plugin:s,options:dE(t.config,{plugin:s,local:n[e]},l,a)})}return o}(t,i,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,r=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}}function hE(t,e){return e||!1!==t?!0===t?{}:t:null}function dE(t,{plugin:e,local:n},r,i){const o=t.pluginScopeKeys(e),a=t.getOptionScopes(r,o);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fE(t,e){const n=wb.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function pE(t,e){if("x"===t||"y"===t||"r"===t)return t;var n;if(t=e.axis||("top"===(n=e.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||t.length>1&&pE(t[0].toLowerCase(),e))return t;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function mE(t){const e=t.options||(t.options={});e.plugins=rv(e.plugins,{}),e.scales=function(t,e){const n=mb[t.type]||{scales:{}},r=e.scales||{},i=fE(t.type,e),o=Object.create(null);return Object.keys(r).forEach((t=>{const e=r[t];if(!tv(e))return console.error(`Invalid scale configuration for scale: ${t}`);if(e._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const a=pE(t,e),s=function(t,e){return t===e?"_index_":"_value_"}(a,i),l=n.scales||{};o[t]=dv(Object.create(null),[{axis:a},e,l[a],l[s]])})),t.data.datasets.forEach((n=>{const i=n.type||t.type,a=n.indexAxis||fE(i,e),s=(mb[i]||{}).scales||{};Object.keys(s).forEach((t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,a),i=n[e+"AxisID"]||e;o[i]=o[i]||Object.create(null),dv(o[i],[{axis:e},r[i],s[t]])}))})),Object.keys(o).forEach((t=>{const e=o[t];dv(e,[wb.scales[e.type],wb.scale])})),o}(t,e)}function gE(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const yE=new Map,vE=new Set;function bE(t,e){let n=yE.get(t);return n||(n=e(),yE.set(t,n),vE.add(n)),n}const wE=(t,e,n)=>{const r=mv(e,n);void 0!==r&&t.add(r)};class xE{constructor(t){this._config=function(t){return(t=t||{}).data=gE(t.data),mE(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=gE(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),mE(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return bE(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return bE(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return bE(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id;return bE(`${this.type}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let r=n.get(t);return r&&!e||(r=new Map,n.set(t,r)),r}getOptionScopes(t,e,n){const{options:r,type:i}=this,o=this._cachedScopes(t,n),a=o.get(e);if(a)return a;const s=new Set;e.forEach((e=>{t&&(s.add(t),e.forEach((e=>wE(s,t,e)))),e.forEach((t=>wE(s,r,t))),e.forEach((t=>wE(s,mb[i]||{},t))),e.forEach((t=>wE(s,wb,t))),e.forEach((t=>wE(s,gb,t)))}));const l=Array.from(s);return 0===l.length&&l.push(Object.create(null)),vE.has(e)&&o.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,mb[e]||{},wb.datasets[e]||{},{type:e},wb,gb]}resolveNamedOptions(t,e,n,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=EE(this._resolverCache,t,r);let s=o;(function(t,e){const{isScriptable:n,isIndexable:r}=Qb(t);for(const i of e){const e=n(i),o=r(i),a=(o||e)&&t[i];if(e&&(vv(a)||_E(a))||o&&Zy(a))return!0}return!1})(o,e)&&(i.$shared=!1,s=Kb(o,n=vv(n)?n():n,this.createResolver(t,n,a)));for(const t of e)i[t]=s[t];return i}createResolver(t,e,n=[""],r){const{resolver:i}=EE(this._resolverCache,t,n);return tv(e)?Kb(i,e,void 0,r):i}}function EE(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let o=r.get(i);return o||(o={resolver:Gb(e,n),subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},r.set(i,o)),o}const _E=t=>tv(t)&&Object.getOwnPropertyNames(t).reduce(((e,n)=>e||vv(t[n])),!1),kE=["top","bottom","left","right","chartArea"];function SE(t,e){return"top"===t||"bottom"===t||-1===kE.indexOf(t)&&"x"===e}function TE(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function CE(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ov(n&&n.onComplete,[t],e)}function IE(t){const e=t.chart,n=e.options.animation;ov(n&&n.onProgress,[t],e)}function NE(t){return fw()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const AE={},OE=t=>{const e=NE(t);return Object.values(AE).filter((t=>t.canvas===e)).pop()};function ME(t,e,n){const r=Object.keys(t);for(const i of r){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}class LE{static defaults=wb;static instances=AE;static overrides=mb;static registry=cE;static version="4.2.1";static getChart=OE;static register(...t){cE.add(...t),PE()}static unregister(...t){cE.remove(...t),PE()}constructor(t,e){const n=this.config=new xE(e),r=NE(t),i=OE(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(t){return!fw()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?Dx:Yx}(r)),this.platform.updateConfig(n);const a=this.platform.acquireContext(r,o.aspectRatio),s=a&&a.canvas,l=s&&s.height,c=s&&s.width;this.id=Xy(),this.ctx=a,this.canvas=s,this.width=c,this.height=l,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new uE,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}((t=>this.update(t)),o.resizeDelay||0),this._dataChanges=[],AE[this.id]=this,a&&s?(Fw.listen(this,"complete",CE),Fw.listen(this,"progress",IE),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:r,_aspectRatio:i}=this;return Jy(t)?e&&i?i:r?n/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return cE}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():xw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return kb(this.canvas,this.ctx),this}stop(){return Fw.stop(this),this}resize(t,e){Fw.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,e,i),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,xw(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),ov(n.onResize,[this,o],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){av(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,r=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let i=[];e&&(i=i.concat(Object.keys(e).map((t=>{const n=e[t],r=pE(t,n),i="r"===r,o="x"===r;return{options:n,dposition:i?"chartArea":o?"bottom":"left",dtype:i?"radialLinear":o?"category":"linear"}})))),av(i,(e=>{const i=e.options,o=i.id,a=pE(o,i),s=rv(i.type,e.dtype);void 0!==i.position&&SE(i.position,a)===SE(e.dposition)||(i.position=e.dposition),r[o]=!0;let l=null;o in n&&n[o].type===s?l=n[o]:(l=new(cE.getScale(s))({id:o,type:s,ctx:this.ctx,chart:this}),n[l.id]=l),l.init(i,t)})),av(r,((t,e)=>{t||delete n[e]})),av(n,(t=>{Lx.configure(this,t,t.options),Lx.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(TE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=e.length;n<r;n++){const r=e[n];let i=this.getDatasetMeta(n);const o=r.type||this.config.type;if(i.type&&i.type!==o&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=o,i.indexAxis=r.indexAxis||fE(o,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const e=cE.getController(o),{datasetElementType:r,dataElementType:a}=wb.datasets[o];Object.assign(e,{dataElementType:cE.getElement(a),datasetElementType:r&&cE.getElement(r)}),i.controller=new e(this,n),t.push(i.controller)}}return this._updateMetasets(),t}_resetElements(){av(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let t=0,e=this.data.datasets.length;t<e;t++){const{controller:e}=this.getDatasetMeta(t),n=!r&&-1===i.indexOf(e);e.buildOrUpdateElements(n),o=Math.max(+e.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),r||av(i,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(TE("z","_idx"));const{_active:a,_lastEvent:s}=this;s?this._eventHandler(s,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){av(this.scales,(t=>{Lx.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);bv(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of e)ME(t,r,"_removeElements"===n?-i:i)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),r=n(0);for(let t=1;t<e;t++)if(!bv(r,n(t)))return;return Array.from(r).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Lx.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],av(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,vv(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),r={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Fw.has(this)?this.attached&&!Fw.running(this)&&Fw.start(this):(this.draw(),CE({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let r,i;for(r=0,i=e.length;r<i;++r){const i=e[r];t&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,r=!n.disabled,i=function(t){const{xScale:e,yScale:n}=t;if(e&&n)return{left:e.left,right:e.right,top:n.top,bottom:n.bottom}}(t)||this.chartArea,o={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(r&&Ib(e,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),t.controller.draw(),r&&Nb(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return Cb(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,r){const i=xx.modes[e];return"function"==typeof i?i(this,t,n,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let r=n.filter((t=>t&&t._dataset===e)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=qb(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"==typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const r=n?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,r);yv(e)?(i.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(i,{visible:n}),this.update((e=>e.datasetIndex===t?r:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Fw.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),kb(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete AE[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};av(this.options.events,(t=>n(t,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(n,r)=>{t[n]&&(e.removeEventListener(this,n,r),delete t[n])},i=(t,e)=>{this.canvas&&this.resize(t,e)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){av(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},av(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const r=n?"set":"remove";let i,o,a,s;for("dataset"===e&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,s=t.length;a<s;++a){o=t[a];const e=o&&this.getDatasetMeta(o.datasetIndex).controller;e&&e[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((({datasetIndex:t,index:e})=>{const n=this.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[e],index:e}}));!sv(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,n){const r=this.options.hover,i=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),o=i(e,t),a=n?t:i(t,e);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:r=[],options:i}=this,o=e,a=this._getActiveElements(t,r,n,o),s=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,n,r){return n&&"mouseout"!==t.type?r?e:t:null}(t,this._lastEvent,n,s);n&&(this._lastEvent=null,ov(i.onHover,[t,a,this],this),s&&ov(i.onClick,[t,a,this],this));const c=!sv(a,r);return(c||e)&&(this._active=a,this._updateHoverStyles(a,r,e)),this._lastEvent=l,c}_getActiveElements(t,e,n,r){if("mouseout"===t.type)return[];if(!n)return e;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,r)}}function PE(){return av(LE.instances,(t=>t._plugins.invalidate()))}function DE(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function RE(t,e,n,r,i,o){const{x:a,y:s,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+r+n-c,0),d=u>0?u+r+n+c:0;let f=0;const p=i-l;if(r){const t=((u>0?u-r:0)+(h>0?h-r:0))/2;f=(p-(0!==t?p*t/(t+r):p))/2}const m=(p-Math.max(.001,p*h-n/wv)/h)/2,g=l+m+f,y=i-m-f,{outerStart:v,outerEnd:b,innerStart:w,innerEnd:x}=function(t,e,n,r){const i=Bb(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),o=(n-e)/2,a=Math.min(o,r*e/2),s=t=>{const e=(n-Math.min(o,t))*r/2;return Uv(t,0,Math.min(o,e))};return{outerStart:s(i.outerStart),outerEnd:s(i.outerEnd),innerStart:Uv(i.innerStart,0,a),innerEnd:Uv(i.innerEnd,0,a)}}(e,d,h,y-g),E=h-v,_=h-b,k=g+v/E,S=y-b/_,T=d+w,C=d+x,I=g+w/T,N=y-x/C;if(t.beginPath(),o){const e=(k+S)/2;if(t.arc(a,s,h,k,e),t.arc(a,s,h,e,S),b>0){const e=DE(_,S,a,s);t.arc(e.x,e.y,b,S,y+Sv)}const n=DE(C,y,a,s);if(t.lineTo(n.x,n.y),x>0){const e=DE(C,N,a,s);t.arc(e.x,e.y,x,y+Sv,N+Math.PI)}const r=(y-x/d+(g+w/d))/2;if(t.arc(a,s,d,y-x/d,r,!0),t.arc(a,s,d,r,g+w/d,!0),w>0){const e=DE(T,I,a,s);t.arc(e.x,e.y,w,I+Math.PI,g-Sv)}const i=DE(E,g,a,s);if(t.lineTo(i.x,i.y),v>0){const e=DE(E,k,a,s);t.arc(e.x,e.y,v,g-Sv,k)}}else{t.moveTo(a,s);const e=Math.cos(k)*h+a,n=Math.sin(k)*h+s;t.lineTo(e,n);const r=Math.cos(S)*h+a,i=Math.sin(S)*h+s;t.lineTo(r,i)}t.closePath()}function FE(t,e,n=e){t.lineCap=rv(n.borderCapStyle,e.borderCapStyle),t.setLineDash(rv(n.borderDash,e.borderDash)),t.lineDashOffset=rv(n.borderDashOffset,e.borderDashOffset),t.lineJoin=rv(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=rv(n.borderWidth,e.borderWidth),t.strokeStyle=rv(n.borderColor,e.borderColor)}function zE(t,e,n){t.lineTo(n.x,n.y)}function VE(t,e,n={}){const r=t.length,{start:i=0,end:o=r-1}=n,{start:a,end:s}=e,l=Math.max(i,a),c=Math.min(o,s),u=i<a&&o<a||i>s&&o>s;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function BE(t,e,n,r){const{points:i,options:o}=e,{count:a,start:s,loop:l,ilen:c}=VE(i,n,r),u=function(t){return t.stepped?Ab:t.tension||"monotone"===t.cubicInterpolationMode?Ob:zE}(o);let h,d,f,{move:p=!0,reverse:m}=r||{};for(h=0;h<=c;++h)d=i[(s+(m?c-h:h))%a],d.skip||(p?(t.moveTo(d.x,d.y),p=!1):u(t,f,d,m,o.stepped),f=d);return l&&(d=i[(s+(m?c:0))%a],u(t,f,d,m,o.stepped)),!!l}function jE(t,e,n,r){const i=e.points,{count:o,start:a,ilen:s}=VE(i,n,r),{move:l=!0,reverse:c}=r||{};let u,h,d,f,p,m,g=0,y=0;const v=t=>(a+(c?s-t:t))%o,b=()=>{f!==p&&(t.lineTo(g,p),t.lineTo(g,f),t.lineTo(g,m))};for(l&&(h=i[v(0)],t.moveTo(h.x,h.y)),u=0;u<=s;++u){if(h=i[v(u)],h.skip)continue;const e=h.x,n=h.y,r=0|e;r===d?(n<f?f=n:n>p&&(p=n),g=(y*g+e)/++y):(b(),t.lineTo(e,n),d=r,y=0,f=p=n),m=n}b()}function UE(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return t._decimated||t._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||n?BE:jE}const HE="function"==typeof Path2D;class WE extends Xx{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;dw(this._points,n,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const o=!!t._loop,{start:a,end:s}=function(t,e,n,r){let i=0,o=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(o+=i);o>i&&t[o%e].skip;)o--;return o%=e,{start:i,end:o}}(n,i,o,r);return function(t,e,n,r){return r&&r.setContext&&n?function(t,e,n,r){const i=t._chart.getContext(),o=Pw(t.options),{_datasetIndex:a,options:{spanGaps:s}}=t,l=n.length,c=[];let u=o,h=e[0].start,d=h;function f(t,e,r,i){const o=s?-1:1;if(t!==e){for(t+=l;n[t%l].skip;)t-=o;for(;n[e%l].skip;)e+=o;t%l!=e%l&&(c.push({start:t%l,end:e%l,loop:r,style:i}),u=i,h=e%l)}}for(const t of e){h=s?h:t.start;let e,o=n[h%l];for(d=h+1;d<=t.end;d++){const s=n[d%l];e=Pw(r.setContext(qb(i,{type:"segment",p0:o,p1:s,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:a}))),Dw(e,u)&&f(h,d-1,t.loop,u),o=s,u=e}h<d-1&&f(h,d-1,t.loop,u)}return c}(t,e,n,r):e}(t,!0===r?[{start:a,end:s,loop:o}]:function(t,e,n,r){const i=t.length,o=[];let a,s=e,l=t[e];for(a=e+1;a<=n;++a){const n=t[a%i];n.skip||n.stop?l.skip||(r=!1,o.push({start:e%i,end:(a-1)%i,loop:r}),e=s=n.stop?a:null):(s=a,l.skip&&(e=a)),l=n}return null!==s&&o.push({start:e%i,end:s%i,loop:r}),o}(n,a,s<a?s+i:s,!!t._fullLoop&&0===a&&s===i-1),n,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,r=t[e],i=this.points,o=Lw(this,{property:e,start:r,end:r});if(!o.length)return;const a=[],s=function(t){return t.stepped?Sw:t.tension||"monotone"===t.cubicInterpolationMode?Tw:kw}(n);let l,c;for(l=0,c=o.length;l<c;++l){const{start:c,end:u}=o[l],h=i[c],d=i[u];if(h===d){a.push(h);continue}const f=s(h,d,Math.abs((r-h[e])/(d[e]-h[e])),n.stepped);f[e]=t[e],a.push(f)}return 1===a.length?a[0]:a}pathSegment(t,e,n){return UE(this)(t,this,e,n)}path(t,e,n){const r=this.segments,i=UE(this);let o=this._loop;e=e||0,n=n||this.points.length-e;for(const a of r)o&=i(t,this,a,{start:e,end:e+n-1});return!!o}draw(t,e,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),function(t,e,n,r){HE&&!e.options.segment?function(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),FE(t,e.options),t.stroke(i)}(t,e,n,r):function(t,e,n,r){const{segments:i,options:o}=e,a=UE(e);for(const s of i)FE(t,o,s.style),t.beginPath(),a(t,e,s,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}(t,e,n,r)}(t,this,n,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function $E(t,e,n,r){const i=t.options,{[n]:o}=t.getProps([n],r);return Math.abs(e-o)<i.radius+i.hitRadius}function qE(t,e){const{x:n,y:r,base:i,width:o,height:a}=t.getProps(["x","y","base","width","height"],e);let s,l,c,u,h;return t.horizontal?(h=a/2,s=Math.min(n,i),l=Math.max(n,i),c=r-h,u=r+h):(h=o/2,s=n-h,l=n+h,c=Math.min(r,i),u=Math.max(r,i)),{left:s,top:c,right:l,bottom:u}}function GE(t,e,n,r){return t?0:Uv(e,n,r)}function KE(t,e,n,r){const i=null===e,o=null===n,a=t&&!(i&&o)&&qE(t,r);return a&&(i||Hv(e,a.left,a.right))&&(o||Hv(n,a.top,a.bottom))}function QE(t,e){t.rect(e.x,e.y,e.w,e.h)}function YE(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+o,h:t.h+a,radius:t.radius}}var XE=Object.freeze({__proto__:null,ArcElement:class extends Xx{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.getProps(["x","y"],n),{angle:i,distance:o}=Fv(r,{x:t,y:e}),{startAngle:a,endAngle:s,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=this.options.spacing/2,d=rv(u,s-a)>=xv||jv(i,a,s),f=Hv(o,l+h,c+h);return d&&f}getCenterPoint(t){const{x:e,y:n,startAngle:r,endAngle:i,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:s,spacing:l}=this.options,c=(r+i)/2,u=(o+a+l+s)/2;return{x:e+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,r=(e.offset||0)/4,i=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>xv?Math.floor(n/xv):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*r,Math.sin(a)*r);const s=r*(1-Math.sin(Math.min(wv,n||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,n,r,i){const{fullCircles:o,startAngle:a,circumference:s}=e;let l=e.endAngle;if(o){RE(t,e,n,r,l,i);for(let e=0;e<o;++e)t.fill();isNaN(s)||(l=a+(s%xv||xv))}RE(t,e,n,r,l,i),t.fill()}(t,this,s,i,o),function(t,e,n,r,i){const{fullCircles:o,startAngle:a,circumference:s,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,h="inner"===l.borderAlign;if(!c)return;h?(t.lineWidth=2*c,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let d=e.endAngle;if(o){RE(t,e,n,r,d,i);for(let e=0;e<o;++e)t.stroke();isNaN(s)||(d=a+(s%xv||xv))}h&&function(t,e,n){const{startAngle:r,pixelMargin:i,x:o,y:a,outerRadius:s,innerRadius:l}=e;let c=i/s;t.beginPath(),t.arc(o,a,s,r-c,n+c),l>i?(c=i/l,t.arc(o,a,l,n+c,r-c,!0)):t.arc(o,a,i,n+Sv,r-Sv),t.closePath(),t.clip()}(t,e,d),o||(RE(t,e,n,r,d,i),t.stroke())}(t,this,s,i,o),t.restore()}},LineElement:WE,PointElement:class extends Xx{static id="point";static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.options,{x:i,y:o}=this.getProps(["x","y"],n);return Math.pow(t-i,2)+Math.pow(e-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return $E(this,t,"x",e)}inYRange(t,e){return $E(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){let e=(t=t||this.options||{}).radius||0;return e=Math.max(e,e&&t.hoverRadius||0),2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this.options;this.skip||n.radius<.1||!Cb(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,Sb(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}},BarElement:class extends Xx{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:o}=function(t){const e=qE(t),n=e.right-e.left,r=e.bottom-e.top,i=function(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,o=jb(r);return{t:GE(i.top,o.top,0,n),r:GE(i.right,o.right,0,e),b:GE(i.bottom,o.bottom,0,n),l:GE(i.left,o.left,0,e)}}(t,n/2,r/2),o=function(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,o=Ub(i),a=Math.min(e,n),s=t.borderSkipped,l=r||tv(i);return{topLeft:GE(!l||s.top||s.left,o.topLeft,0,a),topRight:GE(!l||s.top||s.right,o.topRight,0,a),bottomLeft:GE(!l||s.bottom||s.left,o.bottomLeft,0,a),bottomRight:GE(!l||s.bottom||s.right,o.bottomRight,0,a)}}(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}(this),a=(s=o.radius).topLeft||s.topRight||s.bottomLeft||s.bottomRight?Db:QE;var s;t.save(),o.w===i.w&&o.h===i.h||(t.beginPath(),a(t,YE(o,e,i)),t.clip(),a(t,YE(i,-e,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,YE(i,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,n){return KE(this,t,e,n)}inXRange(t,e){return KE(this,t,null,e)}inYRange(t,e){return KE(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(e+r)/2:e,y:i?n:(n+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}});const JE=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],ZE=JE.map((t=>t.replace("rgb(","rgba(").replace(")",", 0.5)")));function t_(t){return JE[t%JE.length]}function e_(t){return ZE[t%ZE.length]}function n_(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}var r_={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=t.config,{elements:o}=i;if(!n.forceOverride&&(n_(r)||(a=i)&&(a.borderColor||a.backgroundColor)||o&&n_(o)))return;var a;const s=function(t){let e=0;return(n,r)=>{const i=t.getDatasetMeta(r).controller;i instanceof cx?e=function(t,e){return t.backgroundColor=t.data.map((()=>t_(e++))),e}(n,e):i instanceof ux?e=function(t,e){return t.backgroundColor=t.data.map((()=>e_(e++))),e}(n,e):i&&(e=function(t,e){return t.borderColor=t_(e),t.backgroundColor=e_(e),++e}(n,e))}}(t);r.forEach(s)}};function i_(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function o_(t){t.data.datasets.forEach((t=>{i_(t)}))}var a_={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled)return void o_(t);const r=t.width;t.data.datasets.forEach(((e,i)=>{const{_data:o,indexAxis:a}=e,s=t.getDatasetMeta(i),l=o||e.data;if("y"===$b([a,t.options.indexAxis]))return;if(!s.controller.supportsDecimation)return;const c=t.scales[s.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(t.options.parsing)return;let u,{start:h,count:d}=function(t,e){const n=e.length;let r,i=0;const{iScale:o}=t,{min:a,max:s,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(i=Uv($v(e,o.axis,a).lo,0,n-1)),r=c?Uv($v(e,o.axis,s).hi+1,i,n)-i:n-i,{start:i,count:r}}(s,l);if(d<=(n.threshold||4*r))i_(e);else{switch(Jy(o)&&(e._data=l,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),n.algorithm){case"lttb":u=function(t,e,n,r,i){const o=i.samples||r;if(o>=n)return t.slice(e,e+n);const a=[],s=(n-2)/(o-2);let l=0;const c=e+n-1;let u,h,d,f,p,m=e;for(a[l++]=t[m],u=0;u<o-2;u++){let r,i=0,o=0;const c=Math.floor((u+1)*s)+1+e,g=Math.min(Math.floor((u+2)*s)+1,n)+e,y=g-c;for(r=c;r<g;r++)i+=t[r].x,o+=t[r].y;i/=y,o/=y;const v=Math.floor(u*s)+1+e,b=Math.min(Math.floor((u+1)*s)+1,n)+e,{x:w,y:x}=t[m];for(d=f=-1,r=v;r<b;r++)f=.5*Math.abs((w-i)*(t[r].y-x)-(w-t[r].x)*(o-x)),f>d&&(d=f,h=t[r],p=r);a[l++]=h,m=p}return a[l++]=t[c],a}(l,h,d,r,n);break;case"min-max":u=function(t,e,n,r){let i,o,a,s,l,c,u,h,d,f,p=0,m=0;const g=[],y=e+n-1,v=t[e].x,b=t[y].x-v;for(i=e;i<e+n;++i){o=t[i],a=(o.x-v)/b*r,s=o.y;const e=0|a;if(e===l)s<d?(d=s,c=i):s>f&&(f=s,u=i),p=(m*p+o.x)/++m;else{const n=i-1;if(!Jy(c)&&!Jy(u)){const e=Math.min(c,u),r=Math.max(c,u);e!==h&&e!==n&&g.push({...t[e],x:p}),r!==h&&r!==n&&g.push({...t[r],x:p})}i>0&&n!==h&&g.push(t[n]),g.push(o),l=e,m=0,d=f=s,c=u=h=i}}return g}(l,h,d,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}e._decimated=u}}))},destroy(t){o_(t)}};function s_(t,e,n,r){if(r)return;let i=e[t],o=n[t];return"angle"===t&&(i=Bv(i),o=Bv(o)),{property:t,start:i,end:o}}function l_(t,e,n){for(;e>t;e--){const t=n[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function c_(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function u_(t,e){let n=[],r=!1;return Zy(t)?(r=!0,n=t):n=function(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,o=[];return e.segments.forEach((({start:t,end:e})=>{e=l_(t,e,i);const a=i[t],s=i[e];null!==r?(o.push({x:a.x,y:r}),o.push({x:s.x,y:r})):null!==n&&(o.push({x:n,y:a.y}),o.push({x:n,y:s.y}))})),o}(t,e),n.length?new WE({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function h_(t){return t&&!1!==t.fill}function d_(t,e,n){let r=t[e].fill;const i=[e];let o;if(!n)return r;for(;!1!==r&&-1===i.indexOf(r);){if(!ev(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;i.push(r),r=o.fill}return!1}function f_(t,e,n){const r=function(t){const e=t.options,n=e.fill;let r=rv(n&&n.target,n);return void 0===r&&(r=!!e.backgroundColor),!1!==r&&null!==r&&(!0===r?"origin":r)}(t);if(tv(r))return!isNaN(r.value)&&r;let i=parseFloat(r);return ev(i)&&Math.floor(i)===i?function(t,e,n,r){return"-"!==t&&"+"!==t||(n=e+n),!(n===e||n<0||n>=r)&&n}(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function p_(t,e,n){const r=[];for(let i=0;i<n.length;i++){const o=n[i],{first:a,last:s,point:l}=m_(o,e,"x");if(!(!l||a&&s))if(a)r.unshift(l);else if(t.push(l),!s)break}t.push(...r)}function m_(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],o=t.segments,a=t.points;let s=!1,l=!1;for(let t=0;t<o.length;t++){const e=o[t],r=a[e.start][n],c=a[e.end][n];if(Hv(i,r,c)){s=i===r,l=i===c;break}}return{first:s,last:l,point:r}}class g_{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:r,y:i,radius:o}=this;return e=e||{start:0,end:xv},t.arc(r,i,o,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:r}=this,i=t.angle;return{x:e+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}function y_(t,e,n){const r=function(t){const{chart:e,fill:n,line:r}=t;if(ev(n))return function(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}(e,n);if("stack"===n)return function(t){const{scale:e,index:n,line:r}=t,i=[],o=r.segments,a=r.points,s=function(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let t=0;t<r.length;t++){const i=r[t];if(i.index===e)break;i.hidden||n.unshift(i.dataset)}return n}(e,n);s.push(u_({x:null,y:e.bottom},r));for(let t=0;t<o.length;t++){const e=o[t];for(let t=e.start;t<=e.end;t++)p_(i,a[t],s)}return new WE({points:i,options:{}})}(t);if("shape"===n)return!0;const i=function(t){return(t.scale||{}).getPointPositionForValue?function(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,o=r.reverse?e.max:e.min,a=function(t,e,n){let r;return r="start"===t?n:"end"===t?e.options.reverse?e.min:e.max:tv(t)?t.value:e.getBaseValue(),r}(n,e,o),s=[];if(r.grid.circular){const t=e.getPointPositionForValue(0,o);return new g_({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(a)})}for(let t=0;t<i;++t)s.push(e.getPointPositionForValue(t,a));return s}(t):function(t){const{scale:e={},fill:n}=t,r=function(t,e){let n=null;return"start"===t?n=e.bottom:"end"===t?n=e.top:tv(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}(n,e);if(ev(r)){const t=e.isHorizontal();return{x:t?r:null,y:t?null:r}}return null}(t)}(t);return i instanceof g_?i:u_(i,r)}(e),{line:i,scale:o,axis:a}=e,s=i.options,l=s.fill,c=s.backgroundColor,{above:u=c,below:h=c}=l||{};r&&i.points.length&&(Ib(t,n),function(t,e){const{line:n,target:r,above:i,below:o,area:a,scale:s}=e,l=n._loop?"angle":e.axis;t.save(),"x"===l&&o!==i&&(v_(t,r,a.top),b_(t,{line:n,target:r,color:i,scale:s,property:l}),t.restore(),t.save(),v_(t,r,a.bottom)),b_(t,{line:n,target:r,color:o,scale:s,property:l}),t.restore()}(t,{line:i,target:r,above:u,below:h,area:n,scale:o,axis:a}),Nb(t))}function v_(t,e,n){const{segments:r,points:i}=e;let o=!0,a=!1;t.beginPath();for(const s of r){const{start:r,end:l}=s,c=i[r],u=i[l_(r,l,i)];o?(t.moveTo(c.x,c.y),o=!1):(t.lineTo(c.x,n),t.lineTo(c.x,c.y)),a=!!e.pathSegment(t,s,{move:a}),a?t.closePath():t.lineTo(u.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function b_(t,e){const{line:n,target:r,property:i,color:o,scale:a}=e,s=function(t,e,n){const r=t.segments,i=t.points,o=e.points,a=[];for(const t of r){let{start:r,end:s}=t;s=l_(r,s,i);const l=s_(n,i[r],i[s],t.loop);if(!e.segments){a.push({source:t,target:l,start:i[r],end:i[s]});continue}const c=Lw(e,l);for(const e of c){const r=s_(n,o[e.start],o[e.end],e.loop),s=Mw(t,i,r);for(const t of s)a.push({source:t,target:e,start:{[n]:c_(l,r,"start",Math.max)},end:{[n]:c_(l,r,"end",Math.min)}})}}return a}(n,r,i);for(const{source:e,target:l,start:c,end:u}of s){const{style:{backgroundColor:s=o}={}}=e,h=!0!==r;t.save(),t.fillStyle=s,w_(t,a,h&&s_(i,c,u)),t.beginPath();const d=!!n.pathSegment(t,e);let f;if(h){d?t.closePath():x_(t,r,u,i);const e=!!r.pathSegment(t,l,{move:d,reverse:!0});f=d&&e,f||x_(t,r,c,i)}t.closePath(),t.fill(f?"evenodd":"nonzero"),t.restore()}}function w_(t,e,n){const{top:r,bottom:i}=e.chart.chartArea,{property:o,start:a,end:s}=n||{};"x"===o&&(t.beginPath(),t.rect(a,r,s-a,i-r),t.clip())}function x_(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var E_={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let o,a,s,l;for(a=0;a<r;++a)o=t.getDatasetMeta(a),s=o.dataset,l=null,s&&s.options&&s instanceof WE&&(l={visible:t.isDatasetVisible(a),index:a,fill:f_(s,a,r),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:s}),o.$filler=l,i.push(l);for(a=0;a<r;++a)l=i[a],l&&!1!==l.fill&&(l.fill=d_(i,a,n.propagate))},beforeDraw(t,e,n){const r="beforeDraw"===n.drawTime,i=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let e=i.length-1;e>=0;--e){const n=i[e].$filler;n&&(n.line.updateControlPoints(o,n.axis),r&&n.fill&&y_(t.ctx,n,o))}},beforeDatasetsDraw(t,e,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=t.getSortedVisibleDatasetMetas();for(let e=r.length-1;e>=0;--e){const n=r[e].$filler;h_(n)&&y_(t.ctx,n,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;h_(r)&&"beforeDatasetDraw"===n.drawTime&&y_(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const __=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}};class k_ extends Xx{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ov(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,r=Wb(n.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:s}=__(n,i);let l,c;e.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(o,i,a,s)+10):(c=this.maxHeight,l=this._fitCols(o,r,a,s)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,r){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+a;let u=t;i.textAlign="left",i.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((t,f)=>{const p=n+e/2+i.measureText(t.text).width;(0===f||l[l.length-1]+p+2*a>o)&&(u+=c,l[l.length-(f>0?0:1)]=0,d+=c,h++),s[f]={left:0,top:d,row:h,width:p,height:r},l[l.length-1]+=p+a})),u}_fitCols(t,e,n,r){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],l=this.columnSizes=[],c=o-t;let u=a,h=0,d=0,f=0,p=0;return this.legendItems.forEach(((t,o)=>{const{itemWidth:m,itemHeight:g}=function(t,e,n,r,i){const o=function(t,e,n,r){let i=t.text;return i&&"string"!=typeof i&&(i=i.reduce(((t,e)=>t.length>e.length?t:e))),e+n.size/2+r.measureText(i).width}(r,t,e,n),a=function(t,e,n){let r=t;return"string"!=typeof e.text&&(r=S_(e,n)),r}(i,r,e.lineHeight);return{itemWidth:o,itemHeight:a}}(n,e,i,t,r);o>0&&d+g+2*a>c&&(u+=h+a,l.push({width:h,height:d}),f+=h+a,p++,h=d=0),s[o]={left:f,top:d,col:p,width:m,height:g},h=Math.max(h,m),d+=g+a})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:r},rtl:i}}=this,o=Cw(i,this.left,this.width);if(this.isHorizontal()){let i=0,a=Zv(n,this.left+r,this.right-this.lineWidths[i]);for(const s of e)i!==s.row&&(i=s.row,a=Zv(n,this.left+r,this.right-this.lineWidths[i])),s.top+=this.top+t+r,s.left=o.leftForLtr(o.x(a),s.width),a+=s.width+r}else{let i=0,a=Zv(n,this.top+t+r,this.bottom-this.columnSizes[i].height);for(const s of e)s.col!==i&&(i=s.col,a=Zv(n,this.top+t+r,this.bottom-this.columnSizes[i].height)),s.top=a,s.left+=this.left+r,s.left=o.leftForLtr(o.x(s.left),s.width),a+=s.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Ib(t,this),this._draw(),Nb(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:r}=this,{align:i,labels:o}=t,a=wb.color,s=Cw(t.rtl,this.left,this.width),l=Wb(o.font),{padding:c}=o,u=l.size,h=u/2;let d;this.drawTitle(),r.textAlign=s.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:m}=__(o,u),g=this.isHorizontal(),y=this._computeTitleHeight();d=g?{x:Zv(i,this.left+c,this.right-n[0]),y:this.top+c+y,line:0}:{x:this.left+c,y:Zv(i,this.top+y+c,this.bottom-e[0].height),line:0},Iw(this.ctx,t.textDirection);const v=m+c;this.legendItems.forEach(((b,w)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const x=r.measureText(b.text).width,E=s.textAlign(b.textAlign||(b.textAlign=o.textAlign)),_=f+h+x;let k=d.x,S=d.y;if(s.setWidth(this.width),g?w>0&&k+_+c>this.right&&(S=d.y+=v,d.line++,k=d.x=Zv(i,this.left+c,this.right-n[d.line])):w>0&&S+v>this.bottom&&(k=d.x=k+e[d.line].width+c,d.line++,S=d.y=Zv(i,this.top+y+c,this.bottom-e[d.line].height)),function(t,e,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;r.save();const i=rv(n.lineWidth,1);if(r.fillStyle=rv(n.fillStyle,a),r.lineCap=rv(n.lineCap,"butt"),r.lineDashOffset=rv(n.lineDashOffset,0),r.lineJoin=rv(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=rv(n.strokeStyle,a),r.setLineDash(rv(n.lineDash,[])),o.usePointStyle){const a={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=s.xPlus(t,f/2);Tb(r,a,l,e+h,o.pointStyleWidth&&f)}else{const o=e+Math.max((u-p)/2,0),a=s.leftForLtr(t,f),l=Ub(n.borderRadius);r.beginPath(),Object.values(l).some((t=>0!==t))?Db(r,{x:a,y:o,w:f,h:p,radius:l}):r.rect(a,o,f,p),r.fill(),0!==i&&r.stroke()}r.restore()}(s.x(k),S,b),k=((t,e,n,r)=>t===(r?"left":"right")?n:"center"===t?(e+n)/2:e)(E,k+f+h,g?k+_:this.right,t.rtl),function(t,e,n){Mb(r,n.text,t,e+m/2,l,{strikethrough:n.hidden,textAlign:s.textAlign(n.textAlign)})}(s.x(k),S,b),g)d.x+=_+c;else if("string"!=typeof b.text){const t=l.lineHeight;d.y+=S_(b,t)}else d.y+=v})),Nw(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=Wb(e.font),r=Hb(e.padding);if(!e.display)return;const i=Cw(t.rtl,this.left,this.width),o=this.ctx,a=e.position,s=n.size/2,l=r.top+s;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=Zv(t.align,u,this.right-h);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);c=l+Zv(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const d=Zv(a,u,u+h);o.textAlign=i.textAlign(Jv(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,Mb(o,e.text,d,c,n)}_computeTitleHeight(){const t=this.options.title,e=Wb(t.font),n=Hb(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,r,i;if(Hv(t,this.left,this.right)&&Hv(e,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],Hv(t,r.left,r.left+r.width)&&Hv(e,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function(t,e){return!("mousemove"!==t&&"mouseout"!==t||!e.onHover&&!e.onLeave)||!(!e.onClick||"click"!==t&&"mouseup"!==t)}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,i=((t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index)(r,n);r&&!i&&ov(e.onLeave,[t,r,this],this),this._hoveredItem=n,n&&!i&&ov(e.onHover,[t,n,this],this)}else n&&ov(e.onClick,[t,n,this],this)}}function S_(t,e){return e*(t.text?t.text.length+.5:0)}var T_={id:"legend",_element:k_,start(t,e,n){const r=t.legend=new k_({ctx:t.ctx,options:n,chart:t});Lx.configure(t,r,n),Lx.addBox(t,r)},stop(t){Lx.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Lx.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:o,useBorderRadius:a,borderRadius:s}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(n?0:void 0),c=Hb(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:a&&(s||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class C_ extends Xx{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=Zy(n.text)?n.text.length:1;this._padding=Hb(n.padding);const i=r*Wb(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:r,right:i,options:o}=this,a=o.align;let s,l,c,u=0;return this.isHorizontal()?(l=Zv(a,n,i),c=e+t,s=i-n):("left"===o.position?(l=n+t,c=Zv(a,r,e),u=-.5*wv):(l=i-t,c=Zv(a,e,r),u=.5*wv),s=r-e),{titleX:l,titleY:c,maxWidth:s,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=Wb(e.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:o,maxWidth:a,rotation:s}=this._drawArgs(r);Mb(t,e.text,0,0,n,{color:e.color,maxWidth:a,rotation:s,textAlign:Jv(e.align),textBaseline:"middle",translation:[i,o]})}}var I_={id:"title",_element:C_,start(t,e,n){!function(t,e){const n=new C_({ctx:t.ctx,options:e,chart:t});Lx.configure(t,n,e),Lx.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){const e=t.titleBlock;Lx.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Lx.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const N_=new WeakMap;var A_={id:"subtitle",start(t,e,n){const r=new C_({ctx:t.ctx,options:n,chart:t});Lx.configure(t,r,n),Lx.addBox(t,r),N_.set(t,r)},stop(t){Lx.removeBox(t,N_.get(t)),N_.delete(t)},beforeUpdate(t,e,n){const r=N_.get(t);Lx.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const O_={average(t){if(!t.length)return!1;let e,n,r=0,i=0,o=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();r+=t.x,i+=t.y,++o}}return{x:r/o,y:i/o}},nearest(t,e){if(!t.length)return!1;let n,r,i,o=e.x,a=e.y,s=Number.POSITIVE_INFINITY;for(n=0,r=t.length;n<r;++n){const r=t[n].element;if(r&&r.hasValue()){const t=zv(e,r.getCenterPoint());t<s&&(s=t,i=r)}}if(i){const t=i.tooltipPosition();o=t.x,a=t.y}return{x:o,y:a}}};function M_(t,e){return e&&(Zy(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function L_(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function P_(t,e){const{element:n,datasetIndex:r,index:i}=e,o=t.getDatasetMeta(r).controller,{label:a,value:s}=o.getLabelAndValue(i);return{chart:t,label:a,parsed:o.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:s,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function D_(t,e){const n=t.chart.ctx,{body:r,footer:i,title:o}=t,{boxWidth:a,boxHeight:s}=e,l=Wb(e.bodyFont),c=Wb(e.titleFont),u=Wb(e.footerFont),h=o.length,d=i.length,f=r.length,p=Hb(e.padding);let m=p.height,g=0,y=r.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);y+=t.beforeBody.length+t.afterBody.length,h&&(m+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y&&(m+=f*(e.displayColors?Math.max(s,l.lineHeight):l.lineHeight)+(y-f)*l.lineHeight+(y-1)*e.bodySpacing),d&&(m+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let v=0;const b=function(t){g=Math.max(g,n.measureText(t).width+v)};return n.save(),n.font=c.string,av(t.title,b),n.font=l.string,av(t.beforeBody.concat(t.afterBody),b),v=e.displayColors?a+2+e.boxPadding:0,av(r,(t=>{av(t.before,b),av(t.lines,b),av(t.after,b)})),v=0,n.font=u.string,av(t.footer,b),n.restore(),g+=p.width,{width:g,height:m}}function R_(t,e,n,r){const{x:i,width:o}=n,{width:a,chartArea:{left:s,right:l}}=t;let c="center";return"center"===r?c=i<=(s+l)/2?"left":"right":i<=o/2?c="left":i>=a-o/2&&(c="right"),function(t,e,n,r){const{x:i,width:o}=r,a=n.caretSize+n.caretPadding;return"left"===t&&i+o+a>e.width||"right"===t&&i-o-a<0||void 0}(c,t,e,n)&&(c="center"),c}function F_(t,e,n){const r=n.yAlign||e.yAlign||function(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||R_(t,e,n,r),yAlign:r}}function z_(t,e,n,r){const{caretSize:i,caretPadding:o,cornerRadius:a}=t,{xAlign:s,yAlign:l}=n,c=i+o,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Ub(a);let p=function(t,e){let{x:n,width:r}=t;return"right"===e?n-=r:"center"===e&&(n-=r/2),n}(e,s);const m=function(t,e,n){let{y:r,height:i}=t;return"top"===e?r+=n:r-="bottom"===e?i+n:i/2,r}(e,l,c);return"center"===l?"left"===s?p+=c:"right"===s&&(p-=c):"left"===s?p-=Math.max(u,d)+i:"right"===s&&(p+=Math.max(h,f)+i),{x:Uv(p,0,r.width-e.width),y:Uv(m,0,r.height-e.height)}}function V_(t,e,n){const r=Hb(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-r.right:t.x+r.left}function B_(t){return M_([],L_(t))}function j_(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const U_={beforeTitle:Yy,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Yy,beforeBody:Yy,beforeLabel:Yy,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Jy(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Yy,afterBody:Yy,beforeFooter:Yy,footer:Yy,afterFooter:Yy};function H_(t,e,n,r){const i=t[e].call(n,r);return void 0===i?U_[e].call(n,r):i}class W_ extends Xx{static positioners=O_;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&e.options.animation&&n.animations,i=new jw(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(this,qb(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"})))}getTitle(t,e){const{callbacks:n}=e,r=H_(n,"beforeTitle",this,t),i=H_(n,"title",this,t),o=H_(n,"afterTitle",this,t);let a=[];return a=M_(a,L_(r)),a=M_(a,L_(i)),a=M_(a,L_(o)),a}getBeforeBody(t,e){return B_(H_(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,r=[];return av(t,(t=>{const e={before:[],lines:[],after:[]},i=j_(n,t);M_(e.before,L_(H_(i,"beforeLabel",this,t))),M_(e.lines,H_(i,"label",this,t)),M_(e.after,L_(H_(i,"afterLabel",this,t))),r.push(e)})),r}getAfterBody(t,e){return B_(H_(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,r=H_(n,"beforeFooter",this,t),i=H_(n,"footer",this,t),o=H_(n,"afterFooter",this,t);let a=[];return a=M_(a,L_(r)),a=M_(a,L_(i)),a=M_(a,L_(o)),a}_createItems(t){const e=this._active,n=this.chart.data,r=[],i=[],o=[];let a,s,l=[];for(a=0,s=e.length;a<s;++a)l.push(P_(this.chart,e[a]));return t.filter&&(l=l.filter(((e,r,i)=>t.filter(e,r,i,n)))),t.itemSort&&(l=l.sort(((e,r)=>t.itemSort(e,r,n)))),av(l,(e=>{const n=j_(t.callbacks,e);r.push(H_(n,"labelColor",this,e)),i.push(H_(n,"labelPointStyle",this,e)),o.push(H_(n,"labelTextColor",this,e))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(r.length){const t=O_[n.position].call(this,r,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const e=this._size=D_(this,n),a=Object.assign({},t,e),s=F_(this.chart,n,a),l=z_(n,a,s,this.chart);this.xAlign=s.xAlign,this.yAlign=s.yAlign,i={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,r){const i=this.getCaretPosition(t,n,r);e.lineTo(i.x1,i.y1),e.lineTo(i.x2,i.y2),e.lineTo(i.x3,i.y3)}getCaretPosition(t,e,n){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:s,topRight:l,bottomLeft:c,bottomRight:u}=Ub(a),{x:h,y:d}=t,{width:f,height:p}=e;let m,g,y,v,b,w;return"center"===i?(b=d+p/2,"left"===r?(m=h,g=m-o,v=b+o,w=b-o):(m=h+f,g=m+o,v=b-o,w=b+o),y=m):(g="left"===r?h+Math.max(s,c)+o:"right"===r?h+f-Math.max(l,u)-o:this.caretX,"top"===i?(v=d,b=v-o,m=g-o,y=g+o):(v=d+p,b=v+o,m=g+o,y=g-o),w=v),{x1:m,x2:g,x3:y,y1:v,y2:b,y3:w}}drawTitle(t,e,n){const r=this.title,i=r.length;let o,a,s;if(i){const l=Cw(n.rtl,this.x,this.width);for(t.x=V_(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",o=Wb(n.titleFont),a=n.titleSpacing,e.fillStyle=n.titleColor,e.font=o.string,s=0;s<i;++s)e.fillText(r[s],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,s+1===i&&(t.y+=n.titleMarginBottom-a)}}_drawColorBox(t,e,n,r,i){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:s,boxWidth:l,boxPadding:c}=i,u=Wb(i.bodyFont),h=V_(this,"left",i),d=r.x(h),f=s<u.lineHeight?(u.lineHeight-s)/2:0,p=e.y+f;if(i.usePointStyle){const e={radius:Math.min(l,s)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=r.leftForLtr(d,l)+l/2,c=p+s/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,Sb(t,e,n,c),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Sb(t,e,n,c)}else{t.lineWidth=tv(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const e=r.leftForLtr(d,l-c),n=r.leftForLtr(r.xPlus(d,1),l-c-2),a=Ub(o.borderRadius);Object.values(a).some((t=>0!==t))?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Db(t,{x:e,y:p,w:l,h:s,radius:a}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Db(t,{x:n,y:p+1,w:l-2,h:s-2,radius:a}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(e,p,l,s),t.strokeRect(e,p,l,s),t.fillStyle=o.backgroundColor,t.fillRect(n,p+1,l-2,s-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:s,boxWidth:l,boxPadding:c}=n,u=Wb(n.bodyFont);let h=u.lineHeight,d=0;const f=Cw(n.rtl,this.x,this.width),p=function(n){e.fillText(n,f.x(t.x+d),t.y+h/2),t.y+=h+i},m=f.textAlign(o);let g,y,v,b,w,x,E;for(e.textAlign=o,e.textBaseline="middle",e.font=u.string,t.x=V_(this,m,n),e.fillStyle=n.bodyColor,av(this.beforeBody,p),d=a&&"right"!==m?"center"===o?l/2+c:l+2+c:0,b=0,x=r.length;b<x;++b){for(g=r[b],y=this.labelTextColors[b],e.fillStyle=y,av(g.before,p),v=g.lines,a&&v.length&&(this._drawColorBox(e,t,b,f,n),h=Math.max(u.lineHeight,s)),w=0,E=v.length;w<E;++w)p(v[w]),h=u.lineHeight;av(g.after,p)}d=0,h=u.lineHeight,av(this.afterBody,p),t.y-=i}drawFooter(t,e,n){const r=this.footer,i=r.length;let o,a;if(i){const s=Cw(n.rtl,this.x,this.width);for(t.x=V_(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=s.textAlign(n.footerAlign),e.textBaseline="middle",o=Wb(n.footerFont),e.fillStyle=n.footerColor,e.font=o.string,a=0;a<i;++a)e.fillText(r[a],s.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,e,n,r){const{xAlign:i,yAlign:o}=this,{x:a,y:s}=t,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Ub(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(a+u,s),"top"===o&&this.drawCaret(t,e,n,r),e.lineTo(a+l-h,s),e.quadraticCurveTo(a+l,s,a+l,s+h),"center"===o&&"right"===i&&this.drawCaret(t,e,n,r),e.lineTo(a+l,s+c-f),e.quadraticCurveTo(a+l,s+c,a+l-f,s+c),"bottom"===o&&this.drawCaret(t,e,n,r),e.lineTo(a+d,s+c),e.quadraticCurveTo(a,s+c,a,s+c-d),"center"===o&&"left"===i&&this.drawCaret(t,e,n,r),e.lineTo(a,s+u),e.quadraticCurveTo(a,s,a+u,s),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=O_[t.position].call(this,this._active,this._eventPosition);if(!n)return;const o=this._size=D_(this,t),a=Object.assign({},n,this._size),s=F_(e,t,a),l=z_(t,a,s,e);r._to===l.x&&i._to===l.y||(this.xAlign=s.xAlign,this.yAlign=s.yAlign,this.width=o.width,this.height=o.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Hb(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=n,this.drawBackground(i,t,r,e),Iw(t,e.textDirection),i.y+=o.top,this.drawTitle(i,t,e),this.drawBody(i,t,e),this.drawFooter(i,t,e),Nw(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,r=t.map((({datasetIndex:t,index:e})=>{const n=this.chart.getDatasetMeta(t);if(!n)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:n.data[e],index:e}})),i=!sv(n,r),o=this._positionChanged(r,e);(i||o)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(t,i,e,n),a=this._positionChanged(o,t),s=e||!sv(o,i)||a;return s&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),s}_getActiveElements(t,e,n,r){const i=this.options;if("mouseout"===t.type)return[];if(!r)return e;const o=this.chart.getElementsAtEventForMode(t,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:n,caretY:r,options:i}=this,o=O_[i.position].call(this,t,e);return!1!==o&&(n!==o.x||r!==o.y)}}var $_={id:"tooltip",_element:W_,positioners:O_,afterInit(t,e,n){n&&(t.tooltip=new W_({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:U_},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},q_=Object.freeze({__proto__:null,Colors:r_,Decimation:a_,Filler:E_,Legend:T_,SubTitle:A_,Title:I_,Tooltip:$_});function G_(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}function K_(t,e,{horizontal:n,minRotation:r}){const i=Pv(r),o=(n?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/o,a)}class Q_ extends aE{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Jy(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const o=t=>r=e?r:t,a=t=>i=n?i:t;if(t){const t=Nv(r),e=Nv(i);t<0&&e<0?a(0):t>0&&e>0&&o(0)}if(r===i){let e=0===i?1:Math.abs(.05*i);a(i+e),t||o(r-e)}this.min=r,this.max=i}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:r}=t;return r?(e=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=function(t,e){const n=[],{bounds:r,step:i,min:o,max:a,precision:s,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=t,d=i||1,f=c-1,{min:p,max:m}=e,g=!Jy(o),y=!Jy(a),v=!Jy(l),b=(m-p)/(u+1);let w,x,E,_,k=Ov((m-p)/f/d)*d;if(k<1e-14&&!g&&!y)return[{value:p},{value:m}];_=Math.ceil(m/k)-Math.floor(p/k),_>f&&(k=Ov(_*k/f/d)*d),Jy(s)||(w=Math.pow(10,s),k=Math.ceil(k*w)/w),"ticks"===r?(x=Math.floor(p/k)*k,E=Math.ceil(m/k)*k):(x=p,E=m),g&&y&&i&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((a-o)/i,k/1e3)?(_=Math.round(Math.min((a-o)/k,c)),k=(a-o)/_,x=o,E=a):v?(x=g?o:x,E=y?a:E,_=l-1,k=(E-x)/_):(_=(E-x)/k,_=Av(_,Math.round(_),k/1e3)?Math.round(_):Math.ceil(_));const S=Math.max(Rv(k),Rv(x));w=Math.pow(10,Jy(s)?S:s),x=Math.round(x*w)/w,E=Math.round(E*w)/w;let T=0;for(g&&(h&&x!==o?(n.push({value:o}),x<o&&T++,Av(Math.round((x+T*k)*w)/w,o,K_(o,b,t))&&T++):x<o&&T++);T<_;++T)n.push({value:Math.round((x+T*k)*w)/w});return y&&h&&E!==a?n.length&&Av(n[n.length-1].value,a,K_(a,b,t))?n[n.length-1].value=a:n.push({value:a}):y&&E!==a||n.push({value:E}),n}({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&Lv(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const r=(n-e)/Math.max(t.length-1,1)/2;e-=r,n+=r}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return db(t,this.chart.options.locale,this.options.ticks.format)}}class Y_ extends Q_{static id="linear";static defaults={ticks:{callback:pb.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ev(t)?t:0,this.max=ev(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=Pv(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,i.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const X_=t=>Math.floor(Iv(t)),J_=(t,e)=>Math.pow(10,X_(t)+e);function Z_(t){return 1==t/Math.pow(10,X_(t))}function tk(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}class ek extends aE{static id="logarithmic";static defaults={ticks:{callback:pb.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=Q_.prototype.parse.apply(this,[t,e]);if(0!==n)return ev(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ev(t)?Math.max(0,t):null,this.max=ev(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ev(this._userMin)&&(this.min=t===J_(this.min,0)?J_(this.min,-1):J_(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,r=this.max;const i=e=>n=t?n:e,o=t=>r=e?r:t;n===r&&(n<=0?(i(1),o(10)):(i(J_(n,-1)),o(J_(r,1)))),n<=0&&i(J_(r,-1)),r<=0&&o(J_(n,1)),this.min=n,this.max=r}buildTicks(){const t=this.options,e=function(t,{min:e,max:n}){e=nv(t.min,e);const r=[],i=X_(e);let o=function(t,e){let n=X_(e-t);for(;tk(t,e,n)>10;)n++;for(;tk(t,e,n)<10;)n--;return Math.min(n,X_(t))}(e,n),a=o<0?Math.pow(10,Math.abs(o)):1;const s=Math.pow(10,o),l=i>o?Math.pow(10,i):0,c=Math.round((e-l)*a)/a,u=Math.floor((e-l)/s/10)*s*10;let h=Math.floor((c-u)/Math.pow(10,o)),d=nv(t.min,Math.round((l+u+h*Math.pow(10,o))*a)/a);for(;d<n;)r.push({value:d,major:Z_(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(o++,h=2,a=o>=0?1:a),d=Math.round((l+u+h*Math.pow(10,o))*a)/a;const f=nv(t.max,d);return r.push({value:f,major:Z_(f),significand:h}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&Lv(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":db(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Iv(t),this._valueRange=Iv(this.max)-Iv(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Iv(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function nk(t){const e=t.ticks;if(e.display&&t.display){const t=Hb(e.backdropPadding);return rv(e.font&&e.font.size,wb.font.size)+t.height}return 0}function rk(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function ik(t,e,n,r,i){const o=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let s=0,l=0;r.start<e.l?(s=(e.l-r.start)/o,t.l=Math.min(t.l,e.l-s)):r.end>e.r&&(s=(r.end-e.r)/o,t.r=Math.max(t.r,e.r+s)),i.start<e.t?(l=(e.t-i.start)/a,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/a,t.b=Math.max(t.b,e.b+l))}function ok(t){return 0===t||180===t?"center":t<180?"left":"right"}function ak(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function sk(t,e,n){return 90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e),t}function lk(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,xv);else{let n=t.getPointPosition(0,e);i.moveTo(n.x,n.y);for(let o=1;o<r;o++)n=t.getPointPosition(o,e),i.lineTo(n.x,n.y)}}class ck extends Q_{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:pb.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Hb(nk(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=ev(t)&&!isNaN(t)?t:0,this.max=ev(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/nk(this.options))}generateTickLabels(t){Q_.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const n=ov(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?function(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],o=t._pointLabels.length,a=t.options.pointLabels,s=a.centerPointLabels?wv/o:0;for(let h=0;h<o;h++){const o=a.setContext(t.getPointLabelContext(h));i[h]=o.padding;const d=t.getPointPosition(h,t.drawingArea+i[h],s),f=Wb(o.font),p=(l=t.ctx,c=f,u=Zy(u=t._pointLabels[h])?u:[u],{w:Eb(l,c.string,u),h:u.length*c.lineHeight});r[h]=p;const m=Bv(t.getIndexAngle(h)+s),g=Math.round(Dv(m));ik(n,e,m,rk(g,d.x,p.w,0,180),rk(g,d.y,p.h,90,270))}var l,c,u;t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=function(t,e,n){const r=[],i=t._pointLabels.length,o=t.options,a=nk(o)/2,s=t.drawingArea,l=o.pointLabels.centerPointLabels?wv/i:0;for(let o=0;o<i;o++){const i=t.getPointPosition(o,s+a+n[o],l),c=Math.round(Dv(Bv(i.angle+Sv))),u=e[o],h=sk(i.y,u.h,c),d=ok(c),f=ak(i.x,u.w,d);r.push({x:i.x,y:h,textAlign:d,left:f,top:h,right:f+u.w,bottom:h+u.h})}return r}(t,r,i)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,r))}getIndexAngle(t){return Bv(t*(xv/(this._pointLabels.length||1))+Pv(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(Jy(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Jy(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return function(t,e,n){return qb(t,{label:n,index:e,type:"pointLabel"})}(this.getContext(),t,n)}}getPointPosition(t,e,n=0){const r=this.getIndexAngle(t)-Sv+n;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:r,bottom:i}=this._pointLabelItems[t];return{left:e,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),lk(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:r,border:i}=e,o=this._pointLabels.length;let a,s,l;if(e.pointLabels.display&&function(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const e=r.setContext(t.getPointLabelContext(i)),o=Wb(e.font),{x:a,y:s,textAlign:l,left:c,top:u,right:h,bottom:d}=t._pointLabelItems[i],{backdropColor:f}=e;if(!Jy(f)){const t=Ub(e.borderRadius),r=Hb(e.backdropPadding);n.fillStyle=f;const i=c-r.left,o=u-r.top,a=h-c+r.width,s=d-u+r.height;Object.values(t).some((t=>0!==t))?(n.beginPath(),Db(n,{x:i,y:o,w:a,h:s,radius:t}),n.fill()):n.fillRect(i,o,a,s)}Mb(n,t._pointLabels[i],a,s+o.lineHeight/2,o,{color:e.color,textAlign:l,textBaseline:"middle"})}}(this,o),r.display&&this.ticks.forEach(((t,e)=>{if(0!==e){s=this.getDistanceFromCenterForValue(t.value);const n=this.getContext(e),a=r.setContext(n),l=i.setContext(n);!function(t,e,n,r,i){const o=t.ctx,a=e.circular,{color:s,lineWidth:l}=e;!a&&!r||!s||!l||n<0||(o.save(),o.strokeStyle=s,o.lineWidth=l,o.setLineDash(i.dash),o.lineDashOffset=i.dashOffset,o.beginPath(),lk(t,n,a,r),o.closePath(),o.stroke(),o.restore())}(this,a,s,o,l)}})),n.display){for(t.save(),a=o-1;a>=0;a--){const r=n.setContext(this.getPointLabelContext(a)),{color:i,lineWidth:o}=r;o&&i&&(t.lineWidth=o,t.strokeStyle=i,t.setLineDash(r.borderDash),t.lineDashOffset=r.borderDashOffset,s=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(a,s),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((r,a)=>{if(0===a&&!e.reverse)return;const s=n.setContext(this.getContext(a)),l=Wb(s.font);if(i=this.getDistanceFromCenterForValue(this.ticks[a].value),s.showLabelBackdrop){t.font=l.string,o=t.measureText(r.label).width,t.fillStyle=s.backdropColor;const e=Hb(s.backdropPadding);t.fillRect(-o/2-e.left,-i-l.size/2-e.top,o+e.width,l.size+e.height)}Mb(t,r.label,0,-i,l,{color:s.color})})),t.restore()}drawTitle(){}}const uk={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},hk=Object.keys(uk);function dk(t,e){return t-e}function fk(t,e){if(Jy(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:o}=t._parseOpts;let a=e;return"function"==typeof r&&(a=r(a)),ev(a)||(a="string"==typeof r?n.parse(a,r):n.parse(a)),null===a?null:(i&&(a="week"!==i||!Mv(o)&&!0!==o?n.startOf(a,i):n.startOf(a,"isoWeek",o)),+a)}function pk(t,e,n,r){const i=hk.length;for(let o=hk.indexOf(t);o<i-1;++o){const t=uk[hk[o]],i=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(i*t.size))<=r)return hk[o]}return hk[i-1]}function mk(t,e,n){if(n){if(n.length){const{lo:r,hi:i}=Wv(n,e);t[n[r]>=e?n[r]:n[i]]=!0}}else t[e]=!0}function gk(t,e,n){const r=[],i={},o=e.length;let a,s;for(a=0;a<o;++a)s=e[a],i[s]=a,r.push({value:s,major:!1});return 0!==o&&n?function(t,e,n,r){const i=t._adapter,o=+i.startOf(e[0].value,r),a=e[e.length-1].value;let s,l;for(s=o;s<=a;s=+i.add(s,1,r))l=n[s],l>=0&&(e[l].major=!0);return e}(t,r,i,n):r}class yk extends aE{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const n=t.time||(t.time={}),r=this._adapter=new mx(t.adapters.date);r.init(e),dv(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:fk(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function s(t){o||isNaN(t.min)||(r=Math.min(r,t.min)),a||isNaN(t.max)||(i=Math.max(i,t.max))}o&&a||(s(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||s(this.getMinMax(!1))),r=ev(r)&&!isNaN(r)?r:+e.startOf(Date.now(),n),i=ev(i)&&!isNaN(i)?i:+e.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=function(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}(r,i,this.max);return this._unit=e.unit||(n.autoSkip?pk(e.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(t,e,n,r,i){for(let o=hk.length-1;o>=hk.indexOf(n);o--){const n=hk[o];if(uk[n].common&&t._adapter.diff(i,r,n)>=e-1)return n}return hk[n?hk.indexOf(n):0]}(this,o.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(t){for(let e=hk.indexOf(t)+1,n=hk.length;e<n;++e)if(uk[hk[e]].common)return hk[e]}(this._unit):void 0,this.initOffsets(r),t.reverse&&o.reverse(),gk(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(t=[]){let e,n,r=0,i=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),r=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,n=this.getDecimalForValue(t[t.length-1]),i=1===t.length?n:(n-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;r=Uv(r,0,o),i=Uv(i,0,o),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const t=this._adapter,e=this.min,n=this.max,r=this.options,i=r.time,o=i.unit||pk(i.minUnit,e,n,this._getLabelCapacity(e)),a=rv(r.ticks.stepSize,1),s="week"===o&&i.isoWeekday,l=Mv(s)||!0===s,c={};let u,h,d=e;if(l&&(d=+t.startOf(d,"isoWeek",s)),d=+t.startOf(d,l?"day":o),t.diff(n,e,o)>1e5*a)throw new Error(e+" and "+n+" are too far apart with stepSize of "+a+" "+o);const f="data"===r.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+t.add(u,a,o),h++)mk(c,u,f);return u!==n&&"ticks"!==r.bounds&&1!==h||mk(c,u,f),Object.keys(c).sort(((t,e)=>t-e)).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const n=this.options.time.displayFormats,r=this._unit,i=e||n[r];return this._adapter.format(t,i)}_tickFormatFunction(t,e,n,r){const i=this.options,o=i.ticks.callback;if(o)return ov(o,[t,e,n],this);const a=i.time.displayFormats,s=this._unit,l=this._majorUnit,c=s&&a[s],u=l&&a[l],h=n[e],d=l&&u&&h&&h.major;return this._adapter.format(t,r||(d?u:c))}generateTickLabels(t){let e,n,r;for(e=0,n=t.length;e<n;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,r=Pv(this.isHorizontal()?e.maxRotation:e.minRotation),i=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:n*i+a*o,h:n*o+a*i}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,r=n[e.unit]||n.millisecond,i=this._tickFormatFunction(t,0,gk(this,[t],this._majorUnit),r),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,e=r.length;t<e;++t)n=n.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const r=this.getLabels();for(e=0,n=r.length;e<n;++e)t.push(fk(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Qv(t.sort(dk))}}function vk(t,e,n){let r,i,o,a,s=0,l=t.length-1;n?(e>=t[s].pos&&e<=t[l].pos&&({lo:s,hi:l}=$v(t,"pos",e)),({pos:r,time:o}=t[s]),({pos:i,time:a}=t[l])):(e>=t[s].time&&e<=t[l].time&&({lo:s,hi:l}=$v(t,"time",e)),({time:r,pos:o}=t[s]),({time:i,pos:a}=t[l]));const c=i-r;return c?o+(a-o)*(e-r)/c:o}var bk=Object.freeze({__proto__:null,CategoryScale:class extends aE{static id="category";static defaults={ticks:{callback:G_}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:r}of e)t[n]===r&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Jy(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:Uv(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:function(t,e,n,r){const i=t.indexOf(e);return-1===i?((t,e,n,r)=>("string"==typeof e?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,r):i!==t.lastIndexOf(e)?n:i}(n,t,rv(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===t&&e===i.length-1?i:i.slice(t,e+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let n=t;n<=e;n++)r.push({value:n});return r}getLabelForValue(t){return G_.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}},LinearScale:Y_,LogarithmicScale:ek,RadialLinearScale:ck,TimeScale:yk,TimeSeriesScale:class extends yk{static id="timeseries";static defaults=yk.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=vk(e,this.min),this._tableRange=vk(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,r=[],i=[];let o,a,s,l,c;for(o=0,a=t.length;o<a;++o)l=t[o],l>=e&&l<=n&&r.push(l);if(r.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(o=0,a=r.length;o<a;++o)c=r[o+1],s=r[o-1],l=r[o],Math.round((c+s)/2)!==l&&i.push({time:l,pos:o/(a-1)});return i}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(vk(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return vk(this._table,n*this._tableRange+this._minPos,!0)}}});const wk=[dx,XE,q_,bk],xk="label";function Ek(t,e){"function"==typeof t?t(e):t&&(t.current=e)}function _k(t,e){t.labels=e}function kk(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xk;const r=[];t.datasets=e.map((e=>{const i=t.datasets.find((t=>t[n]===e[n]));return i&&e.data&&!r.includes(i)?(r.push(i),Object.assign(i,e),i):{...e}}))}function Sk(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xk;const n={labels:[],datasets:[]};return _k(n,t.labels),kk(n,t.datasets,e),n}function Tk(t,n){const{height:r=150,width:i=300,redraw:o=!1,datasetIdKey:a,type:s,data:l,options:c,plugins:u=[],fallbackContent:h,updateMode:d,...f}=t,p=(0,e.useRef)(null),m=(0,e.useRef)(),g=()=>{p.current&&(m.current=new LE(p.current,{type:s,data:Sk(l,a),options:c&&{...c},plugins:u}),Ek(n,m.current))},y=()=>{Ek(n,null),m.current&&(m.current.destroy(),m.current=null)};return(0,e.useEffect)((()=>{!o&&m.current&&c&&function(t,e){const n=t.options;n&&e&&Object.assign(n,e)}(m.current,c)}),[o,c]),(0,e.useEffect)((()=>{!o&&m.current&&_k(m.current.config.data,l.labels)}),[o,l.labels]),(0,e.useEffect)((()=>{!o&&m.current&&l.datasets&&kk(m.current.config.data,l.datasets,a)}),[o,l.datasets]),(0,e.useEffect)((()=>{m.current&&(o?(y(),setTimeout(g)):m.current.update(d))}),[o,c,l.labels,l.datasets,d]),(0,e.useEffect)((()=>{m.current&&(y(),setTimeout(g))}),[s]),(0,e.useEffect)((()=>(g(),()=>y())),[]),e.createElement("canvas",Object.assign({ref:p,role:"img",height:r,width:i},f),h)}const Ck=(0,e.forwardRef)(Tk);function Ik(t,n){return LE.register(n),(0,e.forwardRef)(((n,r)=>e.createElement(Ck,Object.assign({},n,{ref:r,type:t}))))}const Nk=Ik("bar",lx),Ak=Ik("pie",hx);LE.register(...wk);const Ok=function(){var t=mt(),n=t.costFood,r=(t.setCostFood,t.costTraffic),i=(t.setCostTraffic,t.costPlay),o=(t.setCostPlay,t.costOther),a=(t.setCostOther,t.costApparel),s=(t.setCostApparel,t.costHousing),l=(t.setCostHousing,t.costEducate),c=(t.setCostEducate,t.costSavings),u=(t.setCostSavings,localStorage.getItem("cost飲食")),h=localStorage.getItem("cost交通"),d=localStorage.getItem("cost娛樂"),f=localStorage.getItem("cost其他"),p=localStorage.getItem("cost治裝"),m=localStorage.getItem("cost居住"),g=localStorage.getItem("cost教育"),y=localStorage.getItem("cost儲蓄"),v=n+r+i+o+a+s+l+c||u+h+d+f+p+g+m+y,b={labels:["飲食","治裝","居住","交通","教育","娛樂","儲蓄","其他"],datasets:[{label:" $ ",data:[n||u,a||p,s||m,r||h,l||g,i||d,c||y,o||f],backgroundColor:["#753422","#B05B3B","#D79771","#FAD6A5","#7D5A50","#B4846C","#E5B299","#FDF0E0"],hoverBackgroundColor:["#753422","#B05B3B","#D79771","#FAD6A5","#7D5A50","#B4846C","#E5B299","#FDF0E0"],borderWidth:0,hoverOffset:30}]};return e.createElement("div",null,v>0?e.createElement(Ak,{data:b,options:{responsive:!0,plugins:{legend:{position:"left",labels:{font:{size:16,weight:"bold"}}}}},className:"pieChart"}):e.createElement("div",{className:"nodata"},"need more data"))},Mk=function(){var t=mt(),n=t.earnSalary,r=(t.setEarnSalary,t.earnStock),i=(t.setEarnStock,t.earnGift),o=(t.setEarnGift,t.earnOther),a=(t.setEarnOther,localStorage.getItem("earn薪資")),s=localStorage.getItem("earn獲利"),l=localStorage.getItem("earn禮物"),c=localStorage.getItem("earn其他"),u=n+r+i+o||a+s+l+c,h={labels:["薪資","獲利","禮物","其他"],datasets:[{label:" $ ",data:[n||a,r||s,i||l,o||c],backgroundColor:["#3C6255","#61876E","#A6BB8D","#EAE7B1"],hoverBackgroundColor:["#3C6255","#61876E","#A6BB8D","#EAE7B1"],borderWidth:0,hoverOffset:30}]};return e.createElement("div",null,u>0?e.createElement(Ak,{data:h,options:{responsive:!0,plugins:{legend:{position:"left",labels:{font:{size:16,weight:"bold"}}}}},className:"pieChart"}):e.createElement("div",{className:"nodata"},"need more data"))};function Lk(t){return Lk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lk(t)}function Pk(){Pk=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new S(i||[]);return r(a,"_invoke",{value:x(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h={};function d(){}function f(){}function p(){}var m={};l(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==e&&n.call(y,o)&&(m=y);var v=p.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,o,a,s){var l=u(t[r],t,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==Lk(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return i("throw",t,a,s)}))}s(l.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=u(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function T(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,l(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(w.prototype),l(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),l(v,s,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function Dk(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=zk(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Rk(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function Fk(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||zk(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zk(t,e){if(t){if("string"==typeof t)return Vk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vk(t,e):void 0}}function Vk(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const Bk=function(){var t=Fk((0,e.useState)([]),2),n=t[0],r=t[1],i=Fk((0,e.useState)([]),2),o=i[0],a=i[1],s=Fk((0,e.useState)(["01","02","03","04","05","06"]),2),l=s[0];s[1],(0,e.useEffect)((function(){var t=function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Rk(o,r,i,a,s,"next",t)}function s(t){Rk(o,r,i,a,s,"throw",t)}a(void 0)}))}}(Pk().mark((function t(){var e,n,i,o,s,c,u,h,d,f,p,m,g;return Pk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=localStorage.getItem("firstDay"),n=localStorage.getItem("uid"),i=e.split("-")[0],o=[],s=[],c=Dk(l),t.prev=6,c.s();case 8:if((u=c.n()).done){t.next=34;break}if(h=u.value,!e||!n){t.next=32;break}return d=fm(kg,"total",i+"-"+h+"-01"+n),f={totalExpense:0,totalIncome:0,costFood:0,costTraffic:0,costPlay:0,costOther:0,costApparel:0,costHousing:0,costEducate:0,costSavings:0,earnSalary:0,earnStock:0,earnGift:0,earnOther:0},t.prev=14,t.next=17,hg(d);case 17:if(!(p=t.sent).exists()){t.next=25;break}m=p.data().totalExpense,g=p.data().totalIncome,o.push(m),s.push(g),t.next=27;break;case 25:return t.next=27,fg(d,f);case 27:t.next=32;break;case 29:t.prev=29,t.t0=t.catch(14),console.error("Error getting document:",t.t0);case 32:t.next=8;break;case 34:t.next=39;break;case 36:t.prev=36,t.t1=t.catch(6),c.e(t.t1);case 39:return t.prev=39,c.f(),t.finish(39);case 42:r(o),a(s);case 44:case"end":return t.stop()}}),t,null,[[6,36,39,42],[14,29]])})));return function(){return t.apply(this,arguments)}}();t()}),[]);var c=o.map((function(t,e){return t-n[e]})),u={labels:["1月","2月","3月","4月","5月","6月"],datasets:[{type:"line",label:"月結餘",data:c,backgroundColor:"#562B08aa",borderWidth:3,borderColor:"#562B08",pointBorderWidth:7,pointHoverBorderWidth:10},{type:"bar",label:"總收入",data:o,backgroundColor:"#61876Eaa",hoverBackgroundColor:"#61876E",borderWidth:3,borderColor:"#61876Eaa"},{type:"bar",label:"總支出",data:n,backgroundColor:"#B05B3Baa",hoverBackgroundColor:"#B05B3B",borderWidth:3,borderColor:"#B05B3Baa"}]};return e.createElement("div",null,o.some((function(t){return 0!==t}))&&n.some((function(t){return 0!==t}))?e.createElement(Nk,{data:u,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]},responsive:!0,plugins:{legend:{position:"top",labels:{font:{size:16,weight:"bold"}}}}}}):e.createElement("div",{className:"nodata2"},"need more data"))};function jk(t){return jk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jk(t)}function Uk(){Uk=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new S(i||[]);return r(a,"_invoke",{value:x(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h={};function d(){}function f(){}function p(){}var m={};l(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==e&&n.call(y,o)&&(m=y);var v=p.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,o,a,s){var l=u(t[r],t,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==jk(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return i("throw",t,a,s)}))}s(l.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=u(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function T(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,l(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(w.prototype),l(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),l(v,s,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function Hk(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=qk(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Wk(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function $k(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||qk(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qk(t,e){if(t){if("string"==typeof t)return Gk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gk(t,e):void 0}}function Gk(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const Kk=function(){var t=$k((0,e.useState)([]),2),n=t[0],r=t[1],i=$k((0,e.useState)([]),2),o=i[0],a=i[1],s=$k((0,e.useState)(["07","08","09","10","11","12"]),2),l=s[0];s[1],(0,e.useEffect)((function(){var t=function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Wk(o,r,i,a,s,"next",t)}function s(t){Wk(o,r,i,a,s,"throw",t)}a(void 0)}))}}(Uk().mark((function t(){var e,n,i,o,s,c,u,h,d,f,p,m,g;return Uk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=localStorage.getItem("firstDay"),n=localStorage.getItem("uid"),i=e.split("-")[0],o=[],s=[],c=Hk(l),t.prev=6,c.s();case 8:if((u=c.n()).done){t.next=34;break}if(h=u.value,!e||!n){t.next=32;break}return d=fm(kg,"total",i+"-"+h+"-01"+n),f={totalExpense:0,totalIncome:0,costFood:0,costTraffic:0,costPlay:0,costOther:0,costApparel:0,costHousing:0,costEducate:0,costSavings:0,earnSalary:0,earnStock:0,earnGift:0,earnOther:0},t.prev=14,t.next=17,hg(d);case 17:if(!(p=t.sent).exists()){t.next=25;break}m=p.data().totalExpense,g=p.data().totalIncome,o.push(m),s.push(g),t.next=27;break;case 25:return t.next=27,fg(d,f);case 27:t.next=32;break;case 29:t.prev=29,t.t0=t.catch(14),console.error("Error getting document:",t.t0);case 32:t.next=8;break;case 34:t.next=39;break;case 36:t.prev=36,t.t1=t.catch(6),c.e(t.t1);case 39:return t.prev=39,c.f(),t.finish(39);case 42:r(o),a(s);case 44:case"end":return t.stop()}}),t,null,[[6,36,39,42],[14,29]])})));return function(){return t.apply(this,arguments)}}();t()}),[]);var c=o.map((function(t,e){return t-n[e]})),u={labels:["7月","8月","9月","10月","11月","12月"],datasets:[{type:"line",label:"月結餘",data:c,backgroundColor:"#562B08aa",borderWidth:3,borderColor:"#562B08",pointBorderWidth:7,pointHoverBorderWidth:10},{type:"bar",label:"總收入",data:o,backgroundColor:"#61876Eaa",hoverBackgroundColor:"#61876E",borderWidth:3,borderColor:"#61876Eaa"},{type:"bar",label:"總支出",data:n,backgroundColor:"#B05B3Baa",hoverBackgroundColor:"#B05B3B",borderWidth:3,borderColor:"#B05B3Baa"}]};return e.createElement("div",null,o.some((function(t){return 0!==t}))&&n.some((function(t){return 0!==t}))?e.createElement(Nk,{data:u,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]},responsive:!0,plugins:{legend:{position:"top",labels:{font:{size:16,weight:"bold"}}}}}}):e.createElement("div",{className:"nodata2"},"need more data"))},Qk=function(){var t=mt(),n=(t.user,t.setUser),r=t.date;t.setDate,(0,e.useEffect)((function(){var t=Ur(xg,(function(t){n(t),t||(window.location.href="/")}));return function(){return t()}}),[]);var i=(localStorage.getItem("firstDay")||r).substring(0,7);return e.createElement("div",null,e.createElement(Ig,null),e.createElement("div",{className:"keeperContainer2"},e.createElement("div",null),e.createElement("div",{className:"kb2"},e.createElement("span",{className:"kmonth2"}," ",i," "),e.createElement("div",{className:"monthItem"},e.createElement("div",{className:"monthIncome"},e.createElement("div",null,"總收入"),e.createElement("div",null,localStorage.getItem("totalIncome"))),e.createElement("div",{className:"monthExpense"},e.createElement("div",null,"總支出"),e.createElement("div",null,localStorage.getItem("totalExpense"))),e.createElement("div",{className:"monthTotal"},e.createElement("div",null,"月結餘"),e.createElement("div",null,localStorage.getItem("totalIncome")-localStorage.getItem("totalExpense"))))),e.createElement("div",null)),e.createElement("div",{className:"chartContainer"},e.createElement("div",null),e.createElement("div",{className:"cc"},e.createElement("div",{className:"chartBoard"},e.createElement("div",{className:"chartTitle"},"收入類別月比例"),e.createElement("div",{className:"pie"},e.createElement(Mk,null))),e.createElement("div",{className:"chartBoard"},e.createElement("div",{className:"chartTitle"},"支出類別月比例"),e.createElement("div",{className:"pie"},e.createElement(Ok,null))),e.createElement("div",{className:"chartBoard"},e.createElement("div",{className:"chartTitle"},"上半年度結餘分析"),e.createElement("div",{className:"bar"},e.createElement(Bk,null))),e.createElement("div",{className:"chartBoard"},e.createElement("div",{className:"chartTitle"},"下半年度結餘分析"),e.createElement("div",{className:"bar"},e.createElement(Kk,null)))),e.createElement("div",null)))};var Yk=i(507),Xk={};function Jk(t){return Jk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jk(t)}function Zk(){Zk=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new S(i||[]);return r(a,"_invoke",{value:x(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h={};function d(){}function f(){}function p(){}var m={};l(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==e&&n.call(y,o)&&(m=y);var v=p.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,o,a,s){var l=u(t[r],t,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==Jk(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return i("throw",t,a,s)}))}s(l.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=u(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function T(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,l(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(w.prototype),l(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),l(v,s,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function tS(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function eS(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){tS(o,r,i,a,s,"next",t)}function s(t){tS(o,r,i,a,s,"throw",t)}a(void 0)}))}}function nS(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return rS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rS(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rS(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Xk.styleTagTransform=It(),Xk.setAttributes=kt(),Xk.insert=Et().bind(null,"head"),Xk.domAPI=wt(),Xk.insertStyleElement=Tt(),vt()(Yk.Z,Xk),Yk.Z&&Yk.Z.locals&&Yk.Z.locals;const iS=function(){var t=mt(),n=(t.user,t.setUser),r=t.username,i=t.setUsername,o=t.gender,a=t.setGender,s=t.birthday,l=t.setBirthday,c=t.email,u=t.setEmail,h=(t.password,t.setPassword),d=nS((0,e.useState)(!1),2),f=d[0],p=d[1],m=nS((0,e.useState)(!1),2),g=m[0],y=m[1],v=nS((0,e.useState)(!1),2),b=v[0],w=v[1],x=nS((0,e.useState)(""),2),E=x[0],_=x[1];(0,e.useEffect)((function(){var t=Ur(xg,(function(t){if(n(t),t){console.log(t.uid);var e=t.displayName,r=JSON.parse(e);i(r.username),a(r.gender),l(r.birthday),u(t.email),h(t.password)}else window.location.href="/"}));return function(){return t()}}),[]);var k=nS((0,e.useState)(""),2),S=k[0],T=k[1],C=nS((0,e.useState)(""),2),I=C[0],N=C[1],A=nS((0,e.useState)(""),2),O=A[0],M=A[1],L=function(){var t=eS(Zk().mark((function t(){return Zk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ur(xg,(function(t){if(n(t),""!=S.trim()){var e={username:S,gender:o,birthday:s};jr(t,{displayName:JSON.stringify(e)}).then((function(){console.log("ok"),localStorage.setItem("username",S),p(!1),i(S)})).catch((function(t){console.log(t.message)}))}}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),P=function(){var t=eS(Zk().mark((function t(){return Zk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ur(xg,(function(t){if(n(t),""!=I){var e={username:r||localStorage.getItem("username"),gender:I,birthday:s};jr(t,{displayName:JSON.stringify(e)}).then((function(){console.log("ok"),localStorage.setItem("gender",I),y(!1),a(I)})).catch((function(t){console.log(t.message)}))}}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),D=function(){var t=eS(Zk().mark((function t(){return Zk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ur(xg,(function(t){if(n(t),""!=O){var e={username:r||localStorage.getItem("username"),gender:o,birthday:O};jr(t,{displayName:JSON.stringify(e)}).then((function(){console.log("ok"),localStorage.setItem("birthday",O),w(!1),l(O)})).catch((function(t){console.log(t.message)}))}}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return e.createElement("div",null,e.createElement(Ig,null),e.createElement("div",{className:"keeperContainer2"},e.createElement("div",null),e.createElement("div",{className:"kb2"},e.createElement("div",{className:"userbg"},"Welcome, ",r," !")),e.createElement("div",null)),e.createElement("div",{className:"trackerContainer"},e.createElement("div",null),e.createElement("div",{className:"userbd1"},e.createElement("div",{className:"userbd2"},e.createElement("div",{className:"userbd3"},e.createElement("div",{className:"ut"},"PROFILE"),e.createElement("div",{className:"ut2"},e.createElement("div",{className:"userTitle"},"名稱"),e.createElement("div",{className:"userInfo"},f?e.createElement(e.Fragment,null,e.createElement("input",{className:"userEdit",type:"text",placeholder:"請輸入新名稱",required:!0,minLength:1,maxLength:10,onChange:function(t){return T(t.target.value)}}),e.createElement("button",{className:"btntick",onClick:L},"✔")):e.createElement(e.Fragment,null,e.createElement("span",null,r||localStorage.getItem("username")),e.createElement(uy,{className:"editicon2",size:20,onClick:function(){return p(!0)}})))),e.createElement("div",{className:"ut2"},e.createElement("div",{className:"userTitle"},"性別"),e.createElement("div",{className:"userInfo"},g?e.createElement(e.Fragment,null,e.createElement("select",{className:"userEdit",placeholder:"select gender",onChange:function(t){return N(t.target.value)}},e.createElement("option",{value:""},"請選擇性別"),e.createElement("option",{value:"男",default:!0},"男"),e.createElement("option",{value:"女"},"女")),e.createElement("button",{className:"btntick",onClick:P},"✔")):e.createElement(e.Fragment,null,e.createElement("span",null,o||localStorage.getItem("gender")),e.createElement(uy,{className:"editicon2",size:20,onClick:function(){return y(!0)}})))),e.createElement("div",{className:"ut2"},e.createElement("div",{className:"userTitle"},"生日"),e.createElement("div",{className:"userInfo"},b?e.createElement(e.Fragment,null,e.createElement("input",{className:"userEdit",type:"date",min:"1930-01-01",max:(new Date).toISOString().split("T")[0],onChange:function(t){return M(t.target.value)}}),e.createElement("button",{className:"btntick",onClick:D},"✔")):e.createElement(e.Fragment,null,e.createElement("span",null,s||localStorage.getItem("birthday")),e.createElement(uy,{className:"editicon2",size:20,onClick:function(){return w(!0)}}))))),e.createElement("div",{className:"userbd3"},e.createElement("div",{className:"ut"},"ACCOUNT"),e.createElement("div",{className:"ut2"},e.createElement("div",{className:"userTitle"},"電子信箱"),e.createElement("div",{className:"userInfo"},e.createElement("span",null,c||localStorage.getItem("email")))),e.createElement("div",{className:"ut2"},e.createElement("div",{className:"userTitle"},"密碼"),e.createElement("button",{className:"resetbtn",onClick:function(){zr(Qi(),c).then((function(){_("信件已寄出"),console.log("Password reset email sent")})).catch((function(t){_(t.message.split("/")[1].split(")")[0]),console.log(t.message)}))}},"重設密碼"),e.createElement("label",{className:"notice"},E)),e.createElement("div",{className:"ut2"},e.createElement("div",{className:"userTitle"},"connect with google"),e.createElement("img",{className:"connectbtn",src:localStorage.getItem("pic")||"https://cdn-icons-png.flaticon.com/512/179/179376.png"}))))),e.createElement("div",null)))};var oS=i(761),aS={};aS.styleTagTransform=It(),aS.setAttributes=kt(),aS.insert=Et().bind(null,"head"),aS.domAPI=wt(),aS.insertStyleElement=Tt(),vt()(oS.Z,aS),oS.Z&&oS.Z.locals&&oS.Z.locals;var sS=i(6),lS={};lS.styleTagTransform=It(),lS.setAttributes=kt(),lS.insert=Et().bind(null,"head"),lS.domAPI=wt(),lS.insertStyleElement=Tt(),vt()(sS.Z,lS),sS.Z&&sS.Z.locals&&sS.Z.locals;const cS=function(){var t=mt(),n=(t.showLoginForm,t.setShowLoginForm),r=(t.showLogin,t.setShowLogin);return e.createElement("div",null,e.createElement("div",null,e.createElement("nav",{class:"navbar"},e.createElement("ul",{class:"navbar-nav"},e.createElement("li",{class:"logo"},e.createElement("label",{class:"nav-link"},e.createElement(ct,{to:"/",className:"link"},e.createElement("span",{class:"link-text"},e.createElement("span",{className:"username"},"HELLO"))),e.createElement($t,{size:30,color:"#000"}))),e.createElement("div",{className:"link2",onClick:function(){n(!0),r(!0)}},e.createElement("label",{class:"nav-link"},e.createElement(Ut,{size:30}),e.createElement("span",{class:"link-text"},"LOGIN"))),e.createElement("div",{className:"link2",onClick:function(){n(!0),r(!1)}},e.createElement("label",{class:"nav-link"},e.createElement(ly,{size:30}),e.createElement("span",{class:"link-text"},"SINGUP")))))))};function uS(t){return Ft({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r\n\tc0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r\n\tc0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}},{tag:"path",attr:{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r\n\tC34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}},{tag:"path",attr:{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r\n\tc-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}},{tag:"path",attr:{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r\n\tc0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"}}]})(t)}function hS(t){return hS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hS(t)}function dS(){dS=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new S(i||[]);return r(a,"_invoke",{value:x(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h={};function d(){}function f(){}function p(){}var m={};l(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==e&&n.call(y,o)&&(m=y);var v=p.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,o,a,s){var l=u(t[r],t,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==hS(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return i("throw",t,a,s)}))}s(l.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=u(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function T(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,l(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(w.prototype),l(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),l(v,s,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function fS(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function pS(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){fS(o,r,i,a,s,"next",t)}function s(t){fS(o,r,i,a,s,"throw",t)}a(void 0)}))}}function mS(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return gS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gS(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gS(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const yS=function(){var t=mt(),n=(t.user,t.setUser),r=t.showLoginForm,i=t.setShowLoginForm,o=t.showLogin,a=t.setShowLogin,s=function(){a(!0)},l=function(){a(!1)},c=mS((0,e.useState)(""),2),u=c[0],h=c[1],d=mS((0,e.useState)(""),2),f=d[0],p=d[1],m=mS((0,e.useState)(""),2),g=m[0],y=m[1],v=mS((0,e.useState)(""),2),b=v[0],w=v[1],x=mS((0,e.useState)(""),2),E=x[0],_=x[1],k=mS((0,e.useState)("test@test.com"),2),S=k[0],T=k[1],C=mS((0,e.useState)("test1234"),2),I=C[0],N=C[1],A=mS((0,e.useState)(""),2),O=A[0],M=A[1],L=mS((0,e.useState)(""),2),P=L[0],D=L[1],R=mS((0,e.useState)(!1),2),F=R[0],z=R[1];(0,e.useEffect)((function(){var t=Ur(xg,(function(t){n(t),t?(D("登入成功"),z(!0),i(!1)):(console.log(t),z(!1))}));return function(){return t()}}),[]);var V=function(){var t=pS(dS().mark((function t(){var e,n;return dS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u&&b&&E){t.next=4;break}M("請輸入所有欄位"),t.next=22;break;case 4:return t.prev=4,t.next=7,Vr(xg,f,g);case 7:return e=t.sent,console.log(e),n={username:u,gender:b,birthday:E},t.next=12,jr(e.user,{displayName:JSON.stringify(n)});case 12:console.log(e.user),console.log(n),M("註冊成功"),window.location.href="/keeper",t.next=22;break;case 18:t.prev=18,t.t0=t.catch(4),M(t.t0.message.split("/")[1].split(")")[0]),console.log(t.t0.message);case 22:case"end":return t.stop()}}),t,null,[[4,18]])})));return function(){return t.apply(this,arguments)}}(),B=function(){var t=pS(dS().mark((function t(){var e;return dS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(S&&I){t.next=4;break}D("請輸入所有欄位"),t.next=18;break;case 4:return t.prev=4,t.next=7,Br(xg,S,I);case 7:e=t.sent,console.log(e),console.log(u,b,E),D("登入成功"),window.location.href="/keeper",t.next=18;break;case 14:t.prev=14,t.t0=t.catch(4),D(t.t0.message.split("/")[1].split(")")[0]),console.log(t.t0.message);case 18:case"end":return t.stop()}}),t,null,[[4,14]])})));return function(){return t.apply(this,arguments)}}(),j=function(){var t=pS(dS().mark((function t(){return dS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.clear(),t.next=3,Hr(xg);case 3:window.location.href="/";case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return e.createElement("div",null,F?e.createElement(Ig,null):e.createElement(cS,null),e.createElement("div",{className:"keeperContainer"},e.createElement("div",null),e.createElement("div",{className:"kb"},e.createElement("span",{className:"projectName"}),F?e.createElement(e.Fragment,null,e.createElement("button",{className:"lbtn",onClick:j},"登出系統")):e.createElement(e.Fragment,null,e.createElement("button",{className:"lbtn",onClick:function(){return i(!r)}},r?"關閉介面":"點此登入")),r&&e.createElement(e.Fragment,null,o?e.createElement(e.Fragment,null,e.createElement("div",{className:"kform2"},e.createElement("div",{className:"login"},e.createElement("button",{className:"loginbtn",onClick:s},"login")),e.createElement("div",{className:"signup"},e.createElement("button",{className:"signupbtn",onClick:l},"signup")),e.createElement("div",null,e.createElement("input",{type:"email",className:"loginEmail",placeholder:"電子信箱",value:S,onChange:function(t){return T(t.target.value)},required:!0}),e.createElement("div",{className:"pw"},e.createElement("div",null),e.createElement("input",{type:"password",className:"loginPassword",placeholder:"密碼",value:I,onChange:function(t){return N(t.target.value)},required:!0}),e.createElement("button",{className:"rpbtn",onClick:function(){S?zr(Qi(),S).then((function(){D("重設密碼信件已寄出"),console.log("Password reset email sent")})).catch((function(t){D(t.message.split("/")[1].split(")")[0]),console.log(t.message)})):D("請輸入電子信箱")}},"忘記密碼"),e.createElement("div",null)),e.createElement("button",{className:"loginFormBtn",onClick:B},"登入"),e.createElement("div",{className:"notice"},P),e.createElement("div",{className:"dashlogin"}),e.createElement("div",{className:"loginThird"},e.createElement("div",{className:"loginWith"},"or login with "),e.createElement("div",{className:"loginGoogle",onClick:_g},e.createElement(uS,{size:30,className:"iconG"}))))),e.createElement("div",{className:"formbkg"})):e.createElement(e.Fragment,null,e.createElement("div",{className:"kform3"},e.createElement("div",{className:"login"},e.createElement("button",{className:"loginbtn",onClick:s},"login")),e.createElement("div",{className:"signup"},e.createElement("button",{className:"signupbtn",onClick:l},"signup")),e.createElement("div",null,e.createElement("div",{className:"signupLayout"},e.createElement("div",null),e.createElement("input",{className:"signupUsername",type:"text",placeholder:"名稱",required:!0,minLength:1,maxLength:10,onChange:function(t){return h(t.target.value)}}),e.createElement("select",{className:"signupGender",value:b,placeholder:"性別",onChange:function(t){return w(t.target.value)}},e.createElement("option",{value:""},"性別"),e.createElement("option",{value:"男"},"男"),e.createElement("option",{value:"女"},"女")),e.createElement("div",null)),e.createElement("input",{className:"signupBirthday",placeholder:"生日",type:"date",min:"",max:(new Date).toISOString().split("T")[0],onChange:function(t){return _(t.target.value)}}),e.createElement("input",{type:"email",className:"signupEmail",placeholder:"電子信箱",onChange:function(t){return p(t.target.value)},required:!0}),e.createElement("input",{type:"password",className:"signupPassword",placeholder:"密碼(至少6位)",onChange:function(t){return y(t.target.value)},required:!0}),e.createElement("button",{className:"loginFormBtn",onClick:V},"註冊"),e.createElement("div",{className:"notice"},O))),e.createElement("div",{className:"formbkg"}))),e.createElement("div",null))))},vS=i.p+"fe208a0b9e5221608d49769d588a281d.gif",bS=i.p+"c083f2bd5f676db896ce66734d3f4bad.gif",wS=i.p+"d2d386cb15ff16a3b5a15ae8e87c1471.gif",xS=function(){return e.createElement("div",null,e.createElement(yS,null),e.createElement("div",{className:"coverContainer"},e.createElement("div",null),e.createElement("div",{className:"ca"},e.createElement("div",{className:"coverCard1"},e.createElement("div",{className:"coverTitle"},"Budget Tracker"),e.createElement("div",{className:"coverDetail"},"If you want to spend money, you must have a budget first! BUDGET TRACKER is your best helper to start financial management.")),e.createElement("div",{className:"coverCard2"},e.createElement("img",{src:vS,alt:"keeper",className:"img"})))),e.createElement("div",{className:"coverContainer2"},e.createElement("div",null),e.createElement("div",{className:"ca"},e.createElement("div",{className:"coverCard3"},e.createElement("img",{src:bS,alt:"tracker",className:"img2"})),e.createElement("div",{className:"coverCard4"},e.createElement("div",{className:"coverSubTitle"},"Keeper & Tracker"),e.createElement("div",{className:"coverSubDetail"},"Allocate income properly to each spending category, set a budget for each month's expenses in advance, and prevent excessive spending from leading to debt."))),e.createElement("div",null)),e.createElement("div",{className:"coverContainer3"},e.createElement("div",null),e.createElement("div",{className:"ca"},e.createElement("div",{className:"coverCard5"},e.createElement("div",{className:"coverSubTitle3"},"Chart"),e.createElement("div",{className:"coverSubDetail3"},"Users can understand the money flow clearly by income/expense category pie charts and the balance charts of current year.")),e.createElement("div",{className:"coverCard6"},e.createElement("img",{src:wS,alt:"chart",className:"img3"}))),e.createElement("div",null)))},ES=function(){return e.createElement(gt,null,e.createElement(nt,null,e.createElement(tt,{path:"/",element:e.createElement(xS,null)}),e.createElement(tt,{path:"/user",element:e.createElement(iS,null)}),e.createElement(tt,{path:"/keeper",element:e.createElement(ty,null)}),e.createElement(tt,{path:"/tracker",element:e.createElement(yy,null)}),e.createElement(tt,{path:"/chart",element:e.createElement(Qk,null)})))};r.createRoot(document.getElementById("root")).render(e.createElement(e.StrictMode,null,e.createElement(st,null,e.createElement(ES,null))))})()})();